"use strict";function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map:undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class)};return _wrapNativeSuper(Class)}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e3){didErr=true;err=_e3},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\web-app\dev\node_modules\js-libs-web\js\js-libs.js
var jsLibs_Class=function(){'use strict';var JSLibs=/*#__PURE__*/function(){function JSLibs(){_classCallCheck(this,JSLibs);var self=this;self._packages={}}_createClass(JSLibs,[{key:"Require",get:function get(){var self=this;return Require}},{key:"exists",value:function exists(packageName){return packageName in self._packages}},{key:"exportModule",value:function exportModule(packageName,modulePath,moduleInitFn){var self=this;if(!(packageName in self._packages))self._packages[packageName]=new Package(self,packageName);self._packages[packageName].addModule(modulePath,moduleInitFn)}},{key:"importModule",value:function importModule(packageName,modulePath){var self=this;if(!(packageName in self._packages)){throw new Error("Package `"+packageName+"` does not exist.")}return self._packages[packageName].importModule(modulePath)}},{key:"require",value:function require(packageName){var self=this;var module=self.importModule(packageName,"index");if(module===Module.DoesNotExist){throw new Error("Module `"+packageName+"` (`"+packageName+":"+"index"+"`) does not exist.")}return module}},{key:"_parsePackagePath",value:function _parsePackagePath(package_path){var self=this;return package_path}}]);return JSLibs}();var Module=/*#__PURE__*/function(){function Module(js_lib_package,modulePath,init_fn){_classCallCheck(this,Module);var self=this;self._package=js_lib_package;self._path=modulePath;self._initFn=init_fn;self._instanceModule=null}_createClass(Module,[{key:"instanceModule",get:function get(){var self=this;if(self._instanceModule===null){var require=new Require(self._package.jsLibs,self._package.name,self._path);self._instanceModule={exports:{}// Module.ExportNotImplemented,
};self._initFn(require.fn,self._instanceModule,self._instanceModule.exports);if(self._instanceModule.exports===Module.ExportNotImplemented){console.log(self._instanceModule);throw new Error("No `exports` found in module `"+self._package.name+"/"+self._path+"`.")}}return self._instanceModule}}]);return Module}();Object.defineProperties(Module,{DoesNotExists:{value:new function Module_DoesNotExist(){_classCallCheck(this,Module_DoesNotExist)}},ExportNotImplemented:{value:{}}});var Package=/*#__PURE__*/function(){function Package(jsLibs,packageName){_classCallCheck(this,Package);var self=this;self.jsLibs=jsLibs;self.name=packageName;self._modules={}}_createClass(Package,[{key:"addModule",value:function addModule(modulePath,moduleInitFn){var self=this;self._modules[modulePath]=new Module(self,modulePath,moduleInitFn)}},{key:"importModule",value:function importModule(modulePath){var self=this;if(modulePath in self._modules)return self._modules[modulePath].instanceModule.exports;modulePath+="/index";if(modulePath in self._modules)return self._modules[modulePath].instanceModule.exports;return Module.DoesNotExist}}]);return Package}();var Require=/*#__PURE__*/function(){function Require(jsLibs){var packageName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var current_path=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;_classCallCheck(this,Require);var self=this;self._packageName=packageName;self._currentPath_Array=null;self._fn=function(import_path){var import_info=self._resolveImportInfo(import_path);var module=jsLibs.importModule(import_info.packageName,import_info.modulePath);if(module===Module.DoesNotExist){throw new Error("Module `"+import_path+"` (`"+import_info.packageName+":"+import_info.modulePath+"`) does not exist.")}return module};if(current_path!==null){self._currentPath_Array=current_path.split("/");self._currentPath_Array.pop()}}_createClass(Require,[{key:"fn",get:function get(){var self=this;return self._fn}},{key:"_resolveImportInfo",value:function _resolveImportInfo(import_path){var self=this;var import_path_array=import_path.split("/");/* Import Package */if(import_path_array[0]!=="."&&import_path_array[0]!==".."){return{packageName:import_path_array[0],modulePath:"index"}}if(self._packageName===null)throw new Error("Cannot import module outside of package.");/* Import Module */var modulePath_array=self._currentPath_Array.slice();for(var i=0;i<import_path_array.length;i++){if(import_path_array[i]===".")continue;if(import_path_array[i]===".."){modulePath_array.pop();continue}modulePath_array.push(import_path_array[i])}if(modulePath_array.length===0)modulePath_array.push("index");else if(modulePath_array[modulePath_array.length-1]==="")modulePath_array[modulePath_array.length-1]="index";return{packageName:self._packageName,modulePath:modulePath_array.join("/")}}}]);return Require}();return JSLibs}();var jsLibs=new jsLibs_Class;// const require = (new jsLibs.Require(jsLibs)).fn;
// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\core\Main.js
jsLibs.exportModule("core","Main",function(require,module,exports){'use strict';var electron=requireNode("electron"),path=requireNode("path"),spkMessages=require("spk-messages"),spocky=require("spocky"),$layouts=require("./$layouts");var Main=/*#__PURE__*/function(_spocky$Module){_inherits(Main,_spocky$Module);var _super=_createSuper(Main);function Main(){var _this;_classCallCheck(this,Main);_this=_super.call(this);_this._dBoulderBetas=[];_this._dBoulderBetas_Order=[];_this._clipInfos=[];_this._boulderBetas_Sortable=null;_this.l=new $layouts.Main;if(BuildType==="dev")electron.ipcRenderer.send("Debug_OpenConsole");_this.msgs=new spkMessages.Messages({modulePath:BuildType==="rel"?"web-app/dist/node_modules/spk-messages/":"../web-app/dev/node_modules/spk-messages/"});_this.l.$holders.msgs.$views=_this.msgs;_this.setView_Start();_this.l.$elems.CreateBoulderBetasVideo.addEventListener("click",function(evt){evt.preventDefault();electron.ipcRenderer.send("BoulderBetas_SelectFiles")});electron.ipcRenderer.on("BoulderBetas_FilesSelected",function(evt,filePaths){_this.setView_BoulderBetas(filePaths)});_this.l.$elems.CreateClip.addEventListener("click",function(evt){evt.preventDefault();var dBoulderBetas_Sorted=[];var _iterator=_createForOfIteratorHelper(_this._dBoulderBetas_Order),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var order=_step.value;dBoulderBetas_Sorted.push({Name:_this.l.$elems.$get("BoulderBeta_Name",[order]).value,FilePath:_this._dBoulderBetas[order].FilePath})}}catch(err){_iterator.e(err)}finally{_iterator.f()}electron.ipcRenderer.send("BoulderBetas_ClipLocation_Select")});electron.ipcRenderer.on("BoulderBetas_ClipLocation_Selected",function(evt,clipFilePath){_this.setView_CreatingClip();electron.ipcRenderer.send("BoulderBetas_Clip_Create",_this._dBoulderBetas,clipFilePath)});electron.ipcRenderer.on("BoulderBetas_Clip_Created",function(evt,result){_this._clipInfos=result.clipInfos;var ytDescription=_this._getYTDescription(result.clipInfos);_this.setView_ClipCreated(ytDescription)});_this.l.$elems.CopyYTDescription.addEventListener("click",function(evt){evt.preventDefault();_this.l.$elems.YTDescription.select();document.execCommand("copy")});_this.l.$elems.CreateQRCodes.addEventListener("click",function(evt){evt.preventDefault();var ytLink=_this.l.$elems.YTLink.value;if(ytLink===""){_this.msgs.showMessage_Failure("YT Link is empty.");return}electron.ipcRenderer.send("BoulderBetas_QRCodesLocation_Select",_this._dBoulderBetas)});electron.ipcRenderer.on("BoulderBetas_QRCodesLocation_Selected",function(evt,qrCodesLocation){_this.setView_CreatingQRCodes();var ytLink=_this.l.$elems.YTLink.value;electron.ipcRenderer.send("BoulderBetas_QRCodes_Create",_this._clipInfos,ytLink,qrCodesLocation)});electron.ipcRenderer.on("BoulderBetas_QRCodes_Created",function(evt){_this.msgs.showMessage_Success("QR Codes Created","",function(){_this.setView_Start()})});_this.$view=_this.l;return _this}_createClass(Main,[{key:"setView_BoulderBetas",value:function setView_BoulderBetas(filePaths){var _this2=this;this._dBoulderBetas=[];for(var i=0;i<filePaths.length;i++){this._dBoulderBetas.push({Name:path.basename(filePaths[i]).split(".").slice(0,-1).join("."),FilePath:filePaths[i]});this._dBoulderBetas_Order.push(i)}this.l.$fields.BoulderBetas=this._dBoulderBetas;this.l.$fields.Display="BoulderBetas";this._boulderBetas_Sortable=new Sortable(this.l.$elems.BoulderBetas,{animation:120,handle:".handle",onEnd:function onEnd(evt){var tempArr=_this2._dBoulderBetas_Order.splice(evt.oldIndex,1);_this2._dBoulderBetas_Order.splice(evt.newIndex,0,tempArr[0])}})}},{key:"setView_ClipCreated",value:function setView_ClipCreated(ytDescription){this.l.$fields.YTDescription=ytDescription;this.l.$fields.Display="ClipCreated"}},{key:"setView_CreatingClip",value:function setView_CreatingClip(){this.l.$fields.Display="CreatingClip"}},{key:"setView_CreatingQRCodes",value:function setView_CreatingQRCodes(){this.l.$fields.Display="CreatingQRCodes"}},{key:"setView_Start",value:function setView_Start(){this._dBoulderBetas=[];this._dBoulderBetas_Order=[];this._clipInfos=[];this.l.$fields.BoulderBetas=[];this.l.$fields.Display="Start";if(this._boulderBetas_Sortable!==null)this._boulderBetas_Sortable.destroy()}},{key:"_getFormattedTime",value:function _getFormattedTime(time){var minutes=Math.floor(Math.floor(time)/60);var seconds=Math.floor(time)-minutes*60;var seconds_Str="00"+seconds;seconds_Str=seconds_Str.substr(seconds_Str.length-2);return minutes+":"+seconds_Str}},{key:"_getYTDescription",value:function _getYTDescription(clipInfos){/* yt */var ytDescription="";var timeStart=0;for(var i=0;i<clipInfos.length;i++){ytDescription+=(i>0?"\r\n":"")+this._getFormattedTime(timeStart)+" - "+clipInfos[i].name;timeStart+=clipInfos[i].duration}return ytDescription}}]);return Main}(spocky.Module);module.exports=Main});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\core\index.js
jsLibs.exportModule("core","index",function(require,module,exports){'use strict';var abDate=require("ab-date"),abNative=require("ab-native"),abResourcePreloader=require("ab-resource-preloader"),abText=require("ab-text"),js0=require("js0"),spocky=require("spocky"),webABApi=require("web-ab-api"),// langs = require('./langs'),
// pickardo = require('./pickardo'),
$layouts=require("./$layouts");var core_Class=/*#__PURE__*/function(){function core_Class(){_classCallCheck(this,core_Class);this._spk=new spocky.App().config(function($app,$cfg){$cfg.container("app",require("./Main"))})}_createClass(core_Class,[{key:"base",get:function get(){return this._base}},{key:"spk",get:function get(){return this._spk}},{key:"init",value:function init(debug){/* Spocky */spocky.setDebug(debug);webABApi.setDebug(debug);this._spk.init(debug)}}]);return core_Class}();var app=new core_Class;module.exports=app});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\core\$layouts\Main.js
jsLibs.exportModule("core","$layouts/Main",function(require,module,exports){'use strict';var js0=require("js0"),spocky=require("spocky");var Main=/*#__PURE__*/function(_spocky$Layout){_inherits(Main,_spocky$Layout);var _super2=_createSuper(Main);function Main(){var defaultFieldValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Main);js0.args(arguments,[js0.RawObject,js0.Default]);return _super2.call(this,Main.Content,defaultFieldValues)}_createClass(Main,null,[{key:"Content",get:function get(){return[["div",{"class":["container text-center p-5"]},["$",{"_show":["?($Display === 'Start')"]},["button",{"_elem":["CreateBoulderBetasVideo"],"class":["btn btn-primary btn-lg"]},"Create Boulder Betas Video"]],["$",{"_show":["?($Display === 'BoulderBetas')"]},["button",{"_elem":["CreateClip"],"class":["btn btn-primary btn-lg"]},"Create Video"],["div",{"_elem":["BoulderBetas"],"class":["list-group"]},["div",{"_repeat":["BoulderBetas:BoulderBeta"],"class":["list-group-item"]},["div",{"class":["row"]},["div",{"class":["col float-left handle"]},["i",{"class":["fas fa-ellipsis-v float-left"]},"\xA0"]],["div",{"class":["col float-left"]},["input",{"_elem":["BoulderBeta_Name"],"type":["text"],"value":["$BoulderBeta.Name"]}]]],["div",{"class":["row"]},["div",{"class":["col"]},"$BoulderBeta.FilePath"]]]]],["$",{"_show":["?($Display === 'CreatingClip')"]},["h1",{},"Creating video..."]],["$",{"_show":["?($Display === 'ClipCreated')"]},["h3",{},"Video created."],["button",{"_elem":["CopyYTDescription"],"class":["btn btn-primary"]},"Copy YouTube Description"],["textarea",{"_elem":["YTDescription"],"class":["form-control m-2"],"rows":["10"],"style":["min-width: 100%;"]},"$YTDescription"],["p",{},"After uploading video to YouTube paste link here to create qr codes:"],["input",{"_elem":["YTLink"],"type":["text"],"class":["form-control"],"placeholder":["YouTube Link"]}],["button",{"_elem":["CreateQRCodes"],"class":["btn btn-primary"]},"Create QR Codes"]],["$",{"_show":["?($Display === 'CreatingQRCodes')"]},["h1",{},"Creating QR Codes..."]]],["$",{"_holder":["msgs"]}]]}}]);return Main}(spocky.Layout);module.exports=Main;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\core\$layouts\index.js
jsLibs.exportModule("core","$layouts/index",function(require,module,exports){'use strict';var Main=require("./Main");module.exports.Main=Main});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spk-messages\index.js
jsLibs.exportModule("spk-messages","index",function(require,module,exports){'use strict';var js0=require("js0");var spkMessages_Class=/*#__PURE__*/function(){function spkMessages_Class(){var _this3=this;_classCallCheck(this,spkMessages_Class);this._textFn=function(text){return _this3._texts[text]};this._texts={Close:"Close"}}_createClass(spkMessages_Class,[{key:"Messages",get:function get(){return require("./Messages")}},{key:"setTextFn",value:function setTextFn(textFn){js0.args(arguments,"function");this._textFn=textFn}},{key:"text",value:function text(_text){js0.args(arguments,"string");return this._textFn(_text)}}]);return spkMessages_Class}();var spkMessages=new spkMessages_Class;module.exports=spkMessages});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spk-messages\Messages.js
jsLibs.exportModule("spk-messages","Messages",function(require,module,exports){'use strict';var js0=require("js0"),spocky=require("spocky"),spkMessages=require("."),$layouts=require("./$layouts");var Messages=/*#__PURE__*/function(_spocky$Module2){_inherits(Messages,_spocky$Module2);var _super3=_createSuper(Messages);function Messages(){var _this4;var presets=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var layout=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;_classCallCheck(this,Messages);_this4=_super3.call(this);js0.args(arguments,[js0.RawObject,js0.Default],[spocky.Layout,js0.Null,js0.Default]);js0.typeE(presets,js0.Preset({modulePath:["string",js0.Default("/dev/node_modules/spk-messages/")],images:[js0.Preset({loading:["string",js0.NotSet,js0.Default(js0.NotSet)],success:["string",js0.NotSet,js0.Default(js0.NotSet)],failure:["string",js0.NotSet,js0.Default(js0.NotSet)]}),js0.Default({})]}));if(presets.images.loading===js0.NotSet)presets.images.loading=null;if(presets.images.success===js0.NotSet)presets.images.success=presets.modulePath+"images/success.png";if(presets.images.failure===js0.NotSet)presets.images.failure=presets.modulePath+"images/failure.png";_this4.loading_MinTime=500;_this4.loading_Timeout=500;_this4._loading=false;_this4._loading_Start=null;_this4._images=presets.images;_this4._msg=null;_this4._msg_Fn=null;_this4._confirmation=null;_this4._confirmation_Fn=null;_this4._l=layout===null?new $layouts.Messages:layout;_this4._l.$fields.loading.image=_this4._images.loading;_this4._l.$fields.text=function(text){return spkMessages.text(text)};_this4._createElems();_this4.hide();_this4.$view=_this4._l;return _this4}_createClass(Messages,[{key:"hide",value:function hide(){this.hideConfirmation();this.hideLoading();this.hideMessage()}},{key:"hideConfirmation",value:function hideConfirmation(){var result=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this._confirmation.hide();this._l.$fields.confirmation={title:"",text:"",yes:"",no:""};if(this._confirmation_Fn!==null){this._confirmation_Fn(result);this._confirmation_Fn=null}}},{key:"hideLoading",value:function hideLoading(){var _this5=this;this._loading=false;var loadingTimeLeft=1;if(this._loading_Start!==null){loadingTimeLeft=Math.max(this.loading_MinTime-(new Date().getTime()-this._loading_Start),1)}setTimeout(function(){if(_this5._loading)return;_this5._loading_Start=null;_this5._l.$fields.loading={show:false,text:""}},loadingTimeLeft)}},{key:"hideMessage",value:function hideMessage(){this._msg.hide();this._l.$fields.message={image:"",title:"",text:""};if(this._msg_Fn!==null){var msgFn=this._msg_Fn;this._msg_Fn=null;msgFn()}}},{key:"showConfirmation",value:function showConfirmation(title,text,yesText,noText){var fn=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;js0.args(arguments,"string","string","string","string",[js0.Default,js0.Null,"function"]);this._confirmation_Fn=fn;this._l.$fields.confirmation={title:title,text:text,yes:yesText,no:noText};this._confirmation.show()}},{key:"showLoading",value:function showLoading(){var _this6=this;var text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var instant=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;js0.args(arguments,["string",js0.Default],["boolean",js0.Default]);this._loading=true;if(instant){this._loading_Start=new Date().getTime();this._l.$fields.loading={text:text,show:true};return}setTimeout(function(){if(!_this6._loading)return;_this6._loading_Start=new Date().getTime();_this6._l.$fields.loading={text:text,show:true}},this.loading_Timeout)}},{key:"showMessage",value:function showMessage(imageSrc){var title=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var text=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var fn=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;js0.args(arguments,"string",["string",js0.Default],["string",js0.Default],["function",js0.Null,js0.Default]);this._msg_Fn=fn;this._enabled=false;this._l.$fields.message={image:imageSrc,title:title,text:text};this._msg.show()}},{key:"showMessage_Failure",value:function showMessage_Failure(){var title=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var text=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var fn=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;js0.args(arguments,["string",js0.Default],["string",js0.Default],[js0.Default,"function"]);this.showMessage(this._images.failure,title,text,fn)}},{key:"showMessage_Success",value:function showMessage_Success(){var title=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var text=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var fn=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;js0.args(arguments,["string",js0.Default],["string",js0.Default],[js0.Default,"function"]);this.showMessage(this._images.success,title,text,fn)}},{key:"showNotification",value:function showNotification(message){var _this7=this;var faIcon=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this._l.$fields.notification={faIcon:faIcon===null?"fa-info":faIcon,message:message};$(this._l.$elems.notification).fadeIn(function(){setTimeout(function(){$(_this7._l.$elems.notification).fadeOut(function(){_this7._l.$fields.notification={faIcon:"",message:""}})},1500)})}},{key:"_createElems",value:function _createElems(){var _this8=this;this._msg=new bootstrap.Modal(this._l.$elems.msg);this._confirmation=new bootstrap.Modal(this._l.$elems.confirmation);this._l.$elems.msg.addEventListener("click",function(evt){evt.preventDefault();_this8.hideMessage()});this._l.$elems.yes.addEventListener("click",function(evt){evt.preventDefault();_this8.hideConfirmation(true)});this._l.$elems.no.addEventListener("click",function(evt){evt.preventDefault();_this8.hideConfirmation(false)})}}]);return Messages}(spocky.Module);module.exports=Messages;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spk-messages\$layouts\Messages.js
jsLibs.exportModule("spk-messages","$layouts/Messages",function(require,module,exports){'use strict';var js0=require("js0"),spocky=require("spocky");var Messages=/*#__PURE__*/function(_spocky$Layout2){_inherits(Messages,_spocky$Layout2);var _super4=_createSuper(Messages);function Messages(){var defaultFieldValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Messages);js0.args(arguments,[js0.RawObject,js0.Default]);return _super4.call(this,Messages.Content,defaultFieldValues)}_createClass(Messages,null,[{key:"Content",get:function get(){return[["div",{"_elem":["msg"],"class":["modal fade"],"tabindex":["-1"]},["div",{"class":["modal-dialog modal-dialog-scrollable"]},["div",{"class":["modal-content"]},["div",{"class":["modal-header"]},["img",{"_show":["message.image"],"class":["modal-image"],"src":["$message.image"]}],["h5",{"_show":["message.title"],"class":["modal-title"]},"$message.title"],["button",{"type":["button"],"class":["btn-close"],"data-bs-dismiss":["modal"],"aria-label":["Close"]}]],["div",{"_show":["message.text"],"class":["modal-body"]},["p",{},"$message.text"]],["div",{"class":["modal-footer"]},["button",{"type":["button"],"class":["btn btn-primary"],"data-bs-dismiss":["modal"]},"$text('Close')"]]]]],["div",{"_show":["loading.show"],"class":["loader-holder"]},["div",{"class":["d-flex align-items-center"]},["div",{"class":["spinner-border me-3 text-primary"],"role":["status"],"aria-hidden":["true"]}],["strong",{},"$loading.text"]]],["div",{"_elem":["confirmation"],"class":["modal fade"],"tabindex":["-1"]},["div",{"class":["modal-dialog modal-choice"]},["div",{"class":["modal-content"]},["div",{"class":["modal-header"]},["h5",{"_show":["confirmation.title"],"class":["modal-title"]},"$confirmation.title"],["div",{"_show":["confirmation.text"],"class":["modal-body"]},["p",{},"$message.text"]],["button",{"type":["button"],"class":["btn-close"],"data-bs-dismiss":["modal"],"aria-label":["Close"]}]],["div",{"class":["modal-footer"]},["div",{"class":["row"]},["div",{"class":["col"]},["button",{"_elem":["yes"],"type":["button"],"class":["btn btn-secondary w-100"],"data-bs-dismiss":["modal"]},["i",{"class":["fa fa-check i-left"]}],"$confirmation.yes"]],["div",{"class":["col"]},["button",{"_elem":["no"],"type":["button"],"class":["btn btn-primary w-100"]},["i",{"class":["fa fa-times i-left"]}],"$confirmation.no"]]]]]]],["div",{"_elem":["notification"],"class":["notification-holder"],"style":["display: none;"]},["div",{"class":["notification-bg bg-light"]},["i",{"class":["fas ","$notification.faIcon"]}],"\xA0\xA0","$notification.message"]]]}}]);return Messages}(spocky.Layout);module.exports=Messages;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spk-messages\$layouts\index.js
jsLibs.exportModule("spk-messages","$layouts/index",function(require,module,exports){'use strict';var Messages=require("./Messages");module.exports.Messages=Messages});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\web-ab-api\index.js
jsLibs.exportModule("web-ab-api","index",function(require,module,exports){'use strict';var js0=require("js0"),Result=require("./Result");var abApi_Class=/*#__PURE__*/function(){function abApi_Class(){_classCallCheck(this,abApi_Class);this.debug=false;this.requestTimeout=30000}_createClass(abApi_Class,[{key:"Result",get:function get(){return Result}},{key:"json",value:function json(uri,_json,fn){var timeout=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;js0.args(arguments,"string",js0.RawObject,"function",["int",js0.Null,js0.Default]);var json_string=JSON.stringify(_json);if(json_string===null)throw new Error("Cannot parse json.");this.post(uri,{json:json_string},fn,timeout)}},{key:"json_Async",value:function(){var _json_Async=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(uri,json){var _this9=this;var timeout,_args=arguments;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:timeout=_args.length>2&&_args[2]!==undefined?_args[2]:null;js0.args(_args,"string",js0.RawObject,["int",js0.Null,js0.Default]);return _context.abrupt("return",new Promise(function(resolve,reject){_this9.json(uri,json,function(result){resolve(result)},timeout)}));case 3:case"end":return _context.stop();}}},_callee)}));function json_Async(_x,_x2){return _json_Async.apply(this,arguments)}return json_Async}()},{key:"post",value:function post(uri,fields,fn){var _this10=this;var timeout=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;js0.args(arguments,"string",js0.RawObject,"function",["int",js0.Null,js0.Default]);timeout=timeout===null?this.requestTimeout:timeout;var form_data=new FormData;for(var field_name in fields){form_data.append(field_name,fields[field_name])}var request=new XMLHttpRequest;request.open("POST",uri,true);request.onerror=function(evt){var result=Result.Error("Http request error.");fn(result)};request.onload=function(){if(request.status>=200&&request.status<400){var result=Result.Parse(request.responseText,uri,_this10.debug);if(_this10.debug)console.log("webABApi",uri,fields,result);fn(result)}else{if(status===408)fn(Result.ConnectionError());else{var _result=Result.Error("Http request error.");_result.data.request=request;fn(_result)}}};request.send(form_data)}},{key:"setDebug",value:function setDebug(debug){this.debug=debug}},{key:"upload",value:function upload(uri,json,files,fn){var timeout=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var fields={};for(var file_name in files){if(files[file_name]===null){json[file_name]=null}else{fields[file_name]=files[file_name]}}var json_string=JSON.stringify(json);if(json_string===null)throw new Error("Cannot parse json.");fields.json=json_string;this.post(uri,fields,fn,timeout)}},{key:"upload_Async",value:function(){var _upload_Async=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(uri,json,files){var _this11=this;var timeout,_args2=arguments;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:timeout=_args2.length>3&&_args2[3]!==undefined?_args2[3]:null;js0.args(_args2,"string",js0.RawObject,["int",js0.Null,js0.Default]);return _context2.abrupt("return",new Promise(function(resolve,reject){_this11.upload(uri,json,files,function(result){resolve(result)},timeout)}));case 3:case"end":return _context2.stop();}}},_callee2)}));function upload_Async(_x3,_x4,_x5){return _upload_Async.apply(this,arguments)}return upload_Async}()}]);return abApi_Class}();module.exports=new abApi_Class});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\web-ab-api\Result.js
jsLibs.exportModule("web-ab-api","Result",function(require,module,exports){'use strict';var Result=/*#__PURE__*/function(){function Result(){_classCallCheck(this,Result);this.result=3;this.message="";this.data=null}_createClass(Result,[{key:"isSuccess",value:function isSuccess(){return this.result===0}},{key:"isFailure",value:function isFailure(){return this.result===1}},{key:"isError",value:function isError(){return this.result===2}},{key:"isError_Connection",value:function isError_Connection(){return this.result=3}}],[{key:"Error",value:function Error(message){var result=new Result;result.result=2;result.message=message;result.data={};return result}},{key:"Error_Connection",value:function Error_Connection(message){var result=new Result;result.result=3;result.message=message;result.data={};return result}},{key:"Parse",value:function Parse(dataString,uri){var debug=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var data=null;try{data=JSON.parse(dataString)}catch(err){}if(data===null){var result=Result.Error("Cannot parse json data from: "+uri);result.data.data=dataString;if(debug)console.error(dataString);return result}var result=new Result;if(!("result"in data)){result.result=2;result.message="No result info in json data."}else{result.result=data.result;if("message"in data)result.message=data.message;result.data=data}return result}}]);return Result}();;module.exports=Result});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\App.js
jsLibs.exportModule("spocky","App",function(require,module,exports){'use strict';var js0=require("js0"),// test = require('test'),
// Config = require('./instances/Config'),
// Layout = require('./instances/Layout'),
// Package = require('./instances/Package'),
// Page = require('./instances/Page'),
AppInstance=require("./AppInstance"),Inits=require("./Inits"),Layout=require("./Layout"),Module=require("./Module");var App=/*#__PURE__*/function(){function App(){_classCallCheck(this,App);this._initialized=false;this._inits=new Inits}_createClass(App,[{key:"app",value:function app(appInitFn){js0.args(arguments,"function");this._inits.app.push(appInitFn);return this}},{key:"config",value:function config(configFn){js0.args(arguments,"function");if(this._initialized)throw new Error("App already initialized.");this._inits.configs.push(configFn);return this}// ext(ext_initFn)
// {
//     js0.args(arguments, 'function');
//     this._infos.appInits.push({
//         initFn:ext_initFn,
//     });
// }
},{key:"init",value:function init(){if(this._initialized)throw new Error("`spocky` already initialized.");this._initialized=true;/* Config */new AppInstance(this._inits);return this}// layout(layoutPath, layoutInitFn)
// {
//     js0.args(arguments, 'string', 'function');
//     if (this._initialized)
//         throw new Error('Cannot define layout after initialization.');
//     if (layoutPath in this._inits.layout)
//         throw new Error(`Layout '${layoutPath}' already exists.`);
//     this._inits.layout[layoutPath] = layoutInitFn;
// }
// package(packagePath, packageInitFn)
// {
//     js0.args(arguments, 'string', 'function');
//     if (this._initialized)
//         throw new Error('Cannot define package after initialization.');
//     if (!this._inits.package.has(packagePath))
//         this._inits.package.set(packagePath, []);
//     this._inits.package.get(packagePath).push(packageInitFn);
// }
// _layout(layoutPath, layoutInitPath, raw)
// {
//     js0.args(arguments, 'string', 'function', 'boolean');
//     if (this._initialized)
//         throw new Error('Cannot define layout after initialization.');
//     if (layoutPath in this._infos.layouts) {
//         if (this._$debug)
//             console.warn('Layout `' + layoutPath + '` already exists. Overwriting.');
//     }
//     this._infos.layouts[layoutPath] = {
//         raw: raw,
//         path: layoutPath,
//         initFn: layoutInitPath,
//     };
// }
// _parseUri(uri, push_state)
// {
//     let page_info = this._uri.parse(uri);
//     if (page_info === null)
//         throw new Error(`No page matches uri \`${uri}\`.`);
//     this._setPage(page_info.name, page_info.args, push_state);
// }
}]);return App}();;module.exports=App;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\ConfigInfo.js
jsLibs.exportModule("spocky","ConfigInfo",function(require,module,exports){'use strict';var js0=require("js0");var Config=require("./Config");var Inits=require("./Inits");var ConfigInfo=function ConfigInfo(){_classCallCheck(this,ConfigInfo);Object.defineProperties(this,{containerInfos:{value:new Map}})};module.exports=ConfigInfo});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\Ext.js
jsLibs.exportModule("spocky","Ext",function(require,module,exports){'use strict';var Ext=/*#__PURE__*/function(){function Ext(){_classCallCheck(this,Ext)}_createClass(Ext,[{key:"onParseLayoutNode",value:function onParseLayoutNode(layoutNode){}}]);return Ext}();module.exports=Ext;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\Inits.js
jsLibs.exportModule("spocky","Inits",function(require,module,exports){'use strict';var Inits=function Inits(){_classCallCheck(this,Inits);Object.defineProperties(this,{app:{value:[]},configs:{value:[],writable:true},ext:{value:new Map},layout:{value:new Map},"package":{value:new Map}})};module.exports=Inits});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\Config.js
jsLibs.exportModule("spocky","Config",function(require,module,exports){'use strict';var js0=require("js0");var ConfigInfo=require("../ConfigInfo");var ContainerInfo=require("../ContainerInfo");var Inits=require("../Inits");var Module=require("../Module");var Config=/*#__PURE__*/function(){function Config(configInfo){_classCallCheck(this,Config);js0.args(arguments,ConfigInfo);this._configInfo=configInfo}_createClass(Config,[{key:"container",value:function container(htmlElementId,moduleClass){var moduleArgs=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];js0.args(arguments,"string","function",[Array,js0.Default]);/* Validate HTML Element */var htmlElement=document.getElementById(htmlElementId);if(htmlElement===null)throw new Error("`HtmlElement` with id `".concat(htmlElementId,"` does not exist."));/* Create Container */var containerInfo=new ContainerInfo(htmlElementId,htmlElement,moduleClass,moduleArgs);// /* Validate Module Paths */
// for (let modulePath of containerInfo.modulePath) {            
//     if (!(path_configInfo.packagePath in this._infos.packages))
//         throw new Error(`Module \`${path_configInfo.fullPath}\` package does not exist.`);
// }
this._configInfo.containerInfos.set(containerInfo.id,containerInfo);/* / Create Container */return this}}]);return Config}();module.exports=Config});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\ContainerInfo.js
jsLibs.exportModule("spocky","ContainerInfo",function(require,module,exports){'use strict';var js0=require("js0");// const Module = require('../instances/Module');
var ContainerInfo=function ContainerInfo(containerId,htmlElement,moduleClass,moduleArgs){_classCallCheck(this,ContainerInfo);js0.args(arguments,"string",HTMLElement,"function",Array);Object.defineProperties(this,{id:{value:containerId},htmlElement:{value:htmlElement},moduleClass:{value:moduleClass},moduleArgs:{value:moduleArgs}})};module.exports=ContainerInfo});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\Holder.js
jsLibs.exportModule("spocky","Holder",function(require,module,exports){'use strict';var abLayouts=require("ab-layouts"),js0=require("js0"),Layout=require("./Layout"),Module=require("./Module");var Holder=/*#__PURE__*/function(){function Holder(layoutNode){_classCallCheck(this,Holder);js0.args(arguments,abLayouts.LayoutNode);Object.defineProperties(this,{_layoutNode:{value:layoutNode},_view:{value:null,writable:true}})}// _$activate()
// {
//     if (this._view !== null)
//         this._view._$viewable.activate(this._layoutNode);
// }
_createClass(Holder,[{key:"$view",get:function get(){if(this._view===null)return null;return this._view},set:function set(value){if(!js0.type(value,[require("./Layout"),require("./Module"),js0.Null]))throw new Error("'$view' must be 'Layout', 'Module' or 'Null'.");if(this._$view===null)return;if(this._view!==null)this._view._$viewable.deactivate();this._view=value;if(this._view!==null)this._view._$viewable.activate(this._layoutNode)}}]);return Holder}();module.exports=Holder});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\AppInstance.js
jsLibs.exportModule("spocky","AppInstance",function(require,module,exports){'use strict';var abNodes=require("ab-nodes"),js0=require("js0"),Config=require("./Config"),ConfigInfo=require("./ConfigInfo"),Inits=require("./Inits"),Layout=require("./Layout"),Module=require("./Module"),PathInfo=require("./PathInfo");var AppInstance=function AppInstance(inits){_classCallCheck(this,AppInstance);js0.args(arguments,Inits);var config=new ConfigInfo;Object.defineProperties(this,{_config:{value:new ConfigInfo},_inits:{value:inits},// _jsLibs: { value: new jsLibs_Class(), },
_jsLibs:{value:jsLibs}});/* Confit Init */var cfg=new Config(this._config);var _iterator2=_createForOfIteratorHelper(this._inits.configs),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var configFn=_step2.value;configFn(this,cfg)}/* App Inits */}catch(err){_iterator2.e(err)}finally{_iterator2.f()}var _iterator3=_createForOfIteratorHelper(this._inits.app),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var initFn=_step3.value;initFn(this)}/* Containers Init */}catch(err){_iterator3.e(err)}finally{_iterator3.f()}var _iterator4=_createForOfIteratorHelper(this._config.containerInfos),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _step4$value=_slicedToArray(_step4.value,2),containerId=_step4$value[0],containerInfo=_step4$value[1];var rootNode=new abNodes.RootNode(containerInfo.htmlElement);var moduleArgs=[null];var _iterator5=_createForOfIteratorHelper(containerInfo.moduleArgs),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var arg=_step5.value;moduleArgs.push(arg)}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}var _module=new(Function.prototype.bind.apply(containerInfo.moduleClass,moduleArgs));if(!(_module instanceof Module))throw new Error("Containers '".concat(containerId,"' class is not a Spocky module."));rootNode.activate();_module._$viewable.activate(rootNode)}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}// $create(fullCreatePath)
// {
//     let createPathInfo = new PathInfo(fullCreatePath);
//     let pkg = this.$import(createPathInfo.packagePath);
//     return pkg.$create(createPathInfo.name);
// }
;module.exports=AppInstance;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\Layout.js
jsLibs.exportModule("spocky","Layout",function(require,module,exports){'use strict';var abTextParser=require("ab-text-parser"),js0=require("js0"),LayoutParser=require("./LayoutParser"),Viewable=require("./Viewable");var Layout=/*#__PURE__*/function(){function Layout(layoutContent){var _this12=this;var defaultFieldValues=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Layout);js0.args(arguments,Array,[js0.RawObject,js0.Default]);js0.prop(this,Layout.Viewable,this);var layoutParser=new LayoutParser;var _iterator6=_createForOfIteratorHelper(Layout.Extensions),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var ext=_step6.value;layoutParser.extend(ext)}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}var layoutNode=layoutParser.parse(layoutContent);this._fields=layoutParser.fields;this._$data=layoutParser.data;this._$elems=layoutParser.elems;this._$holders=layoutParser.holders;Object.defineProperties(this,{$fields:{get:function get(){return _this12._fields.$value},set:function set(value){_this12._fields.$value=value}},$data:{value:this._$data},$elems:{value:this._$elems},$holders:{value:this._$holders},_$layoutNode:{value:layoutNode},_$listeners_OnDisplay:{value:[]}});layoutNode.addListener_OnDisplay(function(display){var _iterator7=_createForOfIteratorHelper(_this12._$listeners_OnDisplay),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var listener=_step7.value;listener(display)}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}});for(var fieldName in defaultFieldValues){this.$fields[fieldName]=defaultFieldValues[fieldName]}}_createClass(Layout,[{key:"$onDisplay",value:function $onDisplay(listener){if(this._$viewable.active)listener();this._$listeners_OnDisplay.push(listener)}}],[{key:"Replace",value:function Replace(layoutContent,replaceArr){js0.args(arguments,Array,Array);Layout._Replace_ReplaceInArray(layoutContent,replaceArr)}},{key:"_Replace_ReplaceInArray",value:function _Replace_ReplaceInArray(array,replaceArr){for(var i=0;i<array.length;i++){if(typeof array[i]==="string"){var newString=array[i];var _iterator8=_createForOfIteratorHelper(replaceArr),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var replace=_step8.value;newString=newString.replace(new RegExp(replace[0],"g"),replace[1])}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}var newStringArr=abTextParser.parse(newString);array.splice(i,1);for(var j=0;j<newStringArr.length;j++){array.splice(i+j,0,newStringArr[j])}i+=newStringArr.length-1}else if(js0.type(array[i],Array))Layout._Replace_ReplaceInArray(array[i],replaceArr);else if(js0.type(array[i],js0.RawObject))Layout._Replace_ReplaceInObject(array[i],replaceArr)}}},{key:"_Replace_ReplaceInObject",value:function _Replace_ReplaceInObject(object,replaceArr){for(var key in object){if(js0.type(object[key],"string")){var newString=object[key];var _iterator9=_createForOfIteratorHelper(replaceArr),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var replace=_step9.value;newString=newString.replace(new RegExp(replace[0],"g"),replace[1])}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}object[key]=newString}else if(js0.type(object[key],Array))Layout._Replace_ReplaceInArray(object[key],replaceArr);else if(js0.type(object[key],js0.RawObject))Layout._Replace_ReplaceInObject(object[key],replaceArr)}}}]);return Layout}();module.exports=Layout;Object.defineProperties(Layout,{Extensions:{value:[]},Viewable:{value:/*#__PURE__*/function(_Viewable){_inherits(Layout_Viewable,_Viewable);var _super5=_createSuper(Layout_Viewable);function Layout_Viewable(layout){var _this13;_classCallCheck(this,Layout_Viewable);_this13=_super5.call(this);_this13._layout=layout;return _this13}_createClass(Layout_Viewable,[{key:"__activate",value:function __activate(parentNode){parentNode.pChildren.add(this._layout._$layoutNode);// console.log('Adding child:', this._layout._$layoutNode, 'to', parentNode);
// this._layout._$layoutNode.activate();
}},{key:"__deactivate",value:function __deactivate(parentNode){parentNode.pChildren.remove(this._layout._$layoutNode);// this._layout._$layoutNode.deactivate();
}}]);return Layout_Viewable}(Viewable)}})});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\LayoutParser.FieldInfo.js
jsLibs.exportModule("spocky","LayoutParser.FieldInfo",function(require,module,exports){'use strict';var abFields=require("ab-fields"),abStrings=require("ab-strings"),js0=require("js0"),spocky=require(".");var FieldInfo=/*#__PURE__*/function(){function FieldInfo(fieldsHelper,repeatInfo,fieldPath,includesPrefix){_classCallCheck(this,FieldInfo);js0.args(arguments,require("./LayoutParser.FieldsHelper"),require("./LayoutParser.RepeatInfo"),"string","boolean");this.fieldsHelper=fieldsHelper;this.repeatInfo=repeatInfo;this.fieldDefinitions=[];this.repeatInfo=this.repeatInfo;this.type=null;/* Field */this.field_Path=null;this.field_Parts=null;this.field_Name=null;/* Field Fn */this.fieldFn_ArgFields=null;this.fieldFn_ArgFieldsStr=null;/* Expr */this.expr=null;this.expr_ArgFields=null;if(this.fieldsHelper.isExpression(fieldPath)){this.type=Types.Expression;this.expr=fieldPath.substr(2,fieldPath.length-3);this.expr_ArgFields=[];var re=new RegExp("\\${("+this.fieldsHelper.regexpStrs_FieldName+")}"+"|"+"\\$("+this.fieldsHelper.regexpStrs_FieldName+")","gi");var matches=this.expr.matchAll(re);var _iterator10=_createForOfIteratorHelper(matches),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var match=_step10.value;var fieldMatch=null;if(typeof match[1]!=="undefined"){fieldMatch=match[1]}else{fieldMatch=match[5]}var expr_ArgFieldInfo=this.fieldsHelper.def(repeatInfo,fieldMatch,false,abFields.VarDefinition);this.expr_ArgFields.push({path:fieldMatch,fieldInfo:expr_ArgFieldInfo});var _iterator11=_createForOfIteratorHelper(expr_ArgFieldInfo.fieldDefinitions),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var expr_ArgFieldInfo_FD=_step11.value;this.fieldDefinitions.push(expr_ArgFieldInfo_FD)}}catch(err){_iterator11.e(err)}finally{_iterator11.f()}}}catch(err){_iterator10.e(err)}finally{_iterator10.f()}}else if(this.fieldsHelper.isFieldName(fieldPath,includesPrefix)){fieldPath=this.fieldsHelper.getFieldName(fieldPath,includesPrefix);var _fieldMatch=this.fieldsHelper.matchField(fieldPath);if(typeof _fieldMatch[3]==="undefined"){this.type=Types.Field}else{this.type=Types.Function;this.fieldFn_ArgFields=[];this.fieldFn_ArgStrs=_fieldMatch[3].split(",");var _iterator12=_createForOfIteratorHelper(this.fieldFn_ArgStrs),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var argStr=_step12.value;var _re=new RegExp("\\$"+this.fieldsHelper.regexpStrs_FieldName,"g");var _matches=argStr.matchAll(_re);var _iterator13=_createForOfIteratorHelper(_matches),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var _match=_step13.value;var fieldFn_ArgFieldInfo=this.fieldsHelper.def(repeatInfo,_match[1],false,abFields.VarDefinition);this.fieldFn_ArgFields.push({path:_match[1],fieldInfo:fieldFn_ArgFieldInfo});var _iterator14=_createForOfIteratorHelper(fieldFn_ArgFieldInfo.fieldDefinitions),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var fieldFn_ArgFieldInfo_FD=_step14.value;this.fieldDefinitions.push(fieldFn_ArgFieldInfo_FD)}}catch(err){_iterator14.e(err)}finally{_iterator14.f()}}}catch(err){_iterator13.e(err)}finally{_iterator13.f()}}}catch(err){_iterator12.e(err)}finally{_iterator12.f()}}this.field_Parts=_fieldMatch[1];this.field_Parts=this.field_Parts.split(".");this.field_Name=this.field_Parts[this.field_Parts.length-1]}else throw new Error("Unknown 'FieldInfo' type of: "+fieldPath)}_createClass(FieldInfo,[{key:"getEval",value:function getEval($evalStr,$argFields,$fields,$keys){// return eval($evalStr);
return Function("\"use strict\";return function($argFields, $fields, $keys) {"+"return "+$evalStr+"}")()($argFields,$fields,$keys)}},{key:"getEvalStr",value:function getEvalStr(evalStr,argFields,fields,keys){for(var argIndex=0;argIndex<argFields.length;argIndex++){var _value="$argFields[".concat(argIndex,"].fieldInfo.getValue($fields, $keys)");evalStr=evalStr.replace(new RegExp("\\$\\{"+abStrings.escapeRegExpChars(argFields[argIndex].path)+"\\}"+"([^a-zA-Z0-9]|$)","g"),_value+"$1");evalStr=evalStr.replace(new RegExp("\\$"+abStrings.escapeRegExpChars(argFields[argIndex].path)+"([^a-zA-Z0-9]|$)","g"),_value+"$1")}return evalStr.replace(/([^a-zA-Z0-9]|^)this([^a-zA-Z0-9]|$)/g,"$1undefined$2")}},{key:"getValue",value:function getValue(fields,keys,valueType){if(this.type===Types.Field){var field=this.getField(fields,keys);if(field===null)return undefined;return field.$value}else if(this.type===Types.Function){var _field=this.getField(fields,keys);if(_field===null)return undefined;var fnVal=_field.$value;if(fnVal===null||typeof fnVal==="undefined")return undefined;var argsArr=[];var _iterator15=_createForOfIteratorHelper(this.fieldFn_ArgStrs),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var argStr=_step15.value;// console.log(new Error());
var evalStr=this.getEvalStr(argStr,this.fieldFn_ArgFields,fields,keys);try{argsArr.push(this.getEval(evalStr,this.fieldFn_ArgFields,fields,keys))}catch(err){throw new Error("Error evaluating function '$".concat(this.field_Parts,"(").concat(argStr,")")+err)}}}catch(err){_iterator15.e(err)}finally{_iterator15.f()}return fnVal.apply(null,argsArr);// let evalStr_Original = `(${fnVal})(${this.fieldFn_ArgFieldsStr})`;
// let evalStr = this.getEvalStr(this.fieldFn_ArgFieldsStr,
//         this.fieldFn_ArgFields, fields, keys);
// evalStr = `(${fnVal})(${evalStr})`;
// try {
//     return this.getEval(evalStr);
// } catch (err) {
//     throw new Error(`Error evaluating function '$${this.field_Parts}:${evalStr_Original}': ` +  
//             err);
// }    
}else if(this.type===Types.Expression){var _evalStr=this.getEvalStr(this.expr,this.expr_ArgFields,fields,keys);try{return this.getEval(_evalStr,this.expr_ArgFields,fields,keys)}catch(err){if(spocky.Debug)console.error(_evalStr);throw new Error("Error evaluating expression \"".concat(this.expr,"\": ")+err)}}else throw new Error("Unknown 'FieldInfo' type.")}},{key:"getField",value:function getField(fields,keys){js0.args(arguments,[abFields.ObjectField,js0.Null],Array);var rawParts=this.getRawParts(this.repeatInfo);// keys = this.repeatInfo.getKeys(this, keys);
var keysOffset=0;var field=fields;var fieldPath="";var repeatsOffset=0;var _iterator16=_createForOfIteratorHelper(rawParts),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var part=_step16.value;if(field instanceof abFields.ObjectField){field=field.$get(part);fieldPath+=(fieldPath!==""?".":"")+part}while(field instanceof abFields.ListField){var repeatFound=false;for(var i=repeatsOffset;i<this.repeatInfo.repeats.length;i++){if(fieldPath===this.repeatInfo.repeats[i].fieldInfo.getFullPath(this.repeatInfo)){if(keys[i]===null||typeof keys[i]==="undefined")throw new Error("Instance keys to lists inconsistency.");field=field.$get(keys[i]);repeatsOffset=i+1;repeatFound=true;break}}if(!repeatFound)break;// throw new Error('Instance keys to lists inconsistency.');
}}}catch(err){_iterator16.e(err)}finally{_iterator16.f()}return field}},{key:"getFullPath",value:function getFullPath(repeatInfo){var rawParts=this.getRawParts(repeatInfo);return rawParts.join(".")}},{key:"getRawParts",value:function getRawParts(repeatInfo){var rawParts=this.field_Parts.slice();/* Get all raw parts. */for(var i=repeatInfo.repeats.length-1;i>=0;i--){if(rawParts[0]!==repeatInfo.repeats[i].itemName)continue;rawParts.splice(0,1);rawParts=repeatInfo.repeats[i].fieldInfo.field_Parts.concat(rawParts);// rawParts.splice(0, 0, repeatInfo.repeats[i].fieldInfo.parts);
}return rawParts}}],[{key:"Types",get:function get(){return Types}}]);return FieldInfo}();var Types=/*#__PURE__*/function(){function Types(){_classCallCheck(this,Types)}_createClass(Types,null,[{key:"Field",get:function get(){return 1}},{key:"Function",get:function get(){return 2}},{key:"Expression",get:function get(){return 3}}]);return Types}();var ValueTypes=/*#__PURE__*/function(){function ValueTypes(){_classCallCheck(this,ValueTypes)}_createClass(ValueTypes,null,[{key:"Bool",get:function get(){return 1}},{key:"Function",get:function get(){return 2}},{key:"List",get:function get(){return 3}},{key:"Object",get:function get(){return 4}},{key:"Text",get:function get(){return 5}}]);return ValueTypes}();module.exports=FieldInfo;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\LayoutParser.FieldsHelper.js
jsLibs.exportModule("spocky","LayoutParser.FieldsHelper",function(require,module,exports){'use strict';var abFields=require("ab-fields"),js0=require("js0"),FieldInfo=require("./LayoutParser.FieldInfo");var FieldsHelper=/*#__PURE__*/function(){function FieldsHelper(){_classCallCheck(this,FieldsHelper);this._fieldDefinitions=abFields.define();this._fieldInfos=[];this.regexpStrs_Expression="\\?\\(((\\s|\\S)+)\\)";this.regexpStrs_FieldName="([a-zA-Z][a-zA-Z0-9._]*)+?(\\((.*?)\\))?"}_createClass(FieldsHelper,[{key:"def",value:function def(repeatInfo,fieldPath,includesPrefix,requiredFieldDefinitionClass){js0.args(arguments,require("./LayoutParser.RepeatInfo"),"string","boolean","function");var fieldInfo=new FieldInfo(this,repeatInfo,fieldPath,includesPrefix);if(fieldInfo.type===FieldInfo.Types.Field){fieldInfo.fieldDefinitions.push(this._define(fieldInfo,repeatInfo,requiredFieldDefinitionClass))}else if(fieldInfo.type===FieldInfo.Types.Function){fieldInfo.fieldDefinitions.push(this._define(fieldInfo,repeatInfo,requiredFieldDefinitionClass))}else if(fieldInfo.type===FieldInfo.Types.Expression){}return fieldInfo}},{key:"getFieldName",value:function getFieldName(fieldPath,includesPrefix){js0.args(arguments,"string","boolean");if(includesPrefix){if(fieldPath[0]!=="$")return null;if(fieldPath[1]==="{"){if(fieldPath[fieldPath.length-1]!=="}")return null;return fieldPath.substring(2,fieldPath.length-1)}return fieldPath.substring(1)}return fieldPath}},{key:"getType",value:function getType(fieldDefintion){}},{key:"getValue",value:function getValue(fieldDefintion,value,keys){var field=this.find(fieldDefintion);if(field===null)throw Error("Field not defined: "+fieldDefintion);return typeof value==="function"?eval("value(".concat(fieldInfo.args,")")):value}},{key:"find",value:function find(fieldDefintion){var _iterator17=_createForOfIteratorHelper(this._fields),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var field=_step17.value;if(field.definition===fieldDefintion)return field}}catch(err){_iterator17.e(err)}finally{_iterator17.f()}return null}},{key:"isFieldName",value:function isFieldName(str,includesPrefix){js0.args(arguments,"string","boolean");if(includesPrefix){if(str[0]!=="$")return false;if(str[1]==="{"){if(str[str.length-1]!=="}")return false;return str.substring(2,str.length-1).match(new RegExp("^"+this.regexpStrs_FieldName+"$"))!==null}return str.substring(1).match(new RegExp("^"+this.regexpStrs_FieldName+"$"))!==null}return str.match(new RegExp("^"+this.regexpStrs_FieldName+"$"))!==null}},{key:"isExpression",value:function isExpression(str){js0.args(arguments,"string",["boolean",js0.Default]);return str.match(new RegExp("^"+this.regexpStrs_Expression+"$","m"))!==null}},{key:"isValidString",value:function isValidString(str,includesPrefix){js0.args(arguments,"string","boolean");return this.isFieldName(str,includesPrefix)||this.isExpression(str)}},{key:"matchField",value:function matchField(fieldPath){js0.args(arguments,"string");return fieldPath.match(this.regexpStrs_FieldName)}},{key:"validateFieldName",value:function validateFieldName(fieldName,includesPrefix){js0.args(arguments,"string","boolean");if(!this.isFieldName(fieldName,includesPrefix))throw new Error("'".concat(fieldName,"' is not a valid field name."))}},{key:"validateProperty",value:function validateProperty(property,includesPrefix){js0.args(arguments,"string","boolean");if(!this.isValidString(property,includesPrefix))throw new Error("'".concat(property,"' is not a valid property."))}},{key:"_add",value:function _add(fieldDefintion,fieldInfo){js0.args(arguments,abFields.Definition);var field=this.find(fieldDefintion);if(field===null)field=new Field(fieldDefintion);this._fields.push(field)}},{key:"_define",value:function _define(fieldInfo,repeatInfo,newFieldDefinitionClass){var fd=this._fieldDefinitions;var repeatOffset=0;/* Check if is list. */var firstPart=fieldInfo.field_Parts[0];var repeatFound=false;for(var i=repeatInfo.repeats.length-1;i>=repeatOffset;i--){if(firstPart!==repeatInfo.repeats[i].itemName)continue;repeatFound=true;fd=repeatInfo.repeats[i].fieldDefinition;if(fieldInfo.field_Parts.length===1)return fd.item(newFieldDefinitionClass);fd=fd.item(abFields.ObjectDefinition)}for(var _i2=repeatFound?1:0;_i2<fieldInfo.field_Parts.length-1;_i2++){var part=fieldInfo.field_Parts[_i2];fd=fd.object(part)}var lastPart=fieldInfo.field_Parts[fieldInfo.field_Parts.length-1];// let field = null;
// let fieldExists = fd.exists(lastPart);
// let fieldIsVar = fieldExists ? 
//         (fd.get(lastPart) instanceof abFields.VarDefinition ? true : false) : 
//         false;
// fieldExists = false;
// fieldIsVar = false;
if(newFieldDefinitionClass===abFields.ObjectDefinition)return fd.object(lastPart,false);else if(newFieldDefinitionClass===abFields.ListDefinition)return fd.list(lastPart,false);else if(newFieldDefinitionClass===abFields.VarDefinition){// if (fieldExists && !fieldIsVar)
//     return fd.get(lastPart);
return fd["var"](lastPart)}else throw new Error("Unknown 'newFieldDefinitionClass'.")}}],[{key:"Types",get:function get(){return Types}}]);return FieldsHelper}();var Field=function Field(fieldDefintion){_classCallCheck(this,Field);this.definition=fieldDefintion};var Types=/*#__PURE__*/function(){function Types(){_classCallCheck(this,Types)}_createClass(Types,null,[{key:"Var",get:function get(){return 1}},{key:"Function",get:function get(){return 2}},{key:"Expression",get:function get(){return 3}}]);return Types}();module.exports=FieldsHelper;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\LayoutParser.RepeatInfo.js
jsLibs.exportModule("spocky","LayoutParser.RepeatInfo",function(require,module,exports){'use strict';var js0=require("js0"),FieldInfo=require("./LayoutParser.FieldInfo");var RepeatInfo=/*#__PURE__*/function(){function RepeatInfo(elementsStack){_classCallCheck(this,RepeatInfo);this.repeats=[];this.virtual=false;for(var i=0;i<elementsStack.length;i++){var element=elementsStack[i];if("repeat"in element.info){this.repeats.push(element.info.repeat);this.virtual=true}}}// getKeys(fieldInfo, keys)
// {
//     let repeatKeys = [];
//     for (let i = 0; i < this.repeats.length; i++)
//         repeatKeys.push(null);
//     let rawFieldParts = fieldInfo.getRawParts(this);
//     let fullFieldPath = rawFieldParts.join('.');
//     let keysIndex = keys.length - 1;
//     for (let i = this.repeats.length - 1; i >= 0; i--) {
//         let repeatFieldPath = this.repeats[i].fieldInfo
//                 .getFullPath(this);
//         if (fullFieldPath.indexOf(repeatFieldPath) === 0) {
//             repeatKeys[i] = keys[keysIndex];
//             keysIndex--;
//             if (keysIndex < 0)
//                 break;
//             // fullFieldPath = fullFieldPath.substring(repeatFieldPath.length);
//             // if (fullFieldPath[0] === '.')
//             //     fullFieldPath = fullFieldPath.substring(1);
//         }
//     }
//     return repeatKeys;
// }
_createClass(RepeatInfo,[{key:"getKeys",value:function getKeys(fieldInfos,keys){var repeatKeys=[];for(var i=0;i<this.repeats.length;i++){repeatKeys.push(null)}if(keys.length===0)return repeatKeys;var keysIndex=keys.length-1;for(var _i3=this.repeats.length-1;_i3>=0;_i3--){var _iterator18=_createForOfIteratorHelper(fieldInfos),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var _fieldInfo=_step18.value;var rawFieldParts=_fieldInfo.getRawParts(this);var fullFieldPath=rawFieldParts.join(".");var repeatFieldPath=this.repeats[_i3].fieldInfo.getFullPath(this);if(fullFieldPath.indexOf(repeatFieldPath)===0){repeatKeys[_i3]=keys[keysIndex];keysIndex--;if(keysIndex<0)break;// fullFieldPath = fullFieldPath.substring(repeatFieldPath.length);
// if (fullFieldPath[0] === '.')
//     fullFieldPath = fullFieldPath.substring(1);
}}}catch(err){_iterator18.e(err)}finally{_iterator18.f()}if(keysIndex<0)break}return repeatKeys}}]);return RepeatInfo}();module.exports=RepeatInfo;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\LayoutParser.js
jsLibs.exportModule("spocky","LayoutParser",function(require,module,exports){'use strict';var abFields=require("ab-fields"),abLayouts=require("ab-layouts"),abNodes=require("ab-nodes"),js0=require("js0"),spocky=require("."),Holder=require("./Holder"),Elems=require("./LayoutParser.Elems"),FieldInfo=require("./LayoutParser.FieldInfo"),FieldsHelper=require("./LayoutParser.FieldsHelper"),Holders=require("./LayoutParser.Holders"),RepeatInfo=require("./LayoutParser.RepeatInfo");var LayoutParser=/*#__PURE__*/function(_abLayouts$Parser){_inherits(LayoutParser,_abLayouts$Parser);var _super6=_createSuper(LayoutParser);function LayoutParser(){var _this14;_classCallCheck(this,LayoutParser);_this14=_super6.call(this);_this14._fieldsHelper=new FieldsHelper;_this14._fields=null;_this14._elems=new Elems;_this14._holders=new Holders;_this14._data={};return _this14}_createClass(LayoutParser,[{key:"data",get:function get(){return this._data}},{key:"elems",get:function get(){return this._elems}},{key:"fields",get:function get(){return this._fields}},{key:"holders",get:function get(){return this._holders}},{key:"_createContentElement",value:function _createContentElement(nodeInfo,elementsStack){var node=this._createTextNode(nodeInfo.content,elementsStack);return new abLayouts.Parser.Element(node,node,null)}},{key:"_createElement",value:function _createElement(nodeInfo,elementsStack){var element=new abLayouts.Parser.Element(null,null,{});this._createElement_AddRepeat(nodeInfo,elementsStack,element);var tElementsStack=elementsStack.concat([element]);this._createElement_AddHide(nodeInfo,tElementsStack,element);this._createElement_AddShow(nodeInfo,tElementsStack,element);this._createElement_AddSingle(nodeInfo,tElementsStack,element);this._createElement_AddField(nodeInfo,tElementsStack,element);this._createElement_AddHolder(nodeInfo,tElementsStack,element);this._createElement_ParseElem(nodeInfo,tElementsStack,element);this._createElement_ParseData(nodeInfo,tElementsStack,element);return element}},{key:"_createElement_AddField",value:function _createElement_AddField(nodeInfo,elementsStack,element){var _this15=this;if(!("_field"in nodeInfo.attribs))return;if(nodeInfo.type==="$")throw new Error("'_field' cannot be in virtual node.");this._fieldsHelper.validateProperty(nodeInfo.attribs._field[0],false);var node=element.bottomNode;var repeatInfo=new RepeatInfo(elementsStack);var fieldInfo=this._fieldsHelper.def(repeatInfo,nodeInfo.attribs._field[0],false,abFields.VarDefinition);/* Default */node.innerHTML=fieldInfo.getValue(this._fields,[]);/* Field Listeners */var _iterator19=_createForOfIteratorHelper(fieldInfo.fieldDefinitions),_step19;try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var fd=_step19.value;fd.addListener({change:function change(value,keys){_this15._runOnUIThread(function(){var nodeInstances=_this15._getNodeInstances(repeatInfo,fieldInfo,node,keys);var _iterator21=_createForOfIteratorHelper(nodeInstances),_step21;try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var nodeInstance=_step21.value;var instanceKeys=nodeInstance.pCopyable.getInstanceKeys();nodeInstance.htmlElement.innerHTML=fieldInfo.getValue(_this15._fields,instanceKeys)}}catch(err){_iterator21.e(err)}finally{_iterator21.f()}})}})}/* Virtual */}catch(err){_iterator19.e(err)}finally{_iterator19.f()}if(repeatInfo.virtual){node.pCopyable.onCreate(function(nodeInstance,instanceKeys){/* Virtual Node */if(instanceKeys.length<repeatInfo.repeats.length)return;var value=fieldInfo.getValue(_this15._fields,instanceKeys);_this15._runOnUIThread(function(){var nodeInstances=node.pCopyable.getNodeCopies(instanceKeys);var _iterator20=_createForOfIteratorHelper(nodeInstances),_step20;try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var _nodeInstance=_step20.value;_nodeInstance.htmlElement.innerHTML=value}}catch(err){_iterator20.e(err)}finally{_iterator20.f()}})})}}},{key:"_createElement_AddHide",value:function _createElement_AddHide(nodeInfo,elementsStack,element){var _this16=this;if(!("_hide"in nodeInfo.attribs))return;this._fieldsHelper.validateProperty(nodeInfo.attribs._hide[0],false);var node=new abNodes.HideNode;this._createElement_UpdateElement(element,node);var repeatInfo=new RepeatInfo(elementsStack);var fieldInfo=this._fieldsHelper.def(repeatInfo,nodeInfo.attribs._hide[0],false,abFields.VarDefinition);/* Default */node.hide=fieldInfo.getValue(this._fields,[])?true:false;/* Field Listeners */var _iterator22=_createForOfIteratorHelper(fieldInfo.fieldDefinitions),_step22;try{for(_iterator22.s();!(_step22=_iterator22.n()).done;){var fd=_step22.value;fd.addListener({change:function change(value,keys){_this16._runOnUIThread(function(){var nodeInstances=_this16._getNodeInstances(repeatInfo,fieldInfo,node,keys);var _iterator24=_createForOfIteratorHelper(nodeInstances),_step24;try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var nodeInstance=_step24.value;var instanceKeys=nodeInstance.pCopyable.getInstanceKeys();nodeInstance.hide=fieldInfo.getValue(_this16._fields,instanceKeys)?true:false}}catch(err){_iterator24.e(err)}finally{_iterator24.f()}})}})}/* Virtual */}catch(err){_iterator22.e(err)}finally{_iterator22.f()}if(repeatInfo.virtual){node.pCopyable.onCreate(function(nodeInstance,instanceKeys){/* Virtual Node */if(instanceKeys.length<repeatInfo.repeats.length)return;var value=fieldInfo.getValue(_this16._fields,instanceKeys);_this16._runOnUIThread(function(){var nodeInstances=node.pCopyable.getNodeCopies(instanceKeys);var _iterator23=_createForOfIteratorHelper(nodeInstances),_step23;try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var _nodeInstance2=_step23.value;_nodeInstance2.hide=value?true:false}}catch(err){_iterator23.e(err)}finally{_iterator23.f()}})})}}},{key:"_createElement_AddHolder",value:function _createElement_AddHolder(nodeInfo,elementsStack,element){var _this17=this;if(!("_holder"in nodeInfo.attribs))return;var node=new abLayouts.LayoutNode;this._createElement_UpdateElement(element,node);var repeatInfo=new RepeatInfo(elementsStack);if(repeatInfo.virtual){element.info.holders_OnCreateFn=null;element.info.holders_OnDestroyFn=null;// this._elems._declare(elemName);
node.pCopyable.onCreate(function(node){var keys=node.pCopyable.getInstanceKeys();/* Virtual Node */if(keys.length<repeatInfo.repeats.length)return;// this._elems._add(elemName, keys, node.htmlElement);
if(element.info.holders_OnCreateFn!==null){element.info.holders_OnCreateFn(new Holder(node),keys)}});node.pCopyable.onDestroy(function(node){var keys=node.pCopyable.getInstanceKeys();// this._elems._remove(elemName, keys);
if(element.info.holders_OnDestroyFn!==null){element.info.holders_OnDestroyFn(keys)}});Object.defineProperty(this._holders,nodeInfo.attribs._holder,{get:function get(){return function(onCreateFn){element.info.holders_OnCreateFn=onCreateFn;_this17._runOnUIThread(function(){var nodeInstances=node.pCopyable.getNodeCopies();var _iterator25=_createForOfIteratorHelper(nodeInstances),_step25;try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var nodeInstance=_step25.value;var instanceKeys=nodeInstance.pCopyable.getInstanceKeys();onCreateFn(new Holder(nodeInstance),instanceKeys)}}catch(err){_iterator25.e(err)}finally{_iterator25.f()}})}}})}else{Object.defineProperty(this._holders,nodeInfo.attribs._holder,{value:new Holder(node),enumerable:true})}}},{key:"_createElement_AddRepeat",value:function _createElement_AddRepeat(nodeInfo,elementsStack,element){var _this18=this;if(!("_repeat"in nodeInfo.attribs))return;var repeatNameArr=nodeInfo.attribs._repeat[0].split(":");if(repeatNameArr.length!==2)throw new Error("Repeat format must be `[fieldName]:[itemFieldName].");var fieldName=repeatNameArr[0];var itemName=repeatNameArr[1];this._fieldsHelper.validateFieldName(fieldName,false);this._fieldsHelper.validateFieldName(itemName,false);var node=new abNodes.RepeatNode;this._createElement_UpdateElement(element,node);var repeatInfo=new RepeatInfo(elementsStack);var fieldInfo=this._fieldsHelper.def(repeatInfo,fieldName,false,abFields.ListDefinition);var fd=fieldInfo.fieldDefinitions[0];element.info.repeat={node:node,fieldInfo:fieldInfo,itemName:itemName,fieldDefinition:fd};fd.addListener({add:function add(index,key,keys){_this18._runOnUIThread(function(){var nodeInstances=_this18._getNodeInstances(repeatInfo,fieldInfo,node,keys);var _iterator26=_createForOfIteratorHelper(nodeInstances),_step26;try{for(_iterator26.s();!(_step26=_iterator26.n()).done;){var nodeInstance=_step26.value;nodeInstance.addAt(index,key)}}catch(err){_iterator26.e(err)}finally{_iterator26.f()}})},"delete":function _delete(key,keys){_this18._runOnUIThread(function(){var nodeInstances=_this18._getNodeInstances(repeatInfo,fieldInfo,node,keys);var _iterator27=_createForOfIteratorHelper(nodeInstances),_step27;try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){var nodeInstance=_step27.value;nodeInstance["delete"](key)}}catch(err){_iterator27.e(err)}finally{_iterator27.f()}})}});if(repeatInfo.virtual){node.pCopyable.onCreate(function(nodeInstance,instanceKeys){/* Virtual Node */if(instanceKeys.length<repeatInfo.repeats.length)return;var field=fieldInfo.getField(_this18._fields,instanceKeys);_this18._runOnUIThread(function(){var nodeInstances=node.pCopyable.getNodeCopies(instanceKeys);var _iterator28=_createForOfIteratorHelper(nodeInstances),_step28;try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var _nodeInstance3=_step28.value;var _iterator29=_createForOfIteratorHelper(field),_step29;try{for(_iterator29.s();!(_step29=_iterator29.n()).done;){var _step29$value=_slicedToArray(_step29.value,2),key=_step29$value[0],_value2=_step29$value[1];_nodeInstance3.add(key)}}catch(err){_iterator29.e(err)}finally{_iterator29.f()}}}catch(err){_iterator28.e(err)}finally{_iterator28.f()}})})}// if ('_id' in nodeInfo.attribs)
//     this._nodes.set(`${nodeInfo.attribs._id}.single`, node);
}},{key:"_createElement_AddShow",value:function _createElement_AddShow(nodeInfo,elementsStack,element){var _this19=this;if(!("_show"in nodeInfo.attribs))return;this._fieldsHelper.validateProperty(nodeInfo.attribs._show[0],false);var node=new abNodes.ShowNode;this._createElement_UpdateElement(element,node);var repeatInfo=new RepeatInfo(elementsStack);var fieldInfo=this._fieldsHelper.def(repeatInfo,nodeInfo.attribs._show[0],false,abFields.VarDefinition);/* Default */node.show=fieldInfo.getValue(this._fields,[])?true:false;/* Field Listeners */var _iterator30=_createForOfIteratorHelper(fieldInfo.fieldDefinitions),_step30;try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var fd=_step30.value;fd.addListener({change:function change(value,keys){_this19._runOnUIThread(function(){var nodeInstances=_this19._getNodeInstances(repeatInfo,fieldInfo,node,keys);var _iterator32=_createForOfIteratorHelper(nodeInstances),_step32;try{for(_iterator32.s();!(_step32=_iterator32.n()).done;){var nodeInstance=_step32.value;var instanceKeys=nodeInstance.pCopyable.getInstanceKeys();nodeInstance.show=fieldInfo.getValue(_this19._fields,instanceKeys)?true:false}}catch(err){_iterator32.e(err)}finally{_iterator32.f()}})}})}/* Virtual */}catch(err){_iterator30.e(err)}finally{_iterator30.f()}if(repeatInfo.virtual){node.pCopyable.onCreate(function(nodeInstance,instanceKeys){/* Virtual Node */if(instanceKeys.length<repeatInfo.repeats.length)return;var value=fieldInfo.getValue(_this19._fields,instanceKeys);_this19._runOnUIThread(function(){var nodeInstances=node.pCopyable.getNodeCopies(instanceKeys);var _iterator31=_createForOfIteratorHelper(nodeInstances),_step31;try{for(_iterator31.s();!(_step31=_iterator31.n()).done;){var _nodeInstance4=_step31.value;_nodeInstance4.show=value?true:false}}catch(err){_iterator31.e(err)}finally{_iterator31.f()}})})}}},{key:"_createElement_AddSingle",value:function _createElement_AddSingle(nodeInfo,elementsStack,element){if(nodeInfo.type==="$")return;var repeatInfo=new RepeatInfo(elementsStack);var node=new abNodes.SingleNode(nodeInfo.type);this._createElement_UpdateElement(element,node);this._createElement_AddSingle_ParseAttribs(repeatInfo,node,nodeInfo.attribs)}},{key:"_createElement_AddSingle_ParseAttribs",value:function _createElement_AddSingle_ParseAttribs(repeatInfo,node,attribs){var _this20=this;var _loop=function _loop(attribName){// if (attribName[0] === '$')
//     continue;
var attribArr=attribs[attribName];var attribArr_FieldInfos=[];var _iterator33=_createForOfIteratorHelper(attribArr),_step33;try{var _loop2=function _loop2(){var attribPart=_step33.value;if(!_this20._fieldsHelper.isValidString(attribPart,true)){attribArr_FieldInfos.push(null);return"continue"}var fieldInfo=_this20._fieldsHelper.def(repeatInfo,attribPart,true,abFields.VarDefinition);attribArr_FieldInfos.push(fieldInfo);var _iterator34=_createForOfIteratorHelper(fieldInfo.fieldDefinitions),_step34;try{for(_iterator34.s();!(_step34=_iterator34.n()).done;){var fd=_step34.value;fd.addListener({change:function change(value,keys){_this20._runOnUIThread(function(){var nodeInstances=_this20._getNodeInstances(repeatInfo,fieldInfo,node,keys);var _iterator35=_createForOfIteratorHelper(nodeInstances),_step35;try{for(_iterator35.s();!(_step35=_iterator35.n()).done;){var nodeInstance=_step35.value;var instanceKeys=nodeInstance.pCopyable.getInstanceKeys();var _attrib=_this20._createElement_AddSingle_GetAttrib(attribArr,attribArr_FieldInfos,instanceKeys);if(attribName in nodeInstance.htmlElement)nodeInstance.htmlElement[attribName]=_attrib;else nodeInstance.htmlElement.setAttribute(attribName,_attrib)}}catch(err){_iterator35.e(err)}finally{_iterator35.f()}})}})}}catch(err){_iterator34.e(err)}finally{_iterator34.f()}};for(_iterator33.s();!(_step33=_iterator33.n()).done;){var _ret=_loop2();if(_ret==="continue")continue}/* Default */}catch(err){_iterator33.e(err)}finally{_iterator33.f()}var attrib=_this20._createElement_AddSingle_GetAttrib(attribArr,attribArr_FieldInfos,[]);if(attribName in node.htmlElement)node.htmlElement[attribName]=attrib;else node.htmlElement.setAttribute(attribName,attrib);/* Virtual */if(repeatInfo.virtual){node.pCopyable.onCreate(function(nodeInstance,instanceKeys){/* Virtual Node */if(instanceKeys.length<repeatInfo.repeats.length)return;var attrib=_this20._createElement_AddSingle_GetAttrib(attribArr,attribArr_FieldInfos,instanceKeys);if(attribName in nodeInstance.htmlElement)nodeInstance.htmlElement[attribName]=attrib;else nodeInstance.htmlElement.setAttribute(attribName,attrib)})}};for(var attribName in attribs){_loop(attribName)}}},{key:"_createElement_AddSingle_GetAttrib",value:function _createElement_AddSingle_GetAttrib(attribArr,attribArr_FieldInfos,instanceKeys){var attrib="";for(var i=0;i<attribArr.length;i++){if(attribArr_FieldInfos[i]!==null){attrib+=attribArr_FieldInfos[i].getValue(this._fields,instanceKeys)}else attrib+=attribArr[i]}return attrib}},{key:"_createElement_ParseData",value:function _createElement_ParseData(nodeInfo,elementsStack,element){for(var attribName in nodeInfo.attribs){if(attribName.indexOf("_data-")!==0)continue;var attribArr=nodeInfo.attribs[attribName];var dataName=attribName.substring("_data-".length);var data=attribArr[0].replace(/\\"/g,"\"");if(!(dataName in this._data))this._data[dataName]=[];this._data[dataName].push(data)}}},{key:"_createElement_ParseElem",value:function _createElement_ParseElem(nodeInfo,elementsStack,element){var _this21=this;if(!("_elem"in nodeInfo.attribs))return;var elemName=nodeInfo.attribs._elem[0];if(this._elems.$exists(elemName)){if(spocky.Debug){console.warn("Element '".concat(elemName,"' already exist. Skipping in:"),nodeInfo,new Error)}return}var node=element.bottomNode;var repeatInfo=new RepeatInfo(elementsStack);if(repeatInfo.virtual){element.info.elems_OnCreateFn=null;element.info.elems_OnDestroyFn=null;this._elems._declare(elemName);node.pCopyable.onCreate(function(node){var keys=node.pCopyable.getInstanceKeys();/* Virtual Node */if(keys.length<repeatInfo.repeats.length)return;_this21._elems._add(elemName,keys,node.htmlElement);if(element.info.elems_OnCreateFn!==null){element.info.elems_OnCreateFn(node.htmlElement,keys)}});node.pCopyable.onDestroy(function(node){var keys=node.pCopyable.getInstanceKeys();_this21._elems._remove(elemName,keys);if(element.info.elems_OnDestroyFn!==null){element.info.elems_OnDestroyFn(node.htmlElement,keys)}});Object.defineProperty(this._elems,nodeInfo.attribs._elem,{get:function get(){return function(onCreateFn){element.info.elems_OnCreateFn=onCreateFn;_this21._runOnUIThread(function(){var nodeInstances=node.pCopyable.getNodeCopies();var _iterator36=_createForOfIteratorHelper(nodeInstances),_step36;try{for(_iterator36.s();!(_step36=_iterator36.n()).done;){var nodeInstance=_step36.value;var instanceKeys=nodeInstance.pCopyable.getInstanceKeys();onCreateFn(nodeInstance.htmlElement,instanceKeys)}}catch(err){_iterator36.e(err)}finally{_iterator36.f()}})}}})}else{this._elems._declare(elemName);this._elems._add(elemName,[],node.htmlElement);Object.defineProperty(this._elems,nodeInfo.attribs._elem,{get:function get(){return node.htmlElement}})}}},{key:"_createElement_UpdateElement",value:function _createElement_UpdateElement(element,new_bottom_node){if(element.topNode===null)element.topNode=new_bottom_node;if(element.bottomNode!==null)element.bottomNode.pChildren.add(new_bottom_node);element.bottomNode=new_bottom_node}},{key:"_createTextNode",value:function _createTextNode(nodeContent,elementsStack){var _this22=this;var node=null;if(this._fieldsHelper.isValidString(nodeContent,true)){(function(){var repeatInfo=new RepeatInfo(elementsStack);var fieldInfo=_this22._fieldsHelper.def(repeatInfo,nodeContent,true,abFields.VarDefinition);node=new abNodes.TextNode(fieldInfo.getValue(_this22._fields,[]));var _iterator37=_createForOfIteratorHelper(fieldInfo.fieldDefinitions),_step37;try{for(_iterator37.s();!(_step37=_iterator37.n()).done;){var fd=_step37.value;fd.addListener({change:function change(value,keys){_this22._runOnUIThread(function(){var nodeInstances=_this22._getNodeInstances(repeatInfo,fieldInfo,node,keys);var _iterator39=_createForOfIteratorHelper(nodeInstances),_step39;try{for(_iterator39.s();!(_step39=_iterator39.n()).done;){var nodeInstance=_step39.value;nodeInstance.text=fieldInfo.getValue(_this22._fields,nodeInstance.pCopyable.getInstanceKeys())}}catch(err){_iterator39.e(err)}finally{_iterator39.f()}})}})}}catch(err){_iterator37.e(err)}finally{_iterator37.f()}if(repeatInfo.virtual){node.pCopyable.onCreate(function(nodeInstance,instanceKeys){/* Virtual Node */if(instanceKeys.length<repeatInfo.repeats.length)return;var value=fieldInfo.getValue(_this22._fields,instanceKeys);_this22._runOnUIThread(function(){var nodeInstances=node.pCopyable.getNodeCopies(instanceKeys);var _iterator38=_createForOfIteratorHelper(nodeInstances),_step38;try{for(_iterator38.s();!(_step38=_iterator38.n()).done;){var _nodeInstance5=_step38.value;_nodeInstance5.text=value}}catch(err){_iterator38.e(err)}finally{_iterator38.f()}})})}})()}else node=new abNodes.TextNode(nodeContent);return node}},{key:"_getNodeInstances",value:function _getNodeInstances(repeatInfo,fieldInfo,node,keys){if(repeatInfo.repeats.length===0)return[node];var fieldInfos_Requested=[];/* Main Field */if(fieldInfo.type===FieldInfo.Types.Field||fieldInfo.type===FieldInfo.Types.Function)fieldInfos_Requested.push(fieldInfo);/* Arg Fields */if(fieldInfo.type===FieldInfo.Types.Function){var _iterator40=_createForOfIteratorHelper(fieldInfo.fieldFn_ArgFields),_step40;try{for(_iterator40.s();!(_step40=_iterator40.n()).done;){var argField=_step40.value;fieldInfos_Requested.push(argField.fieldInfo)}}catch(err){_iterator40.e(err)}finally{_iterator40.f()}}if(fieldInfo.type===FieldInfo.Types.Expression){var _iterator41=_createForOfIteratorHelper(fieldInfo.expr_ArgFields),_step41;try{for(_iterator41.s();!(_step41=_iterator41.n()).done;){var _argField=_step41.value;fieldInfos_Requested.push(_argField.fieldInfo)}}catch(err){_iterator41.e(err)}finally{_iterator41.f()}}/* Node Copies */ // console.log('###', fieldInfos_Requested);
// let nodeCopies = [];
// for (let fieldInfo_Requested of fieldInfos_Requested) {
//     let repeatKeys = repeatInfo.getKeys(fieldInfo_Requested, keys);
//     console.log('Here', repeatKeys);
//     let nodeCopies_T = node.pCopyable.getNodeCopies(repeatKeys);
//     console.log(nodeCopies_T);
//     for (let nodeCopy_T of nodeCopies_T) {
//         if (!nodeCopies.includes(nodeCopy_T))
//             nodeCopies.push(nodeCopy_T);
//     }
// }
var nodeCopies=[];var repeatKeys=repeatInfo.getKeys(fieldInfos_Requested,keys);var nodeCopies_T=node.pCopyable.getNodeCopies(repeatKeys);var _iterator42=_createForOfIteratorHelper(nodeCopies_T),_step42;try{for(_iterator42.s();!(_step42=_iterator42.n()).done;){var nodeCopy_T=_step42.value;if(!nodeCopies.includes(nodeCopy_T))nodeCopies.push(nodeCopy_T)}}catch(err){_iterator42.e(err)}finally{_iterator42.f()}return nodeCopies}},{key:"_isVirtual",value:function _isVirtual(elementsStack){for(var i=0;i<elementsStack.length;i++){if("repeat"in elementsStack[i].info)return true}return false}},{key:"_runOnUIThread",value:function _runOnUIThread(fn){fn();// setTimeout(fn, 10);
}/* abLayouts.Parser Overrides */},{key:"__afterParse",value:function __afterParse(){this._fields=this._fieldsHelper._fieldDefinitions.create()}},{key:"__createElement",value:function __createElement(nodeInfo,elementsStack){if(nodeInfo.type==="_content")return this._createContentElement(nodeInfo,elementsStack);else return this._createElement(nodeInfo,elementsStack)}/* abLayouts.Parser Overrides */}]);return LayoutParser}(abLayouts.Parser);module.exports=LayoutParser;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\Module.js
jsLibs.exportModule("spocky","Module",function(require,module,exports){'use strict';var abLayouts=require("ab-layouts"),abNodes=require("ab-nodes"),js0=require("js0"),Layout=require("./Layout"),Viewable=require("./Viewable");var Module=/*#__PURE__*/function(){function Module(){_classCallCheck(this,Module);js0.prop(this,Module.Viewable,this);Object.defineProperties(this,{_$view:{value:null,writable:true},_$parentNode:{value:null,writable:true},_$listeners:{value:{onActivate:[],onDeactivate:[]}}})}_createClass(Module,[{key:"$name",get:function get(){return this.constructor.name}},{key:"$view",set:function set(value){if(!js0.type(value,[require("./Layout"),require("./Module"),js0.Null]))throw new Error("'$view' must be 'Layout', 'Module' or 'Null'.");if(this._$view===value)return;if(this._$view!==null)this._$view._$viewable.deactivate();this._$view=value;if(this._$view!==null&&this._$parentNode!==null)this._$view._$viewable.activate(this._$parentNode)}},{key:"$onActivate",value:function $onActivate(listener){this._$listeners.onActivate.push(listener)}},{key:"$onDeactivate",value:function $onDeactivate(listener){this._$listeners.onDeactivate.push(listener)}}]);return Module}();module.exports=Module;Object.defineProperties(Module,{Viewable:{value:/*#__PURE__*/function(_Viewable2){_inherits(Module_Viewable,_Viewable2);var _super7=_createSuper(Module_Viewable);function Module_Viewable(module){var _this23;_classCallCheck(this,Module_Viewable);_this23=_super7.call(this);js0.args(arguments,Module);_this23._module=module;_this23._onDisplay=function(displayed){var _iterator43=_createForOfIteratorHelper(_this23._module._$listeners.onDisplay),_step43;try{for(_iterator43.s();!(_step43=_iterator43.n()).done;){var listener=_step43.value;listener(displayed)}}catch(err){_iterator43.e(err)}finally{_iterator43.f()}};return _this23}_createClass(Module_Viewable,[{key:"__activate",value:function __activate(parentNode){this._module._$parentNode=parentNode;// console.log(parentNode, 'Added listener.');
if(this._module._$view===null){// Do nothing.
}else if(js0.type(this._module._$view,js0.Prop(Viewable)))this._module._$view._$viewable.activate(parentNode);else js0.assert("Unknown view type.");var _iterator44=_createForOfIteratorHelper(this._module._$listeners.onActivate),_step44;try{for(_iterator44.s();!(_step44=_iterator44.n()).done;){var listener=_step44.value;listener()}}catch(err){_iterator44.e(err)}finally{_iterator44.f()}}},{key:"__deactivate",value:function __deactivate(parentNode){var _iterator45=_createForOfIteratorHelper(this._module._$listeners.onDeactivate),_step45;try{for(_iterator45.s();!(_step45=_iterator45.n()).done;){var listener=_step45.value;listener()}}catch(err){_iterator45.e(err)}finally{_iterator45.f()}if(this._module._$view===null)return;else if(js0.type(this._module._$view,js0.Prop(Viewable)))this._module._$view._$viewable.deactivate();else js0.assert("Unknown view type.");this._module._$parentNode=null}}]);return Module_Viewable}(Viewable)}})});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\Viewable.js
jsLibs.exportModule("spocky","Viewable",function(require,module,exports){'use strict';var abNodes=require("ab-nodes"),js0=require("js0");var Viewable=/*#__PURE__*/function(){function Viewable(){_classCallCheck(this,Viewable);Object.defineProperties(this,{_parentNode:{value:null,writable:true},_active:{value:false,writable:true},_displayed:{value:false,writable:true}})}_createClass(Viewable,[{key:"active",get:function get(){return this._active}},{key:"displayed",get:function get(){return this._displayed}},{key:"activate",value:function activate(parentNode){js0.args(arguments,abNodes.Node);// setTimeout(() => {
if(!js0.type(parentNode,js0.Prop(abNodes.Node.PChildren)))throw new Error("'parentNode' does not have 'PChildren' property.");if(this._parentNode!==null)this.deactivate();this._parentNode=parentNode;this.__activate(this._parentNode);// }, 10);
this._active=true}},{key:"deactivate",value:function deactivate(){// setTimeout(() => {
if(this._parentNode!==null){this.__deactivate(this._parentNode);this._parentNode=null}// }, 10);
this._active=false}// _setParentNode(parentNode) {
//     js0.args(arguments, abNodes.Node);
//     if (!js0.type(parentNode, js0.Prop(abNodes.Node.PChildren)))
//         throw new Error(`'parentNode' does not have 'PChildren' property.`);
//     if (this._parentNode !== null && this._active)
//         this.deactivate();
//     this._parentNode = parentNode;
//     if (this._active)
//         this.activate();
// }
},{key:"__activate",value:function __activate(parentNode){js0.virtual(this)}},{key:"__deactivate",value:function __deactivate(parentNode){js0.virtual(this)}// activate(parentNode)
// {
//     js0.args(arguments, abNodes.Node);
//     if (!js0.type(parentNode, js0.Prop(abNodes.Node.PChildren)))
//         throw new Error(`'parentNode' does not have 'PChildren' property.`);
//     if (!this._parentNode !== null)
//         this.deactivate();
//     this._parentNode = parentNode;
//     this._parentNode.pChildren.add(this.getNode());
// }
// deactivate(parentNode)
// {
//     if (this._parentNode !== null)
//         this._parentNode.pChildren.remove(this.getNode());
// }
// getNode() { throw new js0.virtual(this); }
// static Validate(object)
// {
//     if (typeof object !== '[object Object]')
//         return false;
//     if (!('viewable' in object))
//         return false;
//     if (!(object.viewable instanceof Viewable))
//         return false;
//
//     return true;
// }
}],[{key:"Property",get:function get(){return"_$viewable"}}]);return Viewable}();module.exports=Viewable});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\LayoutParser.Elems.js
jsLibs.exportModule("spocky","LayoutParser.Elems",function(require,module,exports){'use strict';var js0=require("js0");var Elems=/*#__PURE__*/function(){function Elems(){_classCallCheck(this,Elems);this._elemInfos={}}_createClass(Elems,[{key:"$exists",value:function $exists(elemName){js0.args(arguments,"string");return elemName in this._elemInfos}},{key:"$get",value:function $get(elemName,keys){js0.args(arguments,"string",Array);if(!(elemName in this._elemInfos))throw new Error("Elem '".concat(elemName,"' does not exist."));return this._get(elemName,keys)}},{key:"$index",value:function $index(elemName,keys){js0.args(arguments,"string",Array);var keySets=this.$keys();for(var i=0;i<keySets.length;i++){if(this._keysMatch(keySets[i],keys))return i}return-1}},{key:"$keys",value:function $keys(elemName){js0.args(arguments,"string");if(!this.$exists(elemName))throw new Error("Elem '".concat(elemName,"' does not exist."));var keys=[];var _iterator46=_createForOfIteratorHelper(this._elemInfos[elemName]),_step46;try{for(_iterator46.s();!(_step46=_iterator46.n()).done;){var elemInfo=_step46.value;var keysArr=[];var _iterator47=_createForOfIteratorHelper(elemInfo.keys),_step47;try{for(_iterator47.s();!(_step47=_iterator47.n()).done;){var key=_step47.value;keysArr.push(key)}}catch(err){_iterator47.e(err)}finally{_iterator47.f()}keys.push(keysArr)}}catch(err){_iterator46.e(err)}finally{_iterator46.f()}return keys}},{key:"_add",value:function _add(elemName,keys,elem){this._elemInfos[elemName].push({elem:elem,keys:keys})}},{key:"_declare",value:function _declare(elemName){this._elemInfos[elemName]=[]}},{key:"_get",value:function _get(elemName,keys){var _iterator48=_createForOfIteratorHelper(this._elemInfos[elemName]),_step48;try{for(_iterator48.s();!(_step48=_iterator48.n()).done;){var elemInfo=_step48.value;if(this._keysMatch(elemInfo.keys,keys))return elemInfo.elem}}catch(err){_iterator48.e(err)}finally{_iterator48.f()}throw new Error("Elem '".concat(elemName,"' with keys '")+keys.join(", ")+"' does not exist.")}},{key:"_keysMatch",value:function _keysMatch(keysA,keysB){if(keysA.length!==keysB.length)return false;for(var i=0;i<keysA.length;i++){if(keysA[i]!==keysB[i])return false}return true}},{key:"_remove",value:function _remove(elemName,keys){if(!this.$exists(elemName))throw new Error("Elem '".concat(elemName,"' does not exist."));for(var i=0;i<this._elemInfos[elemName].length;i++){if(this._keysMatch(this._elemInfos[elemName][i].keys,keys)){this._elemInfos[elemName].splice(i,1);return}}var keysStr=keys.join(", ");throw new Error("Elem '".concat(elemName,"' with keys '").concat(keysStr,"' does not exist."))}}]);return Elems}();module.exports=Elems;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\LayoutParser.Holders.js
jsLibs.exportModule("spocky","LayoutParser.Holders",function(require,module,exports){'use strict';var js0=require("js0");var Holders=function Holders(){_classCallCheck(this,Holders)};module.exports=Holders;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\index.js
jsLibs.exportModule("spocky","index",function(require,module,exports){'use strict';var js0=require("js0"),abFields=require("ab-fields"),abNodes=require("ab-nodes");var App=require("./App");var Ext=require("./Ext");var Holder=require("./Holder");var Layout=require("./Layout");var Module=require("./Module");var Viewable=require("./Viewable");var exts=[];function ext(spockyExt){js0.args(arguments,Ext);Layout.Extensions.push(function(layoutNode){spockyExt.onParseLayoutNode(layoutNode)})}var Debug=false;function setDebug(debug){exports.Debug=debug;abFields.setDebug(debug);abNodes.setDebug(debug)};module.exports.App=App;module.exports.Ext=Ext;module.exports.Holder=Holder;module.exports.Layout=Layout;module.exports.Module=Module;module.exports.Viewable=Viewable;module.exports.ext=ext;module.exports.Debug=Debug;module.exports.setDebug=setDebug});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\spocky\PathInfo.js
jsLibs.exportModule("spocky","PathInfo",function(require,module,exports){'use strict';var PathInfo=function PathInfo(importPath){_classCallCheck(this,PathInfo);var separatorIndex=importPath.lastIndexOf(".");var packagePath=importPath.substring(0,separatorIndex);var name=importPath.substring(separatorIndex+1);Object.defineProperties(this,{path:{value:importPath},name:{value:name},packagePath:{value:packagePath}})};module.exports=PathInfo});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-text-parser\Parser.js
jsLibs.exportModule("ab-text-parser","Parser",function(require,module,exports){'use strict';var js0=require("js0");var Parser=/*#__PURE__*/function(){function Parser(text){_classCallCheck(this,Parser);js0.args(arguments,require("./Text"));this.text=text}_createClass(Parser,[{key:"error",value:function error(message,line){throw new Error("Line: "+line+". "+message)}},{key:"finish",value:function finish(){this.text.finishParser(this)}},{key:"read",value:function read(c,i,line){return this.__read(c,i,line)}},{key:"__check",value:function __check(c,i,line){js0.virtual(this)}},{key:"__read",value:function __read(c,i,line){js0.virtual(this)}}]);return Parser}();module.exports=Parser});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-text-parser\Text.js
jsLibs.exportModule("ab-text-parser","Text",function(require,module,exports){'use strict';var js0=require("js0"),TextParser=require("./parsers/TextParser");var Text=/*#__PURE__*/function(){function Text(content){_classCallCheck(this,Text);this.content=content;this.parsers=[new TextParser(this)];this.parts=[];if(content!=="")this.parse()}_createClass(Text,[{key:"addPart",value:function addPart(part){js0.args(arguments,"string");this.parts.push(part)}},{key:"error",value:function error(message,line){throw new Error("Line: "+line+". "+message)}},{key:"finishParser",value:function finishParser(parser){js0.args(arguments,require("./Parser"));this.parsers.pop()}},{key:"parse",value:function parse(){var i=0;var line=1;while(true){var c=this.content[i];var step=0;var activeParser=this.parsers[this.parsers.length-1];step=activeParser.read(c,i,line);if(step===0&&this.parsers[this.parsers.length-1]===activeParser)throw new Error("Parser '".concat(activeParser.constructor.name,"' with step 0 created infinite loop."));i+=step;if(c==="\n")line++;if(i>=this.content.length)break}// if (this.parts.length > 1)
//     throw new Error(`Part '${this.parts[this.elems.length - 1].name}' not closed.`);
}},{key:"startParser",value:function startParser(parser){js0.args(arguments,require("./Parser"));this.parsers.push(parser)}}]);return Text}();module.exports=Text});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-text-parser\parsers\FieldArgsParser.js
jsLibs.exportModule("ab-text-parser","parsers/FieldArgsParser",function(require,module,exports){'use strict';var js0=require("js0"),Parser=require("../Parser");var FieldArgsParser=/*#__PURE__*/function(_Parser){_inherits(FieldArgsParser,_Parser);var _super8=_createSuper(FieldArgsParser);function FieldArgsParser(text,fieldParser){var _this24;_classCallCheck(this,FieldArgsParser);js0.args(arguments,require("../Text"),require("./FieldParser"));_this24=_super8.call(this,text);_this24.fieldParser=fieldParser;_this24.args="";return _this24}_createClass(FieldArgsParser,[{key:"__read",value:function __read(c,i,line){var step;if(c===")"){this.fieldParser.args=this.args;this.finish();if(i+1>=this.text.content.length&&!this.fieldParser.escaped){if(this.name!==""){this.fieldParser.finish();this.fieldParser.addField()}}return 1}this.args+=c;return 1}}],[{key:"IsStart",value:function IsStart(c,i,line){return c==="("?1:0}}]);return FieldArgsParser}(Parser);module.exports=FieldArgsParser});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-text-parser\index.js
jsLibs.exportModule("ab-text-parser","index",function(require,module,exports){'use strict';var abTextParser_Class=/*#__PURE__*/function(){function abTextParser_Class(){_classCallCheck(this,abTextParser_Class)}_createClass(abTextParser_Class,[{key:"parse",value:function parse(text){var Text=require("./Text");var t=new Text(text);return t.parts}}]);return abTextParser_Class}();module.exports=new abTextParser_Class});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-text-parser\parsers\ExprParser.js
jsLibs.exportModule("ab-text-parser","parsers/ExprParser",function(require,module,exports){'use strict';var js0=require("js0"),Parser=require("../Parser");var ExprParser=/*#__PURE__*/function(_Parser2){_inherits(ExprParser,_Parser2);var _super9=_createSuper(ExprParser);function ExprParser(text,parser){var _this25;_classCallCheck(this,ExprParser);js0.args(arguments,require("../Text"),require("../Parser"));_this25=_super9.call(this,text);_this25.parentParser=parser;_this25.parentParser_Type=null;if(js0.type(parser,require("./TextParser")))_this25.parentParser_Type="text";else if(js0.type(parser,require("./AttribValueParser")))_this25.parentParser_Type="attrib";js0.assert(_this25.parentParser_Type!==null,"Invalid parser type: ".concat(parser.constructor.name,"."));_this25.quoteOpened=null;_this25.quotes=["\"","'","`"];for(var quote in _this25.quotes_Opened){_this25.quotes.push(quote)}_this25.bracketsOpened=0;_this25.value="";return _this25}_createClass(ExprParser,[{key:"__read",value:function __read(c,i,line){var step;if(this.quoteOpened===null){if(this.quotes.includes(c)){this.quoteOpened=c;this.value+=c;return 1}}else{if(c===this.quoteOpened&&this.text.content[i-1]!=="\\"){this.quoteOpened=null;this.value+=c;return 1}}if(this.quoteOpened===null){if(c==="("){this.bracketsOpened++;this.value+=c;return 1}if(c===")"){if(this.bracketsOpened>0){this.bracketsOpened--;this.value+=c;return 1}if(this.parentParser_Type==="text"){this.text.addPart("?("+this.value+")")}else if(this.parentParser_Type==="attrib"){this.parentParser.attribParser.tagParser.attribs[this.parentParser.attribParser.name].push("?("+this.value+")")}this.finish();return 1}}this.value+=c;return 1}}],[{key:"IsStart",value:function IsStart(content,i){if(content.length>i+1){if(content[i]!=="?")return 0;if(content[i+1]!=="(")return 0;if(content[i-1]==="\\")return 0;return 2}return 0}}]);return ExprParser}(Parser);module.exports=ExprParser});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-text-parser\parsers\FieldParser.js
jsLibs.exportModule("ab-text-parser","parsers/FieldParser",function(require,module,exports){'use strict';var js0=require("js0"),Parser=require("../Parser"),FieldArgsParser=require("./FieldArgsParser");var FieldParser=/*#__PURE__*/function(_Parser3){_inherits(FieldParser,_Parser3);var _super10=_createSuper(FieldParser);function FieldParser(text,parser){var _this26;_classCallCheck(this,FieldParser);js0.args(arguments,require("../Text"),require("../Parser"));_this26=_super10.call(this,text);_this26.parentParser=parser;_this26.parentParser_Type=null;if(js0.type(parser,require("./TextParser")))_this26.parentParser_Type="text";else if(js0.type(parser,require("./AttribValueParser")))_this26.parentParser_Type="attrib";js0.assert(_this26.parentParser_Type!==null,"Invalid parser type: ".concat(parser.constructor.name,"."));_this26.name="";_this26.args=null;_this26.bracketsOpened=0;_this26.escaped=false;_this26.regexp=/[a-zA-Z0-9_.]/;return _this26}_createClass(FieldParser,[{key:"__read",value:function __read(c,i,line){var step;if(this.name===""&&!this.escaped){if(i+2<this.text.content.length){if(this.text.content[i+2]==="{"){this.escaped=true;return 1}}if(i+1<this.text.content.length){if(this.text.content[i+1]==="{"){this.bracketsOpened++;this.name+="{";return 1}}if(c==="{"){this.escaped=true;return 1}}if(c==="{"){this.bracketsOpened++;this.name+="{";return 1}if(c==="}"){if(this.bracketsOpened>0){this.bracketsOpened--;this.name+="}";return 1}}if(this.regexp.test(c)){if(this.args!==null){if(this.name!==""){this.addField();this.finish();return 0}}this.name+=c;if(i+1>=this.text.content.length&&!this.escaped){if(this.name!==""){this.addField();this.finish()}}return 1}if(this.name!==""){if(c==="("){this.text.startParser(new FieldArgsParser(this.text,this));return 1}}if(this.escaped){if(c!=="}")this.error("Wrong field name format.",line);this.addField();this.finish();return 1}this.addField();this.finish();return 0}},{key:"addField",value:function addField(){if(this.parentParser_Type==="text"){this.text.addPart(this._getField())}else if(this.parentParser_Type==="attrib"){this.parentParser.attribParser.tagParser.attribs[this.parentParser.attribParser.name].push(this._getField())}}},{key:"_getField",value:function _getField(){return"$"+(this.escaped?"{":"")+this.name+(this.args===null?"":"("+this.args+")")+(this.escaped?"}":"")}}],[{key:"IsStart",value:function IsStart(document,c,i,line){if(c!=="$")return 0;if(i>=1){if(document.content[i-1]==="\\")return 0}return 1}}]);return FieldParser}(Parser);module.exports=FieldParser});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-text-parser\parsers\TextParser.js
jsLibs.exportModule("ab-text-parser","parsers/TextParser",function(require,module,exports){'use strict';var js0=require("js0"),Parser=require("../Parser"),ExprParser=require("./ExprParser"),FieldParser=require("./FieldParser");var TextParser=/*#__PURE__*/function(_Parser4){_inherits(TextParser,_Parser4);var _super11=_createSuper(TextParser);function TextParser(text){var _this27;_classCallCheck(this,TextParser);js0.args(arguments,require("../Text"));_this27=_super11.call(this,text);_this27.value=null;// this._htmlEntities = new htmlEntities.AllHtmlEntities();
return _this27}_createClass(TextParser,[{key:"__read",value:function __read(c,i,line){var step;// step = TagParser.IsStart(c);
// if (step > 0) {
//     if (this.value !== null && this.value !== '') {
//         while ([ ' ', "\r", "\n" ].includes(this.value[this.value.length - 1]))
//             this.value = this.value.substring(0, this.value.length - 1);
//         if (this.value !== '') {
//             this.text.addNode({
//                 type: 'text',
//                 value: this._decodeHtml(this.value),
//             });
//         }
//     }
//     this.finish();
//     return 0;
// }
if(this.value===null){if(c===" "||c==="\r"||c==="\n")return 1;this.value=""}step=FieldParser.IsStart(this.text,c,i,line);if(step>0){if(this.value!==null&&this.value!==""){this.text.addPart(this.value)}this.value="";this.text.startParser(new FieldParser(this.text,this));return step}step=ExprParser.IsStart(this.text.content,i);if(step>0){if(this.value!==null&&this.value!==""){this.text.addPart(this.value)}this.value="";this.text.startParser(new ExprParser(this.text,this));return step}this.value+=c;if(i+1>=this.text.content.length){this.text.addPart(this.value);this.finish()}return 1}},{key:"_decodeHtml",value:function _decodeHtml(str){// return this._htmlEntities.decode(str);
}}],[{key:"IsStart",value:function IsStart(c,i,line){return c==="<"?1:0}}]);return TextParser}(Parser);module.exports=TextParser});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-strings\index.js
jsLibs.exportModule("ab-strings","index",function(require,module,exports){'use strict';var js0=require("js0");var abStrings_Class=/*#__PURE__*/function(){function abStrings_Class(){_classCallCheck(this,abStrings_Class)}_createClass(abStrings_Class,[{key:"escapeLangChars",value:function escapeLangChars(string){var replaceFrom=["\u0105","\u0107","\u0119","\u0142","\u0144","\xF3","\u015B","\u017A","\u017C","\u0104","\u0106","\u0118","\u0141","\u0143","\xD3","\u015A","\u0179","\u017B"];var replaceTo=["a","c","e","l","n","o","s","z","z","A","C","E","L","N","O","S","Z","Z"];var regexp=new RegExp(replaceFrom.join("|"),"g");return string.replace(regexp,function(match){return replaceTo[replaceFrom.indexOf(match)]})}},{key:"escapeToAllowedChars",value:function escapeToAllowedChars(string,allowedCharacters){var regexp=new RegExp("[^".concat(allowedCharacters,"]"),"g");return string.replace(regexp,"")}},{key:"escapeRegExpChars",value:function escapeRegExpChars(string){return string.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},{key:"getCharsRegExp",value:function getCharsRegExp(){var types=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var extra=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var langs=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var _iterator49=_createForOfIteratorHelper(types),_step49;try{for(_iterator49.s();!(_step49=_iterator49.n()).done;){var type=_step49.value;if(!types.includes(type))throw new Error("Unknown chars type '".concat(type,"'."))}}catch(err){_iterator49.e(err)}finally{_iterator49.f()}var chars="";if(types.includes("digits"))chars+="0-9";if(types.includes("letters"))chars+="a-zA-Z"+this.getLangsSpecialCharacters();if(types.includes("special")){chars+=" `!@#%&_=/<>:;\",'"+"\\\\"+"\\^"+"\\$"+"\\."+"\\["+"\\]"+"\\|"+"\\("+"\\)"+"\\?"+"\\*"+"\\+"+"\\{"+"\\}"+"\\-"}return chars+this.escapeRegExpChars(extra)}},{key:"getCharsRegExp_Basic",value:function getCharsRegExp_Basic(){return this.getCharsRegExp(["digits","letters","special"])}},{key:"getLangsSpecialCharacters",value:function getLangsSpecialCharacters(){var langs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(langs===null)langs=["pl"];var chars="";if(langs.includes("pl"))chars+="\u0105\u0107\u0119\u0142\u0144\xF3\u015B\u017A\u017C"+"\u0104\u0106\u0118\u0141\u0143\xD3\u015A\u0179\u017B";return chars}},{key:"pad",value:function pad(str,_pad,size){js0.args(arguments,"string","string",js0.Int);str=str+"";while(str.length<size){str=_pad+str}return str.substr(0,size)}},{key:"removeDoubles",value:function removeDoubles(string,_char){var regexp=new RegExp("".concat(_char).concat(_char),"g");while(string.match(regexp)){string=string.replace(regexp,_char)}return string}}]);return abStrings_Class}();module.exports=new abStrings_Class});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-nodes\Node.PChildren.js
jsLibs.exportModule("ab-nodes","Node.PChildren",function(require,module,exports){'use strict';var Node=require("./Node");var js0=require("js0");Object.defineProperty(Node,"PChildren",{value:/*#__PURE__*/function(){function Node_PChildren(node){_classCallCheck(this,Node_PChildren);js0.args(arguments,Node);this._node=node;this._children=[]}_createClass(Node_PChildren,[{key:"length",get:function get(){return this._children.length}},{key:"node",get:function get(){return this._node}},{key:"add",value:function add(childNode){var nextNode=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;js0.args(arguments,Node,[Node,js0.Default]);var insertIndex=nextNode===null?this._children.length:this._children.indexOf(nextNode);if(insertIndex===-1)new Error("`nextNode` does not exist in `childNode` parent.");childNode._parentNode=this._node;this._children.splice(insertIndex,0,childNode);this.__onAddChild(childNode)}// addAt(index, childNode)
// {
//     js0.args(arguments, 'number', Node);
//     if (index < 0)
//         throw new Error(`Index '${index}' cannot be lower than 0.`);
//     if (index > this._children.length)
//         throw new Error(`Index '${index}' cannot be higher than children size '${this._children.length}'.`);
//     childNode._parentNode = this._node;
//     this._children.splice(index, 0, childNode);
//     this.__onAddChild(childNode);
// }
},{key:"createCopy",value:function createCopy(topNodeCopy,instanceKeys){js0.args(arguments,Node,Array);js0.typeE(this._node,js0.Prop(Node.PCopyable));var nodeCopiesStack=[topNodeCopy];while(nodeCopiesStack.length>0){var nodeCopy=nodeCopiesStack.pop();var children=nodeCopy.pCopyable.getOriginalNode().pChildren;for(var i=0;i<children.length;i++){var childNodeCopy=children.get(i).pCopyable.createCopy(instanceKeys,false);nodeCopy.pChildren.add(childNodeCopy);if(!js0.type(childNodeCopy,js0.Prop(Node.PChildren)))continue;// /* Copy only first repeat node. */
// console.log('Test', nodeCopy === top_node);
if(js0.type(childNodeCopy,require("./nodes/RepeatNode")))continue;nodeCopiesStack.push(childNodeCopy)}}}},{key:"deleteCopies",value:function deleteCopies(topOriginalNode,instanceKeys){js0.args(arguments,Node,Array);var originalNodesStack=[topOriginalNode];while(originalNodesStack.length>0){var originalNode=originalNodesStack.pop();var children=originalNode.pChildren;for(var i=0;i<children.length;i++){var childNode=children.get(i);childNode.pCopyable.deleteCopies(instanceKeys,false);if(!js0.type(childNode,js0.Prop(Node.PChildren)))continue;originalNodesStack.push(childNode)}// nodeCopiesStack.shift();
// children_stack.shift();
}return topOriginalNode}},{key:"findNext",value:function findNext(childNode){var childNodeIndex=this._children.indexOf(childNode);js0.assert(childNodeIndex!==-1,"`childNode` not found.");if(childNodeIndex<this._children.length-1)return this._children[childNodeIndex+1];return null}},{key:"findNextHtmlElement",value:function findNextHtmlElement(childNode){var nextHtmlElement=null;// console.log('Test', this.node, childNode)
var nextNode=this.findNext(childNode);if(nextNode!==null)nextHtmlElement=nextNode.firstHtmlElement;if(nextHtmlElement!==null)return nextHtmlElement;nextHtmlElement=this.__getNextHtmlElement();// js0.assert(typeof nextHtmlElement !== 'undefined', '???');
// if (typeof nextHtmlElement === 'undefined')
//     throw new Error();
return nextHtmlElement}// findNextHtmlElement(childNode)
// {
//     let nextHtmlElement = null;
//     let startIndex = null;
//     for (let i = 0; i < this._children.length; i++) {
//         if (this._children[i] === childNode) {
//             startIndex = i + 1;
//             break;
//         }
//     }
//     if (startIndex === null)
//         throw new Error(`Node '${childNode}' is not a child of '${this._node}'.`);
//     for (let i = startIndex; i < this._children.length; i++) {
//         let nextNode = this._children[i];
//         let nextHtmlElement = nextNode.__getFirstHtmlElement();
//         if (!js0.type(nextHtmlElement, [ HTMLElement, Text, js0.Null ])) {
//             throw new Error(`\`__getFirstHtmlElement\` in \`${this.constructor.name}\`` +
//                     `does not return \`HTMLElement\`.`);
//         }
//         if (nextHtmlElement !== null)
//             return nextHtmlElement;
//             nextHtmlElement = this.__getNextHtmlElement();
//         if (nextHtmlElement !== null)
//             return nextHtmlElement;
//     }
//     return null;
// }
},{key:"get",value:function get(childNodeIndex){return this._children[childNodeIndex]}},{key:"remove",value:function remove(childNode){js0.args(arguments,Node);for(var i=0;i<this._children.length;i++){if(this._children[i]===childNode){childNode.refreshDisplayed(true);childNode.deactivate();this._children.splice(i,1)}}}},{key:"__getNext",value:function __getNext(childNode){return this.findNext(childNode)}},{key:"__getNextHtmlElement",value:function __getNextHtmlElement(){return null}},{key:"__onAddChild",value:function __onAddChild(){js0.virtual(this)}}],[{key:"Property",get:function get(){return"pChildren"}}]);return Node_PChildren}()});module.exports=Node.PChildren});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-nodes\HtmlElement.js
jsLibs.exportModule("ab-nodes","HtmlElement",function(require,module,exports){'use strict';var abNodes=require(".");var HtmlElement=/*#__PURE__*/function(){function HtmlElement(){_classCallCheck(this,HtmlElement)}_createClass(HtmlElement,null,[{key:"AddChild",value:function AddChild(parentHtmlElement,htmlElement){var nextHtmlElement=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;try{if(nextHtmlElement===null)parentHtmlElement.appendChild(htmlElement);else parentHtmlElement.insertBefore(htmlElement,nextHtmlElement)}catch(e){if(abNodes.debug)console.warn(e)}}},{key:"ClearChildren",value:function ClearChildren(htmlElement){while(htmlElement.firstChild){htmlElement.removeChild(htmlElement.firstChild)}}},{key:"RemoveChild",value:function RemoveChild(parentHtmlElement,htmlElement){try{parentHtmlElement.removeChild(htmlElement)}catch(e){if(abNodes.debug)console.warn(e)}}}]);return HtmlElement}();module.exports=HtmlElement});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-nodes\Node.js
jsLibs.exportModule("ab-nodes","Node",function(require,module,exports){'use strict';var js0=require("js0");var Node=/*#__PURE__*/function(){function Node(){_classCallCheck(this,Node);this._active=false;this._displayed=false;this._parentNode=null;this._listeners_OnDisplay=[]}_createClass(Node,[{key:"active",get:function get(){return this._active}},{key:"displayed",get:function get(){return this._displayed}},{key:"firstHtmlElement",get:function get(){var firstHtmlElement=this.__getFirstHtmlElement();if(!js0.type(firstHtmlElement,[HTMLElement,Text,js0.Null])){throw new Error("`__getFirstHtmlElement` in `".concat(this.constructor.name,"`")+"does not return `HTMLElement`.")}if(firstHtmlElement!==null)return firstHtmlElement;if(this.hasParent){var nextHtmlElement=this.parentNode.pChildren.findNextHtmlElement(this);if(nextHtmlElement===null)return null;return nextHtmlElement}return null;;}},{key:"hasParent",get:function get(){return this._parentNode!==null}},{key:"htmlElement",get:function get(){var htmlElement=this.__getHtmlElement();if(!js0.type(htmlElement,HTMLElement)){throw new Error("`__getHtmlElement` in `".concat(this.constructor.name,"`")+"does not return `HTMLElement`.")}return htmlElement}},{key:"nextHtmlElement",get:function get(){if(this.hasParent)return this.parentNode.pChildren.findNextHtmlElement(this);return null}},{key:"nextNode",get:function get(){return this.hasParent?this.parentNode.pChildren.__getNext(this):null}},{key:"parentNode",get:function get(){// if (this._parentNode === null)
//     throw new Error('Parent node not set.');
return this._parentNode}},{key:"activate",value:function activate(){if(this.active)return;this._active=true;this.__onActivate()}},{key:"addListener_OnDisplay",value:function addListener_OnDisplay(listener){this._listeners_OnDisplay.push(listener)}},{key:"deactivate",value:function deactivate(){if(!this.active)return;this._active=false;this.__onDeactivate()}},{key:"refreshDisplayed",value:function refreshDisplayed(){var refreshChildren=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var displayed=this.__isDisplayed();if(this._displayed===displayed)return;this._displayed=displayed;var _iterator50=_createForOfIteratorHelper(this._listeners_OnDisplay),_step50;try{for(_iterator50.s();!(_step50=_iterator50.n()).done;){var listener=_step50.value;listener(displayed)}}catch(err){_iterator50.e(err)}finally{_iterator50.f()}if(refreshChildren){if(js0.type(this,js0.Prop(Node.PChildren))){for(var i=0;i<this.pChildren.length;i++){this.pChildren.get(i).refreshDisplayed(true)}}}}},{key:"removeListener_OnDisplay",value:function removeListener_OnDisplay(listener){for(var i=this._listeners_OnDisplay.length-1;i>=0;i--){if(this._listeners_OnDisplay[i]===listener)this._listeners_OnDisplay.splice(i,1)}}},{key:"__getHtmlElement",value:function __getHtmlElement(){js0.virtual(this)}},{key:"__getFirstHtmlElement",value:function __getFirstHtmlElement(){js0.virtual(this)}},{key:"__isDisplayed",value:function __isDisplayed(){js0.virtual(this)}},{key:"__onActivate",value:function __onActivate(){js0.virtual(this)}},{key:"__onDeactivate",value:function __onDeactivate(){js0.virtual(this)}}]);return Node}();module.exports=Node;require("./Node.PChildren");require("./Node.PCopyable")});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-nodes\Node.PCopyable.js
jsLibs.exportModule("ab-nodes","Node.PCopyable",function(require,module,exports){'use strict';var Node=require("./Node");var js0=require("js0");Object.defineProperty(Node,"PCopyable",{value:/*#__PURE__*/function(){function Node_PCopyable(node,args){_classCallCheck(this,Node_PCopyable);js0.args(arguments,Node,null);this._node=node;this.__args=args;this._copies=[];this._copies_ByInstanceKeys={};this._source=null;this._instanceKeys=[];this._listeners_OnCreate=[];this._listeners_OnDestroy=[]}_createClass(Node_PCopyable,[{key:"node",get:function get(){return this._node}},{key:"sourceNode",get:function get(){return this._source}},{key:"createCopy",value:function createCopy(instanceKeys){var deepCopy=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;js0.args(arguments,Array,["boolean",js0.Default]);js0.assert(this._source===null,"Cannot create copy of a copy.");// console.log('CREATE NODE', this.node.constructor.name, instanceKeys);
var nodeCopy=this.__createCopy(instanceKeys);nodeCopy.pCopyable._source=this.node;var _iterator51=_createForOfIteratorHelper(instanceKeys),_step51;try{for(_iterator51.s();!(_step51=_iterator51.n()).done;){var instanceKey=_step51.value;nodeCopy.pCopyable._instanceKeys.push(instanceKey)}}catch(err){_iterator51.e(err)}finally{_iterator51.f()}if(deepCopy&&js0.type(this.node,js0.Prop(Node.PChildren)))this.node.pChildren.createCopy(nodeCopy,instanceKeys);this._copies_Add(instanceKeys,nodeCopy);// this._copies.push(nodeCopy);
var _iterator52=_createForOfIteratorHelper(this._listeners_OnCreate),_step52;try{for(_iterator52.s();!(_step52=_iterator52.n()).done;){var listener=_step52.value;listener(nodeCopy,instanceKeys)}}catch(err){_iterator52.e(err)}finally{_iterator52.f()}return nodeCopy}},{key:"deleteCopies",value:function deleteCopies(instanceKeys){var deepDelete=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;js0.args(arguments,Array,["boolean",js0.Default]);js0.assert(this._source===null,"Cannot create copy of a copy.");var nodeCopies=this._copies_Get(instanceKeys,true);var _iterator53=_createForOfIteratorHelper(nodeCopies),_step53;try{for(_iterator53.s();!(_step53=_iterator53.n()).done;){var nodeCopy=_step53.value;for(var i=this._copies.length-1;i>=0;i--){if(this._copies[i]!==nodeCopy)continue;var _iterator54=_createForOfIteratorHelper(this._listeners_OnDestroy),_step54;try{for(_iterator54.s();!(_step54=_iterator54.n()).done;){var listener_OnDestroy=_step54.value;listener_OnDestroy(nodeCopy,instanceKeys)}}catch(err){_iterator54.e(err)}finally{_iterator54.f()}this._copies.splice(i,1);break}}}catch(err){_iterator53.e(err)}finally{_iterator53.f()}if(deepDelete&&js0.type(this.node,js0.Prop(Node.PChildren)))this.node.pChildren.deleteCopies(this.node,instanceKeys)}},{key:"getInstanceKeys",value:function getInstanceKeys(){return this._instanceKeys.slice()}},{key:"getNodeCopies",value:function getNodeCopies(){var instanceKeys=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,[Array,js0.Default]);if(instanceKeys===null)return this._copies.slice();// console.log('QQQ', this._copies.length);
return this._copies_Get(instanceKeys);// let nodeCopies = [];
// for (let nodeCopy of this._copies) {
//     // console.log('WTF?');
//     // console.log('Bam', instanceKeys, nodeCopy.pCopyable._instanceKeys);
//     if (nodeCopy.pCopyable.matchInstanceKeys(instanceKeys))
//         nodeCopies.push(nodeCopy);
// }
// return nodeCopies;
}},{key:"getOriginalNode",value:function getOriginalNode(){var sourceNode=this.node;while(sourceNode.pCopyable._source!==null){sourceNode=this._source}return sourceNode}},{key:"matchInstanceKeys",value:function matchInstanceKeys(instanceKeys){var exact=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;js0.args(arguments,Array);if(this._source===null)throw new Error("`matchInstanceKeys` on node that is not a copy.");if(exact){if(instanceKeys.length!==this._instanceKeys.length)return false}for(var i=0;i<instanceKeys.length;i++){if(instanceKeys[i]===null)continue;if(instanceKeys[i]!==this._instanceKeys[i])return false}return true}},{key:"onCreate",value:function onCreate(onCreateListener){this._listeners_OnCreate.push(onCreateListener)}},{key:"onDestroy",value:function onDestroy(onDestroyListener){this._listeners_OnDestroy.push(onDestroyListener)}},{key:"_copies_Add",value:function _copies_Add(instanceKeys,nodeCopy){var copies_Root=this._copies_GetRoot(this._copies_ByInstanceKeys,instanceKeys,true);if(!("_$nodes"in copies_Root))copies_Root._$nodes=[];copies_Root._$nodes.push(nodeCopy);this._copies.push(nodeCopy)}},{key:"_copies_Get",value:function _copies_Get(instanceKeys){var remove=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var copies_Root=this._copies_GetRoot(this._copies_ByInstanceKeys,instanceKeys,false);if(copies_Root===null)return[];if(!("_$nodes"in copies_Root))return[];if(remove){var nodeCopies=copies_Root._$nodes;copies_Root._$nodes=[];return nodeCopies}else return copies_Root._$nodes.slice()}},{key:"_copies_GetRoot",value:function _copies_GetRoot(copies_Current,instanceKeys,create){for(var i=0;i<instanceKeys.length;i++){if(instanceKeys[i]===null){var copies={_$nodes:[]};for(var instanceKey_T in copies_Current){var copies_New=this._copies_GetRoot(copies_Current[instanceKey_T],instanceKeys.slice(1),create);if(copies_New!==null){if("_$nodes"in copies_New){copies._$nodes=copies._$nodes.concat(copies_New._$nodes)}}}return copies}if(!(instanceKeys[i]in copies_Current)){if(create)copies_Current[instanceKeys[i]]={};else return null}copies_Current=copies_Current[instanceKeys[i]]}return copies_Current}// _copies_GetRoot(instanceKeys, create)
// {
//     let copies_Current = this._copies_ByInstanceKeys;
//     for (let i = 0; i < instanceKeys.length; i++) {
//         if (!(instanceKeys[i] in copies_Current)) {
//             if (create)
//                 copies_Current[instanceKeys[i]] = {};
//             else
//                 return null;
//         }
//         copies_Current = copies_Current[instanceKeys[i]];
//     }
//     return copies_Current;
// }
},{key:"__addInstance",value:function __addInstance(key,instanceNode){js0.args(arguments,["string","number"],require("./nodes/RepeatNode").InstanceNode);this._instanceInfos.push({key:key,instanceNode:instanceNode});instanceNode.addNodeCopy(this.node)}// __setSourceNode(sourceNode)
// {
//     js0.args(arguments, Node);
//
//     this._source = sourceNode;
// }
},{key:"__createCopy",value:function __createCopy(instanceKeys){js0.virtual(this)}}],[{key:"Property",get:function get(){return"pCopyable"}}]);return Node_PCopyable}()});module.exports=Node.PCopyable});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-nodes\index.js
jsLibs.exportModule("ab-nodes","index",function(require,module,exports){'use strict';var js0=require("js0");var abNodes_Class=/*#__PURE__*/function(){function abNodes_Class(){_classCallCheck(this,abNodes_Class);this._debug=false}_createClass(abNodes_Class,[{key:"HideNode",get:function get(){return require("./nodes/HideNode")}},{key:"Node",get:function get(){return require("./Node")}},{key:"RepeatNode",get:function get(){return require("./nodes/RepeatNode")}},{key:"RootNode",get:function get(){return require("./nodes/RootNode")}},{key:"ShowNode",get:function get(){return require("./nodes/ShowNode")}},{key:"SingleNode",get:function get(){return require("./nodes/SingleNode")}},{key:"TextNode",get:function get(){return require("./nodes/TextNode")}},{key:"debug",get:function get(){return this._debug}},{key:"setDebug",value:function setDebug(debug){js0.args(arguments,"boolean");this._debug=debug}}]);return abNodes_Class}();;module.exports=new abNodes_Class});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-nodes\nodes\HideNode.js
jsLibs.exportModule("ab-nodes","nodes/HideNode",function(require,module,exports){'use strict';var js0=require("js0");var Node=require("../Node");var HideNode=/*#__PURE__*/function(_Node){_inherits(HideNode,_Node);var _super12=_createSuper(HideNode);function HideNode(){var _this28;_classCallCheck(this,HideNode);_this28=_super12.call(this);js0.prop(_assertThisInitialized(_this28),HideNode.PChildren,_assertThisInitialized(_this28));js0.prop(_assertThisInitialized(_this28),HideNode.PCopyable,_assertThisInitialized(_this28),arguments);_this28._hide=false;return _this28}/* Node */_createClass(HideNode,[{key:"hide",get:function get(){return this._hide},set:function set(hideValue){js0.args(arguments,"boolean");if(hideValue===this._hide)return;this._hide=hideValue;if(!this.active)return;if(hideValue){for(var i=0;i<this.pChildren.length;i++){this.pChildren.get(i).deactivate()}this.refreshDisplayed(true)}else{for(var _i4=0;_i4<this.pChildren.length;_i4++){this.pChildren.get(_i4).activate()}this.refreshDisplayed(true)}}},{key:"__isDisplayed",value:function __isDisplayed(){if(!this.active||this.hide)return false;return this.parentNode.displayed}},{key:"__onActivate",value:function __onActivate(){js0.assert(this.parentNode!==null,"Parent node not set.");if(this.hide)return;for(var i=0;i<this.pChildren.length;i++){this.pChildren.get(i).activate()}this.refreshDisplayed(true)}},{key:"__onDeactivate",value:function __onDeactivate(){if(this.hide)return;this.refreshDisplayed(true);for(var i=this.pChildren.length-1;i>=0;i--){this.pChildren.get(i).deactivate()}}},{key:"__getHtmlElement",value:function __getHtmlElement(){js0.assert(this.parentNode!==null,"Parent node not set.");return this.parentNode.htmlElement}},{key:"__getFirstHtmlElement",value:function __getFirstHtmlElement(){for(var i=0;i<this.pChildren.length;i++){var childFirstHtmlElement=this.pChildren.get(i).firstHtmlElement;if(childFirstHtmlElement!==null)return childFirstHtmlElement}return null}/* / Node */}]);return HideNode}(Node);module.exports=HideNode;Object.defineProperties(HideNode,{PChildren:{value:/*#__PURE__*/function(_Node$PChildren){_inherits(HideNode_PChildren,_Node$PChildren);var _super13=_createSuper(HideNode_PChildren);function HideNode_PChildren(node){_classCallCheck(this,HideNode_PChildren);return _super13.call(this,node)}_createClass(HideNode_PChildren,[{key:"__onAddChild",value:function __onAddChild(childNode,nextNode){// if (nextNode === null)
//     childNode._nextNode = this._nextNode;
if(this.node.active&&!this.node.hide)childNode.activate()}},{key:"__getNext",value:function __getNext(childNode){var nextNode=this.findNext(childNode);if(nextNode!==null)return nextNode;return this.node.nextNode}},{key:"__getNextHtmlElement",value:function __getNextHtmlElement(){return this.node.nextHtmlElement}}]);return HideNode_PChildren}(Node.PChildren)}});Object.defineProperties(HideNode,{PCopyable:{value:/*#__PURE__*/function(_Node$PCopyable){_inherits(HideNode_PCopyable,_Node$PCopyable);var _super14=_createSuper(HideNode_PCopyable);function HideNode_PCopyable(node,args){_classCallCheck(this,HideNode_PCopyable);return _super14.call(this,node,args)}_createClass(HideNode_PCopyable,[{key:"__createCopy",value:function __createCopy(deepCopy,nodeInstances){return new HideNode}}]);return HideNode_PCopyable}(Node.PCopyable)}})});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-nodes\nodes\RepeatNode.js
jsLibs.exportModule("ab-nodes","nodes/RepeatNode",function(require,module,exports){'use strict';var js0=require("js0");var HtmlElement=require("../HtmlElement");var Node=require("../Node");var TextNode=require("./TextNode");var RepeatNode=/*#__PURE__*/function(_Node2){_inherits(RepeatNode,_Node2);var _super15=_createSuper(RepeatNode);function RepeatNode(){var _this29;_classCallCheck(this,RepeatNode);_this29=_super15.call(this);js0.prop(_assertThisInitialized(_this29),RepeatNode.PChildren,_assertThisInitialized(_this29));js0.prop(_assertThisInitialized(_this29),RepeatNode.PCopyable,_assertThisInitialized(_this29),arguments);_this29._instances=new js0.List;return _this29}_createClass(RepeatNode,[{key:"add",value:function add(key){if(this._instances.has(key))throw new Error("Instance with key `".concat(key,"` already exists."));var instance=new RepeatNode.InstanceNode(this,key);this._instances.set(key,instance);var node_Original=this.pCopyable.getOriginalNode();var instanceKeys=this.pCopyable._instanceKeys.concat([key]);for(var i=0;i<node_Original.pChildren.length;i++){var newChildNode=node_Original.pChildren.get(i).pCopyable.createCopy(instanceKeys);instance.pChildren.add(newChildNode)}if(this.active)instance.activate()}},{key:"addAt",value:function addAt(index,key){if(this._instances.has(key))throw new Error("Instance with key `".concat(key,"` already exists."));if(index<0)throw new Error("Index '".concat(index,"' cannot be lower than 0."));if(index>this._instances.size)throw new Error("Index '".concat(index,"' cannot be higher than instances size '").concat(this._instances.size,"'."));var instance=new RepeatNode.InstanceNode(this,key);this._instances.addAt(index,key,instance);var node_Original=this.pCopyable.getOriginalNode();var instanceKeys=this.pCopyable._instanceKeys.concat([key]);for(var i=0;i<node_Original.pChildren.length;i++){var newChildNode=node_Original.pChildren.get(i).pCopyable.createCopy(instanceKeys);instance.pChildren.add(newChildNode)}if(this.active)instance.activate()}},{key:"delete",value:function _delete(key){if(!this._instances.has(key))throw new Error("Instance with key `".concat(key," does not exist."));var instance=this._instances.get(key);this._instances["delete"](key);var node_Original=this.pCopyable.getOriginalNode();var instanceKeys=this.pCopyable._instanceKeys.concat([key]);for(var i=0;i<node_Original.pChildren.length;i++){node_Original.pChildren.get(i).pCopyable.deleteCopies(instanceKeys)}//
// for (let i = 0; i < node_Original.pChildren.length; i++) {
//
//     let newChildNode = node_Original.pChildren.get(i).pCopyable.createCopy(
//             true, this.pCopyable._instanceKeys.concat([ key ]));
//     instance.pChildren.add(newChildNode);
// }
if(this.active)instance.deactivate()}},{key:"getInstanceNodeCopies",value:function getInstanceNodeCopies(sourceNode,key){js0.args(arguments,Node,["string","number"]);if(!this._instances.has(key))return null;var instance=this._instances.get(key);var nodeCopies=[];var _iterator55=_createForOfIteratorHelper(instance._nodeCopies),_step55;try{for(_iterator55.s();!(_step55=_iterator55.n()).done;){var nodeCopy=_step55.value;if(nodeCopy.pCopyable.sourceNode===sourceNode)nodeCopies.push(nodeCopy)}}catch(err){_iterator55.e(err)}finally{_iterator55.f()}return nodeCopies}},{key:"pop",value:function pop(){if(this._instances.size<=0)throw new Error("Cannot `pop` on empty `RepeatNode`.");var key=Array.from(this._instances.keys)[this._instances.size-1];var lastInstance=this._instances.get(key);if(this.active)lastInstance.deactivate()}},{key:"push",value:function push(){var index=0;while(this._instances.has(index)){index++}this.add(index)}/* Node */},{key:"__isDisplayed",value:function __isDisplayed(){if(!this.active)return false;return this.parentNode.displayed}},{key:"__onActivate",value:function __onActivate(){js0.assert(this.parentNode!==null,"Parent node not set.");for(var i=0;i<this._instances.size;i++){this._instances.getAt(i).activate()}}},{key:"__onDeactivate",value:function __onDeactivate(){for(var i=this._instances.size-1;i>=0;i--){this._instances.getAt(i).deactivate()}}},{key:"__getHtmlElement",value:function __getHtmlElement(){js0.assert(this.parentNode!==null,"Parent node not set.");return this.parentNode.htmlElement}},{key:"__getFirstHtmlElement",value:function __getFirstHtmlElement(){return this._instances.size===0?null:this._instances.getAt(0).firstHtmlElement}/* / Node */}]);return RepeatNode}(Node);module.exports=RepeatNode;Object.defineProperties(RepeatNode,{PChildren:{value:/*#__PURE__*/function(_Node$PChildren2){_inherits(value,_Node$PChildren2);var _super16=_createSuper(value);function value(node){_classCallCheck(this,value);return _super16.call(this,node)}_createClass(value,[{key:"__onAddChild",value:function __onAddChild(childNode,nextNode){js0.typeE(childNode,js0.Prop(Node.PCopyable));// js0.args(arguments, js0.Prop(Node.PCopyable), Node);
}},{key:"__getNext",value:function __getNext(childNode){var nextNode=this.findNext(childNode);if(nextNode!==null)return nextNode;return this.nextNode}},{key:"__getNextHtmlElement",value:function __getNextHtmlElement(){if(this.node.hasParent)return this.node.parentNode.nextHtmlElement;return null}}]);return value}(Node.PChildren)},PCopyable:{value:/*#__PURE__*/function(_Node$PCopyable2){_inherits(RepeatNode_PCopyable,_Node$PCopyable2);var _super17=_createSuper(RepeatNode_PCopyable);function RepeatNode_PCopyable(){_classCallCheck(this,RepeatNode_PCopyable);return _super17.apply(this,arguments)}_createClass(RepeatNode_PCopyable,[{key:"__createCopy",value:function __createCopy(nodeInstance){return new RepeatNode}}]);return RepeatNode_PCopyable}(Node.PCopyable)}});require("./RepeatNode.InstanceNode")});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-nodes\nodes\RootNode.js
jsLibs.exportModule("ab-nodes","nodes/RootNode",function(require,module,exports){'use strict';var js0=require("js0");var HtmlElement=require("../HtmlElement");var Node=require("../Node");var RootNode=/*#__PURE__*/function(_Node3){_inherits(RootNode,_Node3);var _super18=_createSuper(RootNode);function RootNode(htmlElement){var _this30;_classCallCheck(this,RootNode);_this30=_super18.call(this);js0.args(arguments,HTMLElement);js0.prop(_assertThisInitialized(_this30),RootNode.PChildren,_assertThisInitialized(_this30));_this30._htmlElement=htmlElement;return _this30}/* Node.IListener */_createClass(RootNode,[{key:"__getHtmlElement",value:function __getHtmlElement(){return this._htmlElement}},{key:"__getFirstHtmlElement",value:function __getFirstHtmlElement(){return this._htmlElement}},{key:"__isDisplayed",value:function __isDisplayed(){return this.active}},{key:"__onActivate",value:function __onActivate(){HtmlElement.ClearChildren(this._htmlElement);for(var i=0;i<this.pChildren.length;i++){this.pChildren.get(i).activate()}this.refreshDisplayed(true)}},{key:"__onDeactivate",value:function __onDeactivate(){this.refreshDisplayed(true);for(var i=0;i<this.pChildren.length;i++){this.pChildren.get(i).deactivate()}}/* / Node.IListener */}]);return RootNode}(Node);module.exports=RootNode;Object.defineProperties(RootNode,{PChildren:{value:/*#__PURE__*/function(_Node$PChildren3){_inherits(RootNode_PChildren,_Node$PChildren3);var _super19=_createSuper(RootNode_PChildren);function RootNode_PChildren(node){_classCallCheck(this,RootNode_PChildren);return _super19.call(this,node)}_createClass(RootNode_PChildren,[{key:"__onAddChild",value:function __onAddChild(childNode){if(this.node.active)childNode.activate()}}]);return RootNode_PChildren}(Node.PChildren)}})});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-nodes\nodes\RepeatNode.InstanceNode.js
jsLibs.exportModule("ab-nodes","nodes/RepeatNode.InstanceNode",function(require,module,exports){'use strict';var RepeatNode=require("./RepeatNode");var js0=require("js0");var Node=require("../Node");Object.defineProperty(RepeatNode,"InstanceNode",{value:/*#__PURE__*/function(_Node4){_inherits(RepeatNode_InstanceNode,_Node4);var _super20=_createSuper(RepeatNode_InstanceNode);function RepeatNode_InstanceNode(repeatNode,key){var _this31;_classCallCheck(this,RepeatNode_InstanceNode);_this31=_super20.call(this);js0.args(arguments,RepeatNode);js0.prop(_assertThisInitialized(_this31),RepeatNode.InstanceNode.PChildren,_assertThisInitialized(_this31));// js0.prop(this, RepeatNode.InstanceNode.PCopyable, this);
_this31._key=key;_this31._repeatNode=repeatNode;_this31._nodeCopies=[];return _this31}_createClass(RepeatNode_InstanceNode,[{key:"key",get:function get(){return this._key}},{key:"addNodeCopy",value:function addNodeCopy(nodeCopy){this._nodeCopies.push(nodeCopy)}/* Node */},{key:"__isDisplayed",value:function __isDisplayed(){return this._repeatNode.displayed&&this.active}},{key:"__onActivate",value:function __onActivate(){for(var i=0;i<this.pChildren.length;i++){this.pChildren.get(i).activate()}}},{key:"__onDeactivate",value:function __onDeactivate(){for(var i=0;i<this.pChildren.length;i++){this.pChildren.get(i).deactivate()}}},{key:"__getHtmlElement",value:function __getHtmlElement(){return this._repeatNode.htmlElement}},{key:"__getFirstHtmlElement",value:function __getFirstHtmlElement(){if(this.pChildren.length>0)return this.pChildren.get(0).firstHtmlElement;return null}/* / Node */}]);return RepeatNode_InstanceNode}(Node)});module.exports=RepeatNode.InstanceNode;Object.defineProperties(RepeatNode.InstanceNode,{PChildren:{value:/*#__PURE__*/function(_Node$PChildren4){_inherits(RepeatNode_InstanceNode_PChildren,_Node$PChildren4);var _super21=_createSuper(RepeatNode_InstanceNode_PChildren);function RepeatNode_InstanceNode_PChildren(node){_classCallCheck(this,RepeatNode_InstanceNode_PChildren);return _super21.call(this,node)}_createClass(RepeatNode_InstanceNode_PChildren,[{key:"__onAddChild",value:function __onAddChild(childNode,nextNode){if(this.node.active)childNode.activate()}},{key:"__getNext",value:function __getNext(childNode){var nextNode=this.findNext(childNode);if(nextNode!==null)return nextNode;var instanceIndex=this.node._repeatNode._instances.indexOf(this.node);js0.assert(instanceIndex!==-1,"Instance not in repeat node.");if(instanceIndex===this.node._repeatNode._instances.size-1)return this.node._repeatNode.nextNode;return this.node._repeatNode._instances.getAt(instanceIndex+1)}},{key:"__getNextHtmlElement",value:function __getNextHtmlElement(){/* Not Sure */if(!this.node._repeatNode.active)return this.node._repeatNode.nextHtmlElement;/* / Not Sure */var startIndex=this.node._repeatNode._instances.indexOf(this.node)+1;for(var i=startIndex;i<this.node._repeatNode._instances.size;i++){var instance=this.node._repeatNode._instances.getAt(i);if(instance.pChildren.length>0)return instance.pChildren.get(0).firstHtmlElement}return this.node._repeatNode.nextHtmlElement}}]);return RepeatNode_InstanceNode_PChildren}(Node.PChildren)}// PCopyable: { value:
// class RepeatNode_InstanceNode_PCopyable extends Node.PCopyable
// {
//
//     __createCopy(instance_nodes)
//     {
//         throw new Error('To do.');
//         // return new RepeatNode.InstanceNode(this.__args[0]);
//     }
//
// }},
})});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-nodes\nodes\SingleNode.js
jsLibs.exportModule("ab-nodes","nodes/SingleNode",function(require,module,exports){'use strict';var js0=require("js0");var HtmlElement=require("../HtmlElement");var Node=require("../Node");var SingleNode=/*#__PURE__*/function(_Node5){_inherits(SingleNode,_Node5);var _super22=_createSuper(SingleNode);function SingleNode(htmlElementType){var _this32;_classCallCheck(this,SingleNode);_this32=_super22.call(this);js0.args(arguments,"string");js0.prop(_assertThisInitialized(_this32),SingleNode.PChildren,_assertThisInitialized(_this32));js0.prop(_assertThisInitialized(_this32),SingleNode.PCopyable,_assertThisInitialized(_this32),arguments);_this32._htmlElement=document.createElement(htmlElementType);return _this32}/* Node */_createClass(SingleNode,[{key:"__isDisplayed",value:function __isDisplayed(){if(!this.active)return false;return this.parentNode.displayed}},{key:"__onActivate",value:function __onActivate(){js0.assert(this.parentNode!==null,"Parent node not set.");HtmlElement.AddChild(this.parentNode.htmlElement,this._htmlElement,this.nextHtmlElement);// for (let i = 0; i < this.pChildren.length; i++)
//     this.pChildren.get(i).refreshDisplayed(true);
this.refreshDisplayed(true)}},{key:"__onDeactivate",value:function __onDeactivate(){this.refreshDisplayed(true);// for (let i = this.pChildren.length - 1; i >= 0; i--)
//     this.pChildren.get(i).refreshDisplayed(true);
HtmlElement.RemoveChild(this.parentNode.htmlElement,this._htmlElement)}},{key:"__getHtmlElement",value:function __getHtmlElement(){return this._htmlElement}},{key:"__getFirstHtmlElement",value:function __getFirstHtmlElement(){if(!this.active)return null;return this._htmlElement}/* / Node */}]);return SingleNode}(Node);module.exports=SingleNode;Object.defineProperties(SingleNode,{PChildren:{value:/*#__PURE__*/function(_Node$PChildren5){_inherits(SingleNode_PChildren,_Node$PChildren5);var _super23=_createSuper(SingleNode_PChildren);function SingleNode_PChildren(node){_classCallCheck(this,SingleNode_PChildren);return _super23.call(this,node)}_createClass(SingleNode_PChildren,[{key:"__onAddChild",value:function __onAddChild(childNode,next_node){childNode.activate()}}]);return SingleNode_PChildren}(Node.PChildren)},PCopyable:{value:/*#__PURE__*/function(_Node$PCopyable3){_inherits(SingleNode_PCopyable,_Node$PCopyable3);var _super24=_createSuper(SingleNode_PCopyable);function SingleNode_PCopyable(node,args){_classCallCheck(this,SingleNode_PCopyable);return _super24.call(this,node,args)}_createClass(SingleNode_PCopyable,[{key:"__createCopy",value:function __createCopy(deepCopy,nodeInstances){return new SingleNode(this.__args[0])}}]);return SingleNode_PCopyable}(Node.PCopyable)}})});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-nodes\nodes\ShowNode.js
jsLibs.exportModule("ab-nodes","nodes/ShowNode",function(require,module,exports){'use strict';var js0=require("js0");var Node=require("../Node");var ShowNode=/*#__PURE__*/function(_Node6){_inherits(ShowNode,_Node6);var _super25=_createSuper(ShowNode);function ShowNode(){var _this33;_classCallCheck(this,ShowNode);_this33=_super25.call(this);js0.prop(_assertThisInitialized(_this33),ShowNode.PChildren,_assertThisInitialized(_this33));js0.prop(_assertThisInitialized(_this33),ShowNode.PCopyable,_assertThisInitialized(_this33),arguments);_this33._show=false;return _this33}/* Node */_createClass(ShowNode,[{key:"show",get:function get(){return this._show},set:function set(showValue){js0.args(arguments,"boolean");if(showValue===this._show)return;this._show=showValue;if(!this.active)return;if(showValue){for(var i=0;i<this.pChildren.length;i++){this.pChildren.get(i).activate()}this.refreshDisplayed(true)}else{this.refreshDisplayed(true);for(var _i5=0;_i5<this.pChildren.length;_i5++){this.pChildren.get(_i5).deactivate()}}}},{key:"__isDisplayed",value:function __isDisplayed(){if(!this.active||!this.show)return false;return this.parentNode.displayed}},{key:"__onActivate",value:function __onActivate(){js0.assert(this.parentNode!==null,"Parent node not set.");if(!this.show)return;this.refreshDisplayed(true);for(var i=0;i<this.pChildren.length;i++){this.pChildren.get(i).activate()}}},{key:"__onDeactivate",value:function __onDeactivate(){if(!this.show)return;this.refreshDisplayed(true);for(var i=this.pChildren.length-1;i>=0;i--){this.pChildren.get(i).deactivate()}}},{key:"__getHtmlElement",value:function __getHtmlElement(){js0.assert(this.parentNode!==null,"Parent node not set.");return this.parentNode.htmlElement}},{key:"__getFirstHtmlElement",value:function __getFirstHtmlElement(){for(var i=0;i<this.pChildren.length;i++){var childFirstHtmlElement=this.pChildren.get(i).firstHtmlElement;if(childFirstHtmlElement!==null)return childFirstHtmlElement}return null}/* / Node */}]);return ShowNode}(Node);module.exports=ShowNode;Object.defineProperties(ShowNode,{PChildren:{value:/*#__PURE__*/function(_Node$PChildren6){_inherits(ShowNode_PChildren,_Node$PChildren6);var _super26=_createSuper(ShowNode_PChildren);function ShowNode_PChildren(node){_classCallCheck(this,ShowNode_PChildren);return _super26.call(this,node)}_createClass(ShowNode_PChildren,[{key:"__onAddChild",value:function __onAddChild(childNode,nextNode){// if (nextNode === null)
//     childNode._nextNode = this._nextNode;
if(this.node.active&&this.node.show)childNode.activate()}},{key:"__getNext",value:function __getNext(childNode){var nextNode=this.findNext(childNode);if(nextNode!==null)return nextNode;return this.node.nextNode;// if (nextNode !== null)
//     return nextNode;
// console.log('Null!');
// return null;
}},{key:"__getNextHtmlElement",value:function __getNextHtmlElement(){return this.node.nextHtmlElement}}]);return ShowNode_PChildren}(Node.PChildren)}});Object.defineProperties(ShowNode,{PCopyable:{value:/*#__PURE__*/function(_Node$PCopyable4){_inherits(ShowNode_PCopyable,_Node$PCopyable4);var _super27=_createSuper(ShowNode_PCopyable);function ShowNode_PCopyable(node,args){_classCallCheck(this,ShowNode_PCopyable);return _super27.call(this,node,args)}_createClass(ShowNode_PCopyable,[{key:"__createCopy",value:function __createCopy(deepCopy,nodeInstances){return new ShowNode}}]);return ShowNode_PCopyable}(Node.PCopyable)}})});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-nodes\nodes\TextNode.js
jsLibs.exportModule("ab-nodes","nodes/TextNode",function(require,module,exports){'use strict';var js0=require("js0");var HtmlElement=require("../HtmlElement");var Node=require("../Node");var TextNode=/*#__PURE__*/function(_Node7){_inherits(TextNode,_Node7);var _super28=_createSuper(TextNode);function TextNode(text){var _this34;_classCallCheck(this,TextNode);_this34=_super28.call(this);js0.prop(_assertThisInitialized(_this34),TextNode.PCopyable,_assertThisInitialized(_this34),arguments);_this34._text=text;_this34._htmlElement=document.createTextNode(text);return _this34}/* Node */_createClass(TextNode,[{key:"text",get:function get(){return this._htmlElement.nodeValue},set:function set(value){this._htmlElement.nodeValue=value}},{key:"__isDisplayed",value:function __isDisplayed(){if(!this.active)return false;return this.parentNode.displayed}},{key:"__onActivate",value:function __onActivate(){js0.assert(this.parentNode!==null,"Parent node not set.");HtmlElement.AddChild(this.parentNode.htmlElement,this._htmlElement,this.nextHtmlElement);this.refreshDisplayed(true)}},{key:"__onDeactivate",value:function __onDeactivate(){this.refreshDisplayed(true);HtmlElement.RemoveChild(this.parentNode.htmlElement,this._htmlElement)}},{key:"__getHtmlElement",value:function __getHtmlElement(){return this._htmlElement}},{key:"__getFirstHtmlElement",value:function __getFirstHtmlElement(){if(!this.active)return null;return this._htmlElement}/* / Node */}]);return TextNode}(Node);module.exports=TextNode;Object.defineProperties(TextNode,{PCopyable:{value:/*#__PURE__*/function(_Node$PCopyable5){_inherits(TextNode_PCopyable,_Node$PCopyable5);var _super29=_createSuper(TextNode_PCopyable);function TextNode_PCopyable(node,args){_classCallCheck(this,TextNode_PCopyable);return _super29.call(this,node,args)}_createClass(TextNode_PCopyable,[{key:"__createCopy",value:function __createCopy(){return new TextNode(this.__args[0])}}]);return TextNode_PCopyable}(Node.PCopyable)}})});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-nodes\nodes\VirtualNode.js
jsLibs.exportModule("ab-nodes","nodes/VirtualNode",function(require,module,exports){'use strict';var abNodes=require("ab-nodes");var js0=require("js0");var VirtualNode=/*#__PURE__*/function(_abNodes$Node){_inherits(VirtualNode,_abNodes$Node);var _super30=_createSuper(VirtualNode);function VirtualNode(){var _this35;_classCallCheck(this,VirtualNode);_this35=_super30.call(this);js0.prop(_assertThisInitialized(_this35),VirtualNode.PChildren,_assertThisInitialized(_this35));// this._idNodes = {};
return _this35}// setIds(id_nodes)
// {
//     js0.argsE(arguments, 'object');
//
//     this._idNodes = id_nodes;
// }
/* Node */_createClass(VirtualNode,[{key:"__isDisplayed",value:function __isDisplayed(){return this.parentNode.displayed&&this.active}},{key:"__onActivate",value:function __onActivate(){for(var i=0;i<this.pChildren.length;i++){this.pChildren.get(i).activate()}this.refreshDisplayed(true)}},{key:"__onDeactivate",value:function __onDeactivate(){this.refreshDisplayed(true);for(var i=this.pChildren.length-1;i>=0;i--){this.pChildren.get(i).deactivate()}}},{key:"__getHtmlElement",value:function __getHtmlElement(){js0.assert(this.parentNode!==null,"Parent node not set.");return this.parentNode.htmlElement}},{key:"__getFirstHtmlElement",value:function __getFirstHtmlElement(){return this.pChildren.length===0?null:this.pChildren.get(0).firstHtmlElement}/* / Node */}]);return VirtualNode}(abNodes.Node);Object.defineProperties(VirtualNode,{PChildren:{value:/*#__PURE__*/function(_abNodes$Node$PChildr){_inherits(VirtualNode_PChildren,_abNodes$Node$PChildr);var _super31=_createSuper(VirtualNode_PChildren);function VirtualNode_PChildren(node){_classCallCheck(this,VirtualNode_PChildren);return _super31.call(this,node)}_createClass(VirtualNode_PChildren,[{key:"__onAddChild",value:function __onAddChild(childNode,next_node){if(next_node===null)childNode._nextNode=this._nextNode;if(this.node.active)childNode.activate()}},{key:"__getNext",value:function __getNext(childNode){var next_node=this.findNext(childNode);if(next_node!==null)return next_node;return this.node.nextNode}}]);return VirtualNode_PChildren}(abNodes.Node.PChildren)}});module.exports=VirtualNode;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-layouts\Parser.js
jsLibs.exportModule("ab-layouts","Parser",function(require,module,exports){'use strict';var abNodes=require("ab-nodes");var js0=require("js0");var LayoutNode=require("./LayoutNode");var Parser=/*#__PURE__*/function(){function Parser(layoutContent){_classCallCheck(this,Parser);this._elementsStack=null;this._extendFns=[]}_createClass(Parser,[{key:"__elementsStack",get:function get(){return this._elementsStack}},{key:"extend",value:function extend(fn){this._extendFns.push(fn)}},{key:"parse",value:function parse(layoutContent){js0.args(arguments,Array);this.__beforeParse();var layoutNode=new LayoutNode;var parentsStack=[{node:null,nodeContent:layoutContent,elements:[]}];while(parentsStack.length>0){var parent=parentsStack.pop();for(var i=0;i<parent.nodeContent.length;i++){var nodeInfo=this._parseNodeInfo(parent.nodeContent[i]);var element=this.__createElement(nodeInfo,parent.elements);if(!js0.type(element,Parser.Element)){throw new Error("`__createNode` must return"+" `abLayout.Parser.Element` object.")}// if ('_id' in nodeInfo.attribs) {
//     if (nodeInfo.attribs._id in id_nodes) {
//         console.warn('Node with id `' + nodeInfo.attribs._id +
//                 '` already exists.');
//     }
//     // id_nodes[nodeInfo.attribs._id] = node;
// }
if(parent.node===null)layoutNode.pChildren.add(element.topNode);else parent.node.pChildren.add(element.topNode);if(nodeInfo.type==="_content")continue;if(js0.type(element.bottomNode,js0.Prop(abNodes.Node.PChildren))){parentsStack.push({node:element.bottomNode,nodeContent:nodeInfo.content,elements:parent.elements.concat([element])})}}// parentNodesStack.pop();
// parent.nodeContentsStack.pop();
// return;
}// layoutNode.setIds(id_nodes);
this.__afterParse();return layoutNode}},{key:"_execExtendFns",value:function _execExtendFns(element){var _iterator56=_createForOfIteratorHelper(this._extendFns),_step56;try{for(_iterator56.s();!(_step56=_iterator56.n()).done;){var extendFn=_step56.value;extendFn(element)}}catch(err){_iterator56.e(err)}finally{_iterator56.f()}}},{key:"_parseNodeInfo",value:function _parseNodeInfo(nodeInfo){/* Validate */if(!js0.argsC(arguments,[Array,"string"])||nodeInfo===null){console.error("Error info:",nodeInfo);throw new Error("Node info must be an `Array` or `string`.")}/* / Validate */if(nodeInfo instanceof Array){if(!js0.type(nodeInfo[0],"string")){console.error("Error info:",nodeInfo);throw new Error("First element of node info array must be a string.")}var nodeType=nodeInfo[0];var nodeAttribs={};var nodeContent=[];for(var i=1;i<nodeInfo.length;i++){/* Parse Args */if(js0.type(nodeInfo[i],js0.RawObject)){for(var attribName in nodeInfo[i]){var attribValue=nodeInfo[i][attribName];if(!js0.type(attribValue,["string",Array])||attribValue===null){console.error("Error info: ",nodeInfo[i]);throw new Error("Node attrib must be `string` or `Array`.")}if(!(attribName in nodeAttribs))nodeAttribs[attribName]=[];if(js0.type(attribValue,"string"))nodeAttribs[attribName].push(attribValue);else nodeAttribs[attribName]=nodeAttribs[attribName].concat(attribValue)}/* Parse Node */}else nodeContent.push(nodeInfo[i])}var element={type:nodeType,attribs:nodeAttribs,content:nodeContent};this._execExtendFns(element);return element}else{var _element={type:"_content",attribs:{},content:nodeInfo};this._execExtendFns(_element);return _element}// let nodeType = nodeInfo_keys[0];
// let nodeContent = nodeInfo[nodeType];
// this._validateNodeContent(nodeContent);
//
// let nodeAttribs = this._parseNodeAttrs(nodeType, nodeContent);
// if (nodeAttribs !== null)
//     nodeContent.splice(0, 1);
//
}},{key:"_parseNodeAttrs",value:function _parseNodeAttrs(nodeType,nodeContent){if(nodeContent===null)return null;if(nodeContent.length===0)return null;if(Object.keys(nodeContent[0]).length===0)return{};var attribs=null;for(var attribName in nodeContent[0]){if(attribName[0]!=="_"){if(attribs!==null){console.error("Error info:",{nodeType:nodeContent});new Error("Only attribs are allowed in first content element.")}continue}if(attribs===null)attribs={};attribs[attribName]=nodeContent[0][attribName]}return attribs}// _validateNodeContent(nodeType, nodeContent)
// {
//     if (nodeContent !== null) {
//         if (!(nodeContent instanceof Array)) {
//             console.error('Error info:', nodeType, nodeContent);
//             throw new Error('Node content must be `null` or `Array`.');
//         }
//     }
// }
},{key:"__afterParse",value:function __afterParse(){}},{key:"__beforeParse",value:function __beforeParse(){}},{key:"__createElement",value:function __createElement(nodeInfo){js0.virtual(this)}}]);return Parser}();module.exports=Parser;Object.defineProperties(Parser,{Element:{value:function value(topNode,bottomNode,info){_classCallCheck(this,value);this.topNode=topNode;this.bottomNode=bottomNode;this.info=info}}})});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-layouts\index.js
jsLibs.exportModule("ab-layouts","index",function(require,module,exports){'use strict';var LayoutNode=require("./LayoutNode");var abLayouts_Class=/*#__PURE__*/function(){function abLayouts_Class(){_classCallCheck(this,abLayouts_Class)}_createClass(abLayouts_Class,[{key:"LayoutNode",get:function get(){return LayoutNode}},{key:"Parser",get:function get(){return require("./Parser")}}]);return abLayouts_Class}();module.exports=new abLayouts_Class});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-layouts\LayoutNode.js
jsLibs.exportModule("ab-layouts","LayoutNode",function(require,module,exports){'use strict';var abNodes=require("ab-nodes");var js0=require("js0");var LayoutNode=/*#__PURE__*/function(_abNodes$Node2){_inherits(LayoutNode,_abNodes$Node2);var _super32=_createSuper(LayoutNode);function LayoutNode(){var _this36;_classCallCheck(this,LayoutNode);_this36=_super32.call(this);js0.prop(_assertThisInitialized(_this36),LayoutNode.PChildren,_assertThisInitialized(_this36));js0.prop(_assertThisInitialized(_this36),LayoutNode.PCopyable,_assertThisInitialized(_this36),arguments);// this._idNodes = {};
return _this36}// setIds(id_nodes)
// {
//     js0.argsE(arguments, 'object');
//
//     this._idNodes = id_nodes;
// }
/* Node */_createClass(LayoutNode,[{key:"__isDisplayed",value:function __isDisplayed(){return this.parentNode.displayed&&this.active}},{key:"__onActivate",value:function __onActivate(){for(var i=0;i<this.pChildren.length;i++){this.pChildren.get(i).activate()}this.refreshDisplayed(true)}},{key:"__onDeactivate",value:function __onDeactivate(){this.refreshDisplayed(true);for(var i=this.pChildren.length-1;i>=0;i--){this.pChildren.get(i).deactivate()}}},{key:"__getHtmlElement",value:function __getHtmlElement(){js0.assert(this.parentNode!==null,"Parent node not set.");return this.parentNode.htmlElement}},{key:"__getFirstHtmlElement",value:function __getFirstHtmlElement(){return this.pChildren.length===0?null:this.pChildren.get(0).firstHtmlElement}/* / Node */}]);return LayoutNode}(abNodes.Node);module.exports=LayoutNode;Object.defineProperties(LayoutNode,{PChildren:{value:/*#__PURE__*/function(_abNodes$Node$PChildr2){_inherits(LayoutNode_PChildren,_abNodes$Node$PChildr2);var _super33=_createSuper(LayoutNode_PChildren);function LayoutNode_PChildren(node){_classCallCheck(this,LayoutNode_PChildren);return _super33.call(this,node)}_createClass(LayoutNode_PChildren,[{key:"__onAddChild",value:function __onAddChild(childNode,next_node){if(next_node===null)childNode._nextNode=this._nextNode;if(this.node.active)childNode.activate()}},{key:"__getNext",value:function __getNext(childNode){var next_node=this.findNext(childNode);if(next_node!==null)return next_node;return this.node.nextNode}},{key:"__getNextHtmlElement",value:function __getNextHtmlElement(){return this.node.nextHtmlElement}}]);return LayoutNode_PChildren}(abNodes.Node.PChildren)},PCopyable:{value:/*#__PURE__*/function(_abNodes$Node$PCopyab){_inherits(LayoutNode_PCopyable,_abNodes$Node$PCopyab);var _super34=_createSuper(LayoutNode_PCopyable);function LayoutNode_PCopyable(node,args){_classCallCheck(this,LayoutNode_PCopyable);return _super34.call(this,node,args)}_createClass(LayoutNode_PCopyable,[{key:"__createCopy",value:function __createCopy(deepCopy,nodeInstances){return new LayoutNode(this.__args[0])}}]);return LayoutNode_PCopyable}(abNodes.Node.PCopyable)}})});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-fields\index.js
jsLibs.exportModule("ab-fields","index",function(require,module,exports){'use strict';var Definition=require("./definitions/Definition"),Field=require("./fields/Field"),ListDefinition=require("./definitions/ListDefinition"),ListField=require("./fields/ListField"),ObjectDefinition=require("./definitions/ObjectDefinition"),ObjectField=require("./fields/ObjectField"),VarDefinition=require("./definitions/VarDefinition"),VarField=require("./fields/VarField");module.exports.debug=false;function setDebug(debug){module.exports.debug=debug}function define(){return new ObjectDefinition}module.exports.Definition=Definition;module.exports.Field=Field;module.exports.ListDefinition=ListDefinition;module.exports.ListField=ListField;module.exports.ObjectDefinition=ObjectDefinition;module.exports.ObjectField=ObjectField;module.exports.VarDefinition=VarDefinition;module.exports.VarField=VarField;module.exports.setDebug=setDebug;module.exports.define=define});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-fields\fields\ObjectField.js
jsLibs.exportModule("ab-fields","fields/ObjectField",function(require,module,exports){'use strict';var js0=require("js0"),abFields=require("../."),ObjectDefinition=require("../definitions/ObjectDefinition"),Field=require("./Field");var ObjectField=/*#__PURE__*/function(_Field){_inherits(ObjectField,_Field);var _super35=_createSuper(ObjectField);function ObjectField(definition,keys){var _this37;_classCallCheck(this,ObjectField);_this37=_super35.call(this,definition,keys);js0.args(arguments,ObjectDefinition,Array);_this37._root={};_this37._fields={};for(var fieldName in _this37.__definition.fields){var fieldDef=_this37.__definition.fields[fieldName];var field=fieldDef.create(keys,_this37._root,fieldName);_this37._fields[fieldName]=field}return _this37}_createClass(ObjectField,[{key:"$value",get:function get(){return this._root},set:function set(value){js0.args(arguments,js0.RawObject);if(value===null){for(var key in this._fields){this._fields[key].$value=null}return}for(var _key in value){if(_key in this._fields){try{this._fields[_key].$value=value[_key]}catch(err){console.error("ABFields Stack: ",_key);throw err}}else if(abFields.Debug)console.warn(new Error("Field '".concat(_key,"' not defined in Object.")))}}},{key:"$delete",value:function $delete(key){js0.args(arguments,["number","string"]);if(!(key in this._fields))throw new Error("Key '".concat(key,"' does not exist."));delete fields[key];var _iterator57=_createForOfIteratorHelper(this._listeners),_step57;try{for(_iterator57.s();!(_step57=_iterator57.n()).done;){var listener=_step57.value;if("delete"in listener)listener["delete"](key,this._parentFields._keys);if("change"in listener)listener.change(value,this._parentFields._keys)}}catch(err){_iterator57.e(err)}finally{_iterator57.f()}}},{key:"$get",value:function $get(fieldName){if(!this.$exists(fieldName))throw new Error("Field '".concat(fieldName,"' does not exist in object."));return this._fields[fieldName]}},{key:"$exists",value:function $exists(fieldName){return fieldName in this._fields}}]);return ObjectField}(Field);module.exports=ObjectField});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-fields\fields\ListField.js
jsLibs.exportModule("ab-fields","fields/ListField",function(require,module,exports){'use strict';var js0=require("js0"),ListDefinition=require("../definitions/ListDefinition"),Field=require("./Field");var ListField=/*#__PURE__*/function(_Field2,_Symbol$iterator){_inherits(ListField,_Field2);var _super36=_createSuper(ListField);function ListField(definition,keys){var _this38;_classCallCheck(this,ListField);_this38=_super36.call(this,definition,keys);js0.args(arguments,ListDefinition,Array);_this38._root={};_this38._items=new js0.List;return _this38}_createClass(ListField,[{key:"$size",get:function get(){return this._items.size}},{key:"$value",get:function get(){var self=this;return function(){var hasKey=arguments.length>0;var hasValue=arguments.length>1;if(arguments.length>0){var key=arguments[0];if(!js0.type(key,["number","string"]))throw new Error("List 'key' must be a number or string.");if(!self.$has(key))self.$add(key);if(arguments.length>1){self.$get(key).$value=arguments[1];return undefined}return self.$get(key).$value}return self}},set:function set(value){if(!js0.type(value,[js0.Null,js0.Iterable]))throw new Error("List value must be an iterable or null.");if(value===null)return;var oldKeys=this.$keys();if(value instanceof Array){var _iterator58=_createForOfIteratorHelper(oldKeys),_step58;try{for(_iterator58.s();!(_step58=_iterator58.n()).done;){var key=_step58.value;if(!Number.isInteger(key)){this.$delete(key);continue}if(key<0||key>=value.length)this.$delete(key)}}catch(err){_iterator58.e(err)}finally{_iterator58.f()}for(var i=0;i<value.length;i++){this.$set(i,value[i])}}else{var _iterator59=_createForOfIteratorHelper(oldKeys),_step59;try{for(_iterator59.s();!(_step59=_iterator59.n()).done;){var _key2=_step59.value;if(!value.has(_key2))this.$delete(_key2)}}catch(err){_iterator59.e(err)}finally{_iterator59.f()}var _iterator60=_createForOfIteratorHelper(value),_step60;try{for(_iterator60.s();!(_step60=_iterator60.n()).done;){var _step60$value=_slicedToArray(_step60.value,2),_key3=_step60$value[0],item=_step60$value[1];this.$set(_key3,item)}}catch(err){_iterator60.e(err)}finally{_iterator60.f()}}}},{key:_Symbol$iterator,value:function value(){return new ListField.Iterator(this)}},{key:"$add",value:function $add(key){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;js0.args(arguments,["number","string"],null);this.$addAt(this.$size,key,value);// if (this._items.has(key))
//     throw new Error(`Key '${key}' already exists in list.`);
// let keys = this.__keys.slice();
// keys.push(key);
// let itemField = this.__definition.item().create(keys);
// this._items.set(key, itemField);
// for (let listener of this.__definition.listeners) {
//     if ('add' in listener)
//         listener.add(key, this.__keys);
// }
// this.$get(key).$value = value;
}},{key:"$addAt",value:function $addAt(index,key){var value=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;js0.args(arguments,"number",["number","string"],null);if(this._items.has(key))throw new Error("Key '".concat(key,"' already exists in list."));if(index<0)throw new Error("Index '".concat(index,"' cannot be lower than 0."));if(index>this.$size)throw new Error("Index '".concat(index,"' cannot be higher than list size '").concat(this.$size,"'."));var keys=this.__keys.slice();keys.push(key);// keys.splice(index, 0, key);
var itemField=this.__definition.item().create(keys);this._items.addAt(index,key,itemField);var _iterator61=_createForOfIteratorHelper(this.__definition.listeners),_step61;try{for(_iterator61.s();!(_step61=_iterator61.n()).done;){var listener=_step61.value;if("add"in listener)listener.add(index,key,this.__keys);if("change"in listener)listener.change(value,this.__keys)}}catch(err){_iterator61.e(err)}finally{_iterator61.f()}this.$get(key).$value=value}},{key:"$delete",value:function $delete(key){js0.args(arguments,["number","string"]);if(!this.$has(key))throw new Error("Key '".concat(key,"' does not exist in 'ListField'."));this._items["delete"](key);var _iterator62=_createForOfIteratorHelper(this.__definition._listeners),_step62;try{for(_iterator62.s();!(_step62=_iterator62.n()).done;){var listener=_step62.value;if("delete"in listener)listener["delete"](key,this.__keys);if("change"in listener)listener.change(value,this.__keys)}}catch(err){_iterator62.e(err)}finally{_iterator62.f()}}},{key:"$deleteAt",value:function $deleteAt(index){js0.args(arguments,["number"]);if(index<0)throw new Error("Index '".concat(index,"' cannot be lower than 0."));if(index>=this.$size)throw new Error("Index '".concat(index,"' is higher than list size '").concat(this.$size,"."));var key=this._items.getKeyAt(index);this.$delete(key)}},{key:"$get",value:function $get(key){js0.args(arguments,["number","string"]);if(!this._items.has(key))throw new Error("Item with key '".concat(key,"' does not exist in list."));return this._items.get(key)}},{key:"$has",value:function $has(key){return this._items.has(key)}},{key:"$index",value:function $index(key){var keys=this.$keys();for(var i=0;i<keys.length;i++){if(keys[i]===key)return i}return-1}},{key:"$keys",value:function $keys(){return this._items.keys()}},{key:"$push",value:function $push(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var index=0;if(this._items.size>0){var lastKey=this._items.getKeyAt(this._items.size-1);if(Number.isInteger(lastKey))index=lastKey+1}while(this.$has(index)){index++}this.$add(index,value);this.$get(index).$value=value}},{key:"$set",value:function $set(key,value){js0.args(arguments,["number","string"]);if(!this.$has(key))this.$add(key,value);else this.$get(key).$value=value}}]);return ListField}(Field,Symbol.iterator);module.exports=ListField;Object.defineProperties(ListField,{Iterator:{value:/*#__PURE__*/function(){function ListField_Iterator(listField){_classCallCheck(this,ListField_Iterator);this._list=listField;this._iterator=listField._items[Symbol.iterator]()}_createClass(ListField_Iterator,[{key:"next",value:function next(){var iteratorItem=this._iterator.next();if(iteratorItem.done)return{value:undefined,done:true};return{value:[iteratorItem.value[0],this._list.$get(iteratorItem.value[0])],done:false}}}]);return ListField_Iterator}()}})});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-fields\fields\Field.js
jsLibs.exportModule("ab-fields","fields/Field",function(require,module,exports){'use strict';var js0=require("js0"),Definition=require("../definitions/Definition");var Field=/*#__PURE__*/function(){function Field(definition,keys){_classCallCheck(this,Field);js0.args(arguments,Definition,Array);this.__definition=definition;this.__keys=keys}_createClass(Field,[{key:"$value",get:function get(){js0.virtual(this)},set:function set(value){js0.virtual(this)}}]);return Field}();module.exports=Field});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-fields\definitions\Definition.js
jsLibs.exportModule("ab-fields","definitions/Definition",function(require,module,exports){'use strict';var js0=require("js0");var Definition=/*#__PURE__*/function(){function Definition(){_classCallCheck(this,Definition);this._listeners=[]}_createClass(Definition,[{key:"listeners",get:function get(){return this._listeners}},{key:"addListener",value:function addListener(listener){js0.args(arguments,"object");this._listeners.push(listener)}},{key:"create",value:function create(){var keys=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var root=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var fieldName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;js0.virtual(this)}}]);return Definition}();module.exports=Definition});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-fields\definitions\ObjectDefinition.js
jsLibs.exportModule("ab-fields","definitions/ObjectDefinition",function(require,module,exports){'use strict';var js0=require("js0"),ObjectField=require("../fields/ObjectField"),Definition=require("./Definition"),ListDefinition=require("./ListDefinition"),VarDefinition=require("./VarDefinition");var ObjectDefinition=/*#__PURE__*/function(_Definition){_inherits(ObjectDefinition,_Definition);var _super37=_createSuper(ObjectDefinition);function ObjectDefinition(){var _this39;_classCallCheck(this,ObjectDefinition);_this39=_super37.call(this);_this39._fieldDefinitions={};return _this39}_createClass(ObjectDefinition,[{key:"fields",get:function get(){return this._fieldDefinitions}},{key:"exists",value:function exists(fieldName){return fieldName in this._fieldDefinitions}},{key:"get",value:function get(fieldName){if(!this.exists(fieldName))throw new Error("Field definition '".concat(fieldName,"' does not exist."));return this._fieldDefinitions[fieldName]}},{key:"list",value:function list(fieldName){var overwrite=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;js0.args(arguments,"string");if(fieldName in this._fieldDefinitions){var _def=this._fieldDefinitions[fieldName];if(!overwrite){if(!(_def instanceof ListDefinition))throw new Error("Field '".concat(fieldName,"' already defined not as 'List'."));return _def}else{if(_def instanceof ListDefinition)return _def}}var def=new ListDefinition;this._fieldDefinitions[fieldName]=def;return def}},{key:"object",value:function object(fieldName){var overwrite=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;js0.args(arguments,"string");if(fieldName in this._fieldDefinitions){var _def2=this._fieldDefinitions[fieldName];if(!overwrite){if(!(_def2 instanceof ObjectDefinition))throw new Error("Field '".concat(fieldName,"' already defined not as 'Object'."));return _def2}else{if(_def2 instanceof ObjectDefinition)return _def2}}var def=new ObjectDefinition;this._fieldDefinitions[fieldName]=def;return def}},{key:"var",value:function _var(fieldName){var overwrite=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;js0.args(arguments,"string");if(fieldName in this._fieldDefinitions){var _def3=this._fieldDefinitions[fieldName];if(!overwrite){if(!(_def3 instanceof VarDefinition))throw new Error("Field '".concat(fieldName,"' already defined not as 'Var'."));return _def3}else{if(_def3 instanceof VarDefinition)return _def3}}var def=new VarDefinition;this._fieldDefinitions[fieldName]=def;return def}/* Definition Overrides */},{key:"create",value:function create(){var keys=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var root=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var fieldName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;js0.args(arguments,[js0.Default,Array],[js0.Default,"object"],[js0.Default,"string"]);var field=new ObjectField(this,keys);if(root!==null&&fieldName!==null){Object.defineProperty(root,fieldName,{get:function get(){return field.$value},set:function set(value){try{field.$value=value}catch(err){console.error("ABFields Stack: ",fieldName);throw err}},enumerable:true})}return field}/* / Definition Overrides */}]);return ObjectDefinition}(Definition);module.exports=ObjectDefinition});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-fields\fields\VarField.js
jsLibs.exportModule("ab-fields","fields/VarField",function(require,module,exports){'use strict';var js0=require("js0"),VarDefinition=require("../definitions/VarDefinition"),Field=require("./Field");var VarField=/*#__PURE__*/function(_Field3){_inherits(VarField,_Field3);var _super38=_createSuper(VarField);function VarField(definition,keys){var _this40;_classCallCheck(this,VarField);_this40=_super38.call(this,definition,keys);js0.args(arguments,VarDefinition,Array);_this40._value=undefined;return _this40}_createClass(VarField,[{key:"$value",get:function get(){return this._value},set:function set(value){this._value=value;var _iterator63=_createForOfIteratorHelper(this.__definition.listeners),_step63;try{for(_iterator63.s();!(_step63=_iterator63.n()).done;){var listener=_step63.value;if("change"in listener)listener.change(value,this.__keys)}}catch(err){_iterator63.e(err)}finally{_iterator63.f()}}}]);return VarField}(Field);module.exports=VarField});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-fields\definitions\VarDefinition.js
jsLibs.exportModule("ab-fields","definitions/VarDefinition",function(require,module,exports){'use strict';var js0=require("js0"),VarField=require("../fields/VarField"),Definition=require("./Definition");var VarDefinition=/*#__PURE__*/function(_Definition2){_inherits(VarDefinition,_Definition2);var _super39=_createSuper(VarDefinition);function VarDefinition(){_classCallCheck(this,VarDefinition);return _super39.call(this)}/* Definition Overrides */_createClass(VarDefinition,[{key:"create",value:function create(){var keys=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var root=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var fieldName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;js0.args(arguments,[js0.Default,Array],[js0.Default,"object"],[js0.Default,"string"]);var field=new VarField(this,keys);if(root!==null&&fieldName!==null){Object.defineProperty(root,fieldName,{get:function get(){return field.$value},set:function set(value){field.$value=value},enumerable:true})}return field}/* / Definition Overrides */}]);return VarDefinition}(Definition);module.exports=VarDefinition});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-fields\definitions\ListDefinition.js
jsLibs.exportModule("ab-fields","definitions/ListDefinition",function(require,module,exports){'use strict';var js0=require("js0"),ListField=require("../fields/ListField"),Definition=require("./Definition"),VarDefinition=require("./VarDefinition");var ListDefinition=/*#__PURE__*/function(_Definition3){_inherits(ListDefinition,_Definition3);var _super40=_createSuper(ListDefinition);function ListDefinition(){var _this41;_classCallCheck(this,ListDefinition);_this41=_super40.call(this);_this41._itemDefinition=null;return _this41}_createClass(ListDefinition,[{key:"item",value:function item(){var itemDefinitionClass=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,[js0.Default,"function"]);if(this._itemDefinition===null){if(itemDefinitionClass===null)itemDefinitionClass=VarDefinition;this._itemDefinition=new itemDefinitionClass;return this._itemDefinition}if(itemDefinitionClass!==null){if(!(this._itemDefinition instanceof itemDefinitionClass)){throw new Error("List items definition class already declared as \n                        '".concat(this._itemDefinition.constructor.name,"'."))}}return this._itemDefinition}/* Definition Overrides */},{key:"create",value:function create(){var keys=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var root=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var fieldName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;js0.args(arguments,[js0.Default,Array],[js0.Default,"object"],[js0.Default,"string"]);var field=new ListField(this,keys);if(root!==null&&fieldName!==null){Object.defineProperty(root,fieldName,{get:function get(){return field.$value},set:function set(value){field.$value=value},enumerable:true})}return field}/* / Definition Overrides */}]);return ListDefinition}(Definition);module.exports=ListDefinition});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\js0\Delay.js
jsLibs.exportModule("js0","Delay",function(require,module,exports){'use strict';var js0=require(".");var Delay=/*#__PURE__*/function(){function Delay(){_classCallCheck(this,Delay);this._delays=[]}_createClass(Delay,[{key:"delay",value:function delay(identification,alias,fn,time){var _this42=this;js0.args(arguments,null,"string","function");var delay=this._getDelay(identification,alias);if(delay===null){delay={identificator:identificator,alias:alias,timeout:null}}else clearTimeout(delay.timeout);delay.timeout=setTimeout(function(){fn();_this42._removeDelay(identificator,alias)},time)}},{key:"_getDelay",value:function _getDelay(identificator,alias){var _iterator64=_createForOfIteratorHelper(this._delays),_step64;try{for(_iterator64.s();!(_step64=_iterator64.n()).done;){var delay=_step64.value;if(delay.identificator!==identificator)continue;if(delay.alias!==alias)continue;return delay}}catch(err){_iterator64.e(err)}finally{_iterator64.f()}return null}},{key:"_removeDelay",value:function _removeDelay(identificator,alias){for(var i=0;i<this._delays.length;i++){var delay=this._delays[i];if(delay.identificator!==identificator)continue;if(delay.alias!==alias)continue;this._delays.splice(i,1);return}}}]);return Delay}();module.exports=Delay});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\js0\Info.js
jsLibs.exportModule("js0","Info",function(require,module,exports){// 'use strict';
// let js0 = require('.');
// class Info
// {
//     construct(class_object)
//     {
//         this._object = class_object;
//         this._abstractClassInterfaces = [];
//         this._implemented = [];
//     }
//     abstract(class_object, interface_class)
//     {
//         js0.args(arguments, 'object', js0.Interface);
//         this._abstractClassInterfaces.push(interface_class);
//     }
//     implements(class_objects)
//     {
//     }
// }
// module.exports = Info;
});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\js0\List.js
jsLibs.exportModule("js0","List",function(require,module,exports){'use strict';var js0=require(".");var List=/*#__PURE__*/function(_Symbol$iterator2){function List(){var iterable=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;_classCallCheck(this,List);js0.args(arguments,[js0.Iterable,js0.Default]);this._keys=[];this._values=[];if(iterable!==null){var _iterator65=_createForOfIteratorHelper(iterable),_step65;try{for(_iterator65.s();!(_step65=_iterator65.n()).done;){var item=_step65.value;if(item instanceof Array){if(item.length===2){this.set(item[0],item[1]);continue}}this.add(item)}}catch(err){_iterator65.e(err)}finally{_iterator65.f()}}}_createClass(List,[{key:"size",get:function get(){return this._values.length}},{key:_Symbol$iterator2,value:function value(){return new List.Iterator(this)}},{key:"add",value:function add(){var index=0;for(var _len=arguments.length,values=new Array(_len),_key4=0;_key4<_len;_key4++){values[_key4]=arguments[_key4]}for(var _i6=0,_values=values;_i6<_values.length;_i6++){var _value3=_values[_i6];while(this._keys.includes(index)){index++}this.set(index,_value3)}}},{key:"addAll",value:function addAll(values){js0.args(arguments,js0.Iterable);var index=0;var _iterator66=_createForOfIteratorHelper(values),_step66;try{for(_iterator66.s();!(_step66=_iterator66.n()).done;){var _value4=_step66.value;while(this._keys.includes(index)){index++}this.set(index,_value4)}}catch(err){_iterator66.e(err)}finally{_iterator66.f()}}},{key:"addAt",value:function addAt(index,key,value){if(index<0||index>this._values.length)throw new Error("Index `".concat(index,"` does not exist in `List`."));if(this._values.length===index){this._keys.push(key);this._values.push(value)}else{this._keys.splice(index,0,key);this._values.splice(index,0,value)}}},{key:"delete",value:function _delete(key){var index=this._getIndexE(key);this.deleteAt(index)}},{key:"deleteAt",value:function deleteAt(index){this._keys.splice(index,1);this._values.splice(index,1)}},{key:"get",value:function get(key){var index=this._getIndexE(key);return this._values[index]}},{key:"getAt",value:function getAt(index){if(index<0||index>=this._values.length)throw new Error("Index `".concat(index,"` does not exist in `List`."));return this._values[index]}},{key:"getKeyAt",value:function getKeyAt(index){if(index<0||index>=this._values.length)throw new Error("Index `".concat(index,"` does not exist in `List`."));return this._keys[index]}},{key:"getKeys",value:function getKeys(){return this._keys.slice()}},{key:"getValues",value:function getValues(){return this._values.slice()}},{key:"has",value:function has(key){return this._keys.includes(key)}},{key:"includes",value:function includes(value){return this._values.includes(value)}},{key:"indexOf",value:function indexOf(value){return this._values.indexOf(value)}},{key:"keys",value:function keys(){return this._keys.slice()}},{key:"remove",value:function remove(value){for(var i=this.size-1;i>=0;i--){if(this.getAt(i)===value){this.deleteAt(i);return}}throw new Error("Value '".concat(value,"' does not exist in List."))}},{key:"set",value:function set(key,value){var index=this._keys.indexOf(key);if(index===-1)index=this._values.length;this.setAt(index,key,value)}},{key:"setAt",value:function setAt(index,key,value){if(index<0||index>this._values.length)throw new Error("Index `".concat(index,"` does not exist in `List`."));if(index===this._values.length){this._keys.push(key);this._values.push(value)}else{this._keys[index]=key;this._values[index]=value}}},{key:"slice",value:function slice(){}},{key:"sort",value:function sort(compareFn){var _this43=this;var newKeys=this._keys.slice();newKeys.sort(function(aKey,bKey){return compareFn({key:aKey,value:_this43.get(aKey)},{key:bKey,value:_this43.get(bKey)})});var newValues=[];for(var i=0;i<this.size;i++){newValues.push(this.get(newKeys[i]))}this._keys=newKeys;this._values=newValues}},{key:"values",value:function values(){return this._values.slice()}},{key:"_getIndexE",value:function _getIndexE(key){var index=this._keys.indexOf(key);if(index===-1)throw new Error("Key `".concat(key,"` does not exist in `List`."));return index}}]);return List}(Symbol.iterator);module.exports=List;Object.defineProperties(List,{Iterator:{value:/*#__PURE__*/function(){function List_Iterator(list){_classCallCheck(this,List_Iterator);this._list=list;this._iterator=list._keys[Symbol.iterator]()}_createClass(List_Iterator,[{key:"next",value:function next(){var keyItem=this._iterator.next();if(keyItem.done)return{value:undefined,done:true};return{value:[keyItem.value,this._list.get(keyItem.value)],done:false}}}]);return List_Iterator}()}})});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\js0\index.js
jsLibs.exportModule("js0","index",function(require,module,exports){'use strict';var js0_Class=/*#__PURE__*/function(){function js0_Class(){_classCallCheck(this,js0_Class)}_createClass(js0_Class,[{key:"List",get:function get(){return require("./List")}},{key:"TimeSpan",get:function get(){return require("./TimeSpan")}},{key:"args",value:function args(_args3){for(var i=0;i<(arguments.length<=1?0:arguments.length-1);i++){var _errors=[];if(!this.type(_args3[i],i+1<1||arguments.length<=i+1?undefined:arguments[i+1],_errors)){console.error("Error: Argument ".concat(i," -> "),_errors);throw new this.TypeError("Wrong argument type.")}}}},{key:"argsC",value:function argsC(args){for(var i=0;i<(arguments.length<=1?0:arguments.length-1);i++){if(!this.type(args[i],i+1<1||arguments.length<=i+1?undefined:arguments[i+1]))return false}return true}},{key:"assert",value:function assert(value){var message=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(!value)throw new this.AssertionError(message)}},{key:"copyArray",value:function copyArray(arr){this.args(arguments,Array);var valueTypes=["undefined","boolean","number","string"];var arr_New=new Array;var _iterator67=_createForOfIteratorHelper(arr),_step67;try{for(_iterator67.s();!(_step67=_iterator67.n()).done;){var val=_step67.value;// if (this.type(val, valueTypes)) {
//     arr_New.push(val);
//     continue;
// }
if(this.type(val,js0.Null)){arr.push(null);continue}if(this.type(val,this.RawObject)){arr_New.push(this.copyObject(val));continue}if(this.type(val,Array)){arr_New.push(this.copyArray(val));continue}arr_New.push(val)}}catch(err){_iterator67.e(err)}finally{_iterator67.f()}return arr_New}},{key:"copyObject",value:function copyObject(obj){this.args(arguments,js0.RawObject);var valueTypes=["undefined","boolean","number","string"];var obj_New={};for(var prop in obj){// if (this.type(obj[prop], valueTypes)) {
//     obj_New[prop] = obj;
//     continue;
// }
if(this.type(obj[prop],js0.Null)){obj_New[prop]=null;continue}if(this.type(obj[prop],this.RawObject)){obj_New[prop]=this.copyObject(obj[prop]);continue}if(this.type(obj[prop],Array)){obj_New[prop]=this.copyArray(obj[prop]);continue}obj_New[prop]=obj[prop]}return obj_New}// implement(mainObject, propClass, ...propArgs)
// {
//     this.prop(mainObject, propClass, ...propArgs);
// }
// implements(object, propClass)
// {
//     return this.type(object, this.Prop(propClass));
// }
},{key:"prop",value:function prop(mainObject,propClass){for(var _len2=arguments.length,propArgs=new Array(_len2>2?_len2-2:0),_key5=2;_key5<_len2;_key5++){propArgs[_key5-2]=arguments[_key5]}this.args(arguments,"object","function");if(!("Property"in propClass)){throw new Error("`".concat(propClass,"` is not a `Property` ")+"(no `Property` in object prototype).")}if(typeof propClass.Property!=="string"){throw new Error("`".concat(propClass,"` is not a `Property` ")+"(`Property` is not a string).")}propArgs.splice(0,0,null);var prop=new(Function.prototype.bind.apply(propClass,propArgs));Object.defineProperty(mainObject,propClass.Property,{get:function get(){return prop}})}},{key:"implements",value:function _implements(mainObject){}},{key:"rtn",value:function rtn(valueType){var _this44=this;var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.NotSet;if(value===this.NotSet){return function(value){_this44.typeE(value,valueType);return value}}this.typeE(value,valueType);return value}},{key:"type",value:function type(value,valueType){var errors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];if(valueType===null)return true;var typeofValue=_typeof(value);/* Special Types */if(valueType===this.ArrayItems){if(value===null||_typeof(value)!=="object"){errors.push("`".concat(value,"` is not an instance `Array`."));return false}if(!(value instanceof Array)){errors.push("`".concat(value,"` is not an instance of `Array`."));return false}return true}else if(valueType===this.Default){if(value===undefined)return true;return false}else if(valueType===this.Int){return this.type(value,"int",errors)}else if(valueType===this.Iterable){if(value===null||_typeof(value)!=="object"){errors.push("`".concat(value,"` is not `Iterable`."));return false}if(typeof value[Symbol.iterator]!=="function"){errors.push("`".concat(value,"` is not `Iterable`."));return false}return true}else if(valueType===this.Long){return this.type(value,"bigint",errors)}else if(valueType===this.Object){return this.type(value,"object",errors)}else if(valueType===this.RawObject){if(value===null)return true;if(typeofValue==="undefined"){errors.push("'".concat(value,"' is not an RawObject."));return false}// if (!(typeof value !== 'object')) {
//     console.log(typeof value);
//     errors.push(`'${value}' is not an RawObject.`);
//     return false;
// }
if(Object.getPrototypeOf(value)!==Object.prototype){errors.push("'".concat(value,"' is not an RawObject."));return false}return true}else if(valueType===this.NotNull){if(value===null){errors.push("`".concat(value,"` cannot be `null`."));return false}return true}else if(valueType===this.Null){if(value===null)return true;return false}else if(valueType instanceof this.ArrayItems_Type){if(!this.type(value,Array)){errors.push("Value must be an instance of Array. Found: ".concat(typeofValue,"."));return false}var valid=true;var i=0;var _iterator68=_createForOfIteratorHelper(value),_step68;try{for(_iterator68.s();!(_step68=_iterator68.n()).done;){var itemValue=_step68.value;var itemErrors=[];if(!this.type(itemValue,valueType.itemType,itemErrors)){var itemKey=value.keys()[i];valid=false;errors.push("Item '".concat(i,"' errors: ")+itemErrors.join(", "))}i++}}catch(err){_iterator68.e(err)}finally{_iterator68.f()}return valid}else if(valueType instanceof this.Enum_Type){var _iterator69=_createForOfIteratorHelper(valueType.values),_step69;try{for(_iterator69.s();!(_step69=_iterator69.n()).done;){var value_Enum=_step69.value;if(value===value_Enum)return true}}catch(err){_iterator69.e(err)}finally{_iterator69.f()}errors.push("Enum value '".concat(value,"' not found in '")+valueType.values.join(", ")+"'.");return false}else if(valueType instanceof this.Default_Type){return false}else if(valueType instanceof this.Iterable_Type){if(!this.type(value,this.Iterable)){errors.push("Preset must be Iterable. Found: ".concat(typeofValue,"."));return false}var _valid=true;var _i7=0;var _iterator70=_createForOfIteratorHelper(value),_step70;try{for(_iterator70.s();!(_step70=_iterator70.n()).done;){var _itemValue=_step70.value;var _itemErrors=[];if(!this.type(_itemValue,valueType.itemType,_itemErrors)){var _itemKey=value.keys()[_i7];_valid=false;errors.push("Item '".concat(_i7,"' errors: ")+_itemErrors.join(", "))}_i7++}}catch(err){_iterator70.e(err)}finally{_iterator70.f()}return _valid}else if(valueType instanceof this.Preset_Type){if(typeofValue==="undefined"&&typeof valueType.defaultValue!=="undefined"){value=valueType.defaultValue;typeofValue=_typeof(value)}if(value===null){errors.push("Preset cannot be null.");return false}if(typeofValue!=="object"){errors.push("Preset must be an object. Found: ".concat(typeofValue,"."));return false}var _valid2=true;for(var key in value){if(!(key in valueType.presets)){errors.push("Unknown key `".concat(key,"`."));_valid2=false}}for(var _key6 in valueType.presets){var newErrors=[];if(typeof value[_key6]==="undefined"){if(valueType.presets[_key6]instanceof Array){var _iterator71=_createForOfIteratorHelper(valueType.presets[_key6]),_step71;try{for(_iterator71.s();!(_step71=_iterator71.n()).done;){var propValueType=_step71.value;if(propValueType instanceof this.Default_Type)value[_key6]=propValueType.defaultValue}}catch(err){_iterator71.e(err)}finally{_iterator71.f()}}}if(this.type(value[_key6],valueType.presets[_key6],newErrors))continue;for(var _i8=0,_newErrors=newErrors;_i8<_newErrors.length;_i8++){var newError=_newErrors[_i8];errors.push("".concat(_key6," -> ").concat(newError))}_valid2=false}// console.log('WTF', value, valid, errors);
return _valid2}else if(valueType instanceof this.PresetArray_Type){if(typeofValue==="undefined"&&typeof valueType.defaultValue!=="undefined"){value=valueType.defaultValue;typeofValue=_typeof(value)}if(value===null){errors.push("Preset cannot be null.");return false}if(!(value instanceof Array)){errors.push("PresetArray must be an array. Found: ".concat(typeofValue,"."));return false}var _valid3=true;if(value.length!==valueType.presets.length){errors.push("Wrong PresetArray length. Required: '".concat(valueType.presets.length,"'."));_valid3=false}for(var _i9=0;_i9<valueType.presets.length;_i9++){var _newErrors2=[];if(typeof value[_i9]==="undefined"){if(valueType.presets[_i9]instanceof Array){var _iterator72=_createForOfIteratorHelper(valueType.presets[_i9]),_step72;try{for(_iterator72.s();!(_step72=_iterator72.n()).done;){var _propValueType=_step72.value;if(_propValueType instanceof this.Default_Type)value[_i9]=_propValueType.defaultValue}}catch(err){_iterator72.e(err)}finally{_iterator72.f()}}}if(this.type(value[_i9],valueType.presets[_i9],_newErrors2))continue;for(var _i10=0,_newErrors3=_newErrors2;_i10<_newErrors3.length;_i10++){var _newError=_newErrors3[_i10];errors.push("".concat(_i9," -> ").concat(_newError))}_valid3=false}return _valid3}else if(valueType instanceof this.Prop_Type){var propClass=valueType._propClass;if(_typeof(value)!=="object"){errors.push("`".concat(value,"` does not implement `").concat(propClass,"` ")+" (not an object).");return false}if(!(propClass.Property in value)){errors.push("`".concat(value,"` does not implement `").concat(propClass,"` ")+" (property not in object).");return false}if(!(value[propClass.Property]instanceof propClass)){errors.push("`".concat(value,"` does not implement `").concat(propClass,"`. ")+" (wrong property type).");return false}return true}else if(valueType===this.PropClass){if(typeof value!=="function"){errors.push("`".concat(value,"` is not a `Property`."));return false}if(!("Property"in value)){errors.push("`".concat(value,"` is not a `Property`."));return false}return true}else if(valueType instanceof this.Object_Type){if(!this.type(value,this.Object)){errors.push("Preset must be an Object. Found: ".concat(typeofValue,"."));return false}var _valid4=true;for(var _itemKey2 in value){var _itemErrors2=[];if(!this.type(value[_itemKey2],valueType.itemType,_itemErrors2)){_valid4=false;errors.push("Item '".concat(_itemKey2,"' errors: ")+_itemErrors2.join(", "))}}return _valid4}else if(valueType instanceof this.RawObject_Type){if(!this.type(value,this.RawObject)){errors.push("Preset must be a RawObject. Found: ".concat(typeofValue,"."));return false}var _valid5=true;for(var _itemKey3 in value){var _itemErrors3=[];if(!this.type(value[_itemKey3],valueType.itemType,_itemErrors3)){_valid5=false;errors.push("Item '".concat(_itemKey3,"' errors: ")+_itemErrors3.join(", "))}}return _valid5}/* / Special Types */var typeofValueType=_typeof(valueType);/* Basic Types */if(typeofValueType==="string"){var _result2=true;if(this.Types_Basic.has(valueType)){_result2=_typeof(value)===valueType}else if(this.Types_Extended.has(valueType)){switch(valueType){case"bool":_result2=typeofValueType==="boolean";case"int":_result2=Number.isInteger(value);break;case"finite":_result2=Number.isFinite(value);break;case"nan":_result2=Number.isNaN(value);break;}}else{errors.push("Unknown type '".concat(valueType,"'."));return false}if(!_result2){var typeof_value=_typeof(value);var value_Str=String(value);errors.push("Variable `".concat(value_Str,"` of type `").concat(typeof_value,"`")+" should be of type `".concat(valueType,"`."));return false}return true}if(typeofValueType==="object"){/* Multiple Types */if(valueType instanceof Array){if(value===null){for(var _i11=0;_i11<valueType.length;_i11++){if(valueType[_i11]===this.NotNull){errors.push("`".concat(value,"` cannot be `null`."));return false}}}for(var _i12=0;_i12<valueType.length;_i12++){if(this.type(value,valueType[_i12],errors))return true}return false}return true}if(typeofValueType==="function"){// /* Property */
// if ('Property' in valueType) {
//     if (!this.implements(value, valueType)) {
//
//         errors.push(`Variable does not implement property
//                 \`${valueType.constructor}\`.`);
//         return false;
//     }
//
//     return true;
// }
/* Class */if(!(value instanceof valueType)){var _valueStr=String(value);errors.push("Variable `".concat(_valueStr,"` is not an instance of")+" `".concat(valueType.name,"`."));return false}return true}if(typeofValueType==="symbol"){if(value!==valueType){var _value_Str=String(value);var valueType_Str=String(valueType);errors.push("Variable '".concat(valueStr,"' is not ").concat(valueType_Str,"."));return false}return true}throw new Error("Unknown `valueType`: ".concat(typeofValueType))}},{key:"typeE",value:function typeE(value,valueType){var errors=[];if(this.type(value,valueType,errors))return;console.error("Error:",errors);throw new this.TypeError("Wrong variable type.")}},{key:"virtual",value:function virtual(){var object=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(object===null)throw new this.NotImplementedError;throw new this.NotImplementedError("Method not implemented in:"+" `".concat(object.constructor.name,"`."))}}]);return js0_Class}();var js0=js0_Class.prototype;Object.defineProperties(js0_Class.prototype,{/* Errors */AssertionError:{value:/*#__PURE__*/function(_Error){_inherits(js0_AssertionError,_Error);var _super41=_createSuper(js0_AssertionError);function js0_AssertionError(){_classCallCheck(this,js0_AssertionError);for(var _len3=arguments.length,args=new Array(_len3),_key7=0;_key7<_len3;_key7++){args[_key7]=arguments[_key7]}return _super41.call.apply(_super41,[this].concat(args))}return js0_AssertionError}(/*#__PURE__*/_wrapNativeSuper(Error))},NotImplementedError:{value:/*#__PURE__*/function(_Error2){_inherits(js0_NotImplementedError,_Error2);var _super42=_createSuper(js0_NotImplementedError);function js0_NotImplementedError(){_classCallCheck(this,js0_NotImplementedError);for(var _len4=arguments.length,args=new Array(_len4),_key8=0;_key8<_len4;_key8++){args[_key8]=arguments[_key8]}return _super42.call.apply(_super42,[this].concat(args))}return js0_NotImplementedError}(/*#__PURE__*/_wrapNativeSuper(Error))},TypeError:{value:/*#__PURE__*/function(_Error3){_inherits(js0_TypeError,_Error3);var _super43=_createSuper(js0_TypeError);function js0_TypeError(){_classCallCheck(this,js0_TypeError);for(var _len5=arguments.length,args=new Array(_len5),_key9=0;_key9<_len5;_key9++){args[_key9]=arguments[_key9]}return _super43.call.apply(_super43,[this].concat(args));// let stack = this.stack;
// let stack_array = stack.split('\n');
// stack_array.splice(1, 3);
// this.stack = stack_array.join('\n');
}return js0_TypeError}(/*#__PURE__*/_wrapNativeSuper(Error))},/* / Errors */ /* Types */Types_Basic:{value:new Set(["undefined",// 'object', /* null */
"boolean","number","string","symbol","function","object"])},Types_Extended:{value:new Set(["bigint","bool","finite","int","nan"])},/* Types Special */ArrayItems:{value:function value(itemType){return new js0.ArrayItems_Type(itemType)}},Default:{value:function value(defaultValue){return new js0.Default_Type(defaultValue)}},Enum:{value:function value(values){return new js0.Enum_Type(values)}},Int:{value:Symbol("js0_Int")},Iterable:{value:function value(itemType){return new js0.Iterable_Type(itemType)}},Long:{value:Symbol("js0_Long")},NotNull:{value:Symbol("js0_NotNull")},NotSet:{value:Symbol("js0_NotSet")},Null:{value:Symbol("js0_Null")},Preset:{value:function value(presets){var defaultValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;return new js0.Preset_Type(presets,defaultValue)}},PresetArray:{value:function value(presets){var defaultValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;return new js0.PresetArray_Type(presets,defaultValue)}},Prop:{value:function value(property){return new js0.Prop_Type(property)}},PropClass:{value:Symbol("js0_PropClass")},Object:{value:Symbol("js0_Object")},RawObject:{value:Symbol("js0_RawObject")},And_Type:{value:function js0_And_Type(valueTypes){_classCallCheck(this,js0_And_Type);js0.args(arguments,js0.PropClass);Object.defineProperties(this,{_valueTypes:{value:valueTypes}})}},ArrayItems_Type:{value:function js0_ArrayItems_Type(itemType){_classCallCheck(this,js0_ArrayItems_Type);this.itemType=itemType}},Default_Type:{value:function js0_Default_Type(){var defaultValue=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;_classCallCheck(this,js0_Default_Type);this.defaultValue=defaultValue}},Enum_Type:{value:function js0_Enum_Type(){var values=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,js0_Enum_Type);if(!(values instanceof Array))throw new Error("'js0.Enum' values must be an Array.");this.values=values}},Iterable_Type:{value:function js0_Iterable_Type(itemType){_classCallCheck(this,js0_Iterable_Type);this.itemType=itemType}},// Or_Type: { value:
// class js0_Or_Type
// {
//     constructor(propClass)
//     {
//         js0.argsE(arguments, js0.PropClass);
//
//         Object.defineProperties(this, {
//             _propClass: { value: propClass, },
//         });
//     }
// }},
Preset_Type:{value:function js0_Preset_Type(presets){var defaultValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;_classCallCheck(this,js0_Preset_Type);js0.args(arguments,["object"],["object",null]);this.presets=presets;this.defaultValue=defaultValue}},PresetArray_Type:{value:function js0_PresetArray_Type(presets){_classCallCheck(this,js0_PresetArray_Type);js0.args(arguments,Array);this.presets=presets}},Prop_Type:{value:function js0_Prop_Type(propClass){_classCallCheck(this,js0_Prop_Type);js0.args(arguments,js0.PropClass);Object.defineProperties(this,{_propClass:{value:propClass}})}},Object_Type:{value:function js0_Object_Type(itemType){_classCallCheck(this,js0_Object_Type);this.itemType=itemType}},RawObject_Type:{value:function js0_RawObject_Type(itemType){_classCallCheck(this,js0_RawObject_Type);this.itemType=itemType}}/* / Types */});module.exports=new js0_Class});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\js0\TimeSpan.js
jsLibs.exportModule("js0","TimeSpan",function(require,module,exports){'use strict';var TimeSpan=/*#__PURE__*/function(){function TimeSpan(){_classCallCheck(this,TimeSpan);this._start=new Date().getTime();this._marks=[]}_createClass(TimeSpan,[{key:"getDiffs",value:function getDiffs(){var diffs=[];var _iterator73=_createForOfIteratorHelper(this._marks),_step73;try{for(_iterator73.s();!(_step73=_iterator73.n()).done;){var mark=_step73.value;diffs.push([mark.alias,mark.timeEnd===null?null:mark.timeEnd-mark.timeStart])}}catch(err){_iterator73.e(err)}finally{_iterator73.f()}return diffs}},{key:"markStart",value:function markStart(markAlias){this._marks.push({alias:markAlias,timeStart:new Date().getTime(),timeEnd:null});return new TimeSpan_Mark(this,this._marks.length-1)}}],[{key:"GetInstance",value:function GetInstance(instanceAlias){if(!(instanceAlias in TimeSpan.Instances))throw new Error("TimeSpan instance '".concat(instanceAlias,"' does not exist."));return TimeSpan.Instances[instanceAlias]}},{key:"MarkStart",value:function MarkStart(instanceAlias,markAlias){if(!(instanceAlias in TimeSpan.Instances))TimeSpan.Instances[instanceAlias]=new TimeSpan;var instance=TimeSpan.Instances[instanceAlias];return instance.markStart(markAlias)}}]);return TimeSpan}();TimeSpan.Instances={};var TimeSpan_Mark=/*#__PURE__*/function(){function TimeSpan_Mark(instance,index){_classCallCheck(this,TimeSpan_Mark);this._instance=instance;this._index=index}_createClass(TimeSpan_Mark,[{key:"end",value:function end(){this._instance._marks[this._index].timeEnd=new Date().getTime()}}]);return TimeSpan_Mark}();module.exports=TimeSpan});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-timer\index.js
jsLibs.exportModule("ab-timer","index",function(require,module,exports){'use strict';var js0=require("js0"),Timer=require("./Timer");var abTimer_Class=/*#__PURE__*/function(){function abTimer_Class(){_classCallCheck(this,abTimer_Class)}_createClass(abTimer_Class,[{key:"Timer",get:function get(){return Timer}},{key:"start",value:function start(runFn,interval){js0.args(arguments,"function","number");var t=new Timer(runFn,interval);t.start();return t}}]);return abTimer_Class}();var abTimer=new abTimer_Class;module.exports=abTimer});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-timer\Timer.js
jsLibs.exportModule("ab-timer","Timer",function(require,module,exports){'use strict';var js0=require("js0");var Timer=/*#__PURE__*/function(){function Timer(runFn,interval){_classCallCheck(this,Timer);js0.args(arguments,"function","number");this._runFn=runFn;this._interval=interval;this._interval_Elapsed=null;this._lastTick=null;this._running=false;this._startIndex=0;this._time_Start=null;this._time_Pause=null;this._time_PauseElapsed=0;this._ticksCount=0}_createClass(Timer,[{key:"isRunning",value:function isRunning(){return this._running}},{key:"start",value:function start(){var _this45=this;if(this._running)return;if(this._time_Start===null)this._time_Start=new Date().getTime();else{this._time_PauseElapsed+=new Date().getTime()-this._time_Pause;this._time_Pause=null}this._lastTick=new Date().getTime();var startIndex_Current=this._startIndex;var tick=function tick(){if(_this45._startIndex>startIndex_Current)return;if(!_this45._running)return;_this45._ticksCount++;var currentTime=new Date().getTime();var elapsedTime_Total=currentTime-(_this45._time_Start+_this45._time_PauseElapsed);var elapsedTime_Diff=_this45._ticksCount*_this45._interval-elapsedTime_Total;var elapsedTime=_this45._interval+elapsedTime_Total-Math.floor(elapsedTime_Total/_this45._interval)*_this45._interval;_this45._interval_Elapsed=null;_this45._lastTick=new Date().getTime();_this45._runFn(elapsedTime,elapsedTime_Total);setTimeout(function(){tick()},_this45._interval+elapsedTime_Diff)};this._lastTick=new Date().getTime();var firstInterval=this._interval_Elapsed===null?this._interval:this._interval-this._interval_Elapsed;this._running=true;setTimeout(function(){tick()},firstInterval)}},{key:"stop",value:function stop(){if(!this._running)return;this._time_Pause=new Date().getTime();this._startIndex++;this._running=false;this._interval_Elapsed=new Date().getTime()-this._lastTick}}]);return Timer}();module.exports=Timer;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-time\index.js
jsLibs.exportModule("ab-time","index",function(require,module,exports){'use strict';var abStrings=require("ab-strings"),js0=require("js0");var abTime_Class=/*#__PURE__*/function(){function abTime_Class(){_classCallCheck(this,abTime_Class)}_createClass(abTime_Class,[{key:"getParts",value:function getParts(time){js0.args(arguments,"number");var parts={};parts.h=Math.floor(time/(60*60*1000));time-=parts.h*60*60*100;parts.m=Math.floor(time/(60*1000));time-=parts.m*60*1000;parts.s=Math.floor(time/1000);time-=parts.s*1000;parts.ts=Math.floor(time/100);return parts}},{key:"getTime",value:function getTime(){return new Date().getTime()}// format_HMS(time, properties = {})
// {
//     js0.args(arguments, 'number', js0.Preset({
//         alwaysShow: {
//             h: [ 'boolean', js0.Default(false) ],
//             m: [ 'boolean', js0.Default(false) ],
//             s: [ 'boolean', js0.Default(false) ],
//         },
//         usePad: {
//             h: [ 'boolean', js0.Default(false) ],
//             m: [ 'boolean', js0.Default(false) ],
//             s: [ 'boolean', js0.Default(false) ],
//         },
//     }))
//     let time_Str = '';
//     let h = Math.floor(time / (60 * 60));
//     if (time_Str !== '' || h !== 0)
//         time_Str += h + ':';
//     time -= h * 60 * 60;
//     let m = Math.floor(time / 60);
//     if (time_Str !== '' || m !== 0)
//         time_Str += abStrings.pad(m, '0', 2) + ':';
//     time -= m * 60;
//     let s = time;
//     if (time_Str !== '' || s !== 0)
//         time_Str += abStrings.pad(s, '0', 2) + ':';
//     return time_Str;
// }
}]);return abTime_Class}();var abTime=new abTime_Class;module.exports=abTime});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-text\index.js
jsLibs.exportModule("ab-text","index",function(require,module,exports){'use strict';var js0=require("js0");var abText_Class=/*#__PURE__*/function(){function abText_Class(){_classCallCheck(this,abText_Class);this._texts={};this._langAlias=null}_createClass(abText_Class,[{key:"$",value:function $(text){var args=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;js0.args(arguments,"string",[js0.Null,js0.RawObject,js0.Default]);if(this._langAlias===null){console.warn("Lang alias not set.");return this.get(this._langAlias,text,args)}return this.get(this._langAlias,text,args)}},{key:"add",value:function add(langPrefix,texts){js0.args(arguments,"string",js0.RawObject);var langPrefix_Arr=langPrefix.split(".");var langAlias=langPrefix_Arr[0];var textPrefix_Arr=langPrefix_Arr.slice(1);var textPrefix=textPrefix_Arr.join(".");if(textPrefix!==""){textPrefix+="."}if(!(langAlias in this._texts)){this._texts[langAlias]={}}for(var text in texts){this._texts[langAlias][textPrefix+text]=texts[text]}return this}},{key:"get",value:function get(langAlias,text){var args=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;js0.args(arguments,[js0.Null,"string"],"string",[js0.Null,js0.RawObject,js0.Default]);var translation=null;if(langAlias in this._texts){if(text in this._texts[langAlias])translation=this._texts[langAlias][text]}if(translation===null){if(args===null){return"#".concat(text,"#")}else if(Object.keys(args).length===0){return"#".concat(text,"#")}else{var args_Arr=[];for(var _argName in args){args_Arr.push("".concat(_argName," => ").concat(args[_argName]))}return"#"+text+"("+args_Arr.join(", ")+")"}}for(var _argName2 in args){translation=translation.replace(new RegExp("{".concat(_argName2,"}"),"gm"),args[_argName2])}return translation}},{key:"setLang",value:function setLang(langAlias){this._langAlias=langAlias}}]);return abText_Class}();module.exports=new abText_Class});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-resource-preloader\Preloader.js
jsLibs.exportModule("ab-resource-preloader","Preloader",function(require,module,exports){'use strict';var js0=require("js0");var Preloader=/*#__PURE__*/function(){function Preloader(){var emptySrcs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Preloader);js0.args(arguments,[js0.RawObject,js0.Default]);js0.typeE(emptySrcs,js0.Preset({imageSrc:["string",js0.Null,js0.Default(null)],soundSrc:["string",js0.Null,js0.Default(null)]}));this._emptySrcs=emptySrcs;this._loadStarted=false;this._imageInfos=[];this._soundInfos=[];this._callback=null}_createClass(Preloader,[{key:"addImages",value:function addImages(srcs){js0.args(arguments,js0.Iterable("string"));var _iterator74=_createForOfIteratorHelper(srcs),_step74;try{for(_iterator74.s();!(_step74=_iterator74.n()).done;){var src=_step74.value;this._imageInfos.push({src:src,image:null,loaded:false})}}catch(err){_iterator74.e(err)}finally{_iterator74.f()}return this}},{key:"addSounds",value:function addSounds(srcs){js0.args(arguments,js0.Iterable("string"));var _iterator75=_createForOfIteratorHelper(srcs),_step75;try{for(_iterator75.s();!(_step75=_iterator75.n()).done;){var src=_step75.value;this._soundInfos.push({src:src,sound:null,loaded:false})}}catch(err){_iterator75.e(err)}finally{_iterator75.f()}return this}},{key:"load",value:function load(){var callback=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["function",js0.Default]);this._callback=callback;if(this._loadStarted)throw new Error("Load already started.");this._loadStarted=true;// setTimeout(() => {
this._load_Images();this._load_Sounds();// }, 1000);
this._loadedCheck()}},{key:"release",value:function release(){this._loadStarted=false;this._release_Images();this._release_Sounds();this._callback=null}},{key:"_loadedCheck",value:function _loadedCheck(){if(!this._loadedCheck_Images())return;if(!this._loadedCheck_Sounds())return;if(this._callback!==null)this._callback()}},{key:"_loadedCheck_Images",value:function _loadedCheck_Images(){var _iterator76=_createForOfIteratorHelper(this._imageInfos),_step76;try{for(_iterator76.s();!(_step76=_iterator76.n()).done;){var info=_step76.value;if(!info.loaded)return false}}catch(err){_iterator76.e(err)}finally{_iterator76.f()}return true}},{key:"_loadedCheck_Sounds",value:function _loadedCheck_Sounds(){var _iterator77=_createForOfIteratorHelper(this._soundInfos),_step77;try{for(_iterator77.s();!(_step77=_iterator77.n()).done;){var info=_step77.value;if(!info.loaded)return false}}catch(err){_iterator77.e(err)}finally{_iterator77.f()}return true}},{key:"_load_Images",value:function _load_Images(){var _this46=this;var _iterator78=_createForOfIteratorHelper(this._imageInfos),_step78;try{var _loop3=function _loop3(){var info=_step78.value;info.image=new Image;info.image.onerror=function(err){console.error("Error loading image:",info.src);info.loaded=true;_this46._loadedCheck()};info.image.onload=function(){info.loaded=true;_this46._loadedCheck()};info.image.src=info.src};for(_iterator78.s();!(_step78=_iterator78.n()).done;){_loop3()}}catch(err){_iterator78.e(err)}finally{_iterator78.f()}}},{key:"_load_Sounds",value:function _load_Sounds(){var _this47=this;var _iterator79=_createForOfIteratorHelper(this._soundInfos),_step79;try{var _loop4=function _loop4(){var info=_step79.value;info.sound=new Audio;info.sound.onerror=function(err){console.error("Error loading sound:",info.src);info.loaded=true;_this47._loadedCheck()};info.sound.oncanplaythrough=function(){info.loaded=true;_this47._loadedCheck()};info.sound.src=info.src};for(_iterator79.s();!(_step79=_iterator79.n()).done;){_loop4()}}catch(err){_iterator79.e(err)}finally{_iterator79.f()}}},{key:"_release_Images",value:function _release_Images(){for(var i=0;i<this._imageInfos.length;i++){if(this._emptySrcs.imageSrc!==null)this._imageInfos[i].image.src=this._emptySrcs.soundSrc;this._imageInfos[i].image=null}this._imageInfos=[]}},{key:"_release_Sounds",value:function _release_Sounds(){for(var i=0;i<this._soundInfos.length;i++){if(this._emptySrcs.soundSrc!==null)this._soundInfos[i].sound.src=this._emptySrcs.soundSrc;this._soundInfos[i].sound=null}this._soundInfos=[]}}]);return Preloader}();module.exports=Preloader;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-resource-preloader\index.js
jsLibs.exportModule("ab-resource-preloader","index",function(require,module,exports){'use strict';var js0=require("js0"),Preloader=require("./Preloader");var abPreloader_Class=/*#__PURE__*/function(){function abPreloader_Class(){_classCallCheck(this,abPreloader_Class)}_createClass(abPreloader_Class,[{key:"Preloader",get:function get(){return Preloader}}]);return abPreloader_Class}();module.exports=new abPreloader_Class});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-pager\Pager.js
jsLibs.exportModule("ab-pager","Pager",function(require,module,exports){'use strict';var js0=require("js0");var Pager=/*#__PURE__*/function(){function Pager(){var base=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"/";var useState=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;_classCallCheck(this,Pager);this._initialized=false;this._base=base;this._useState=useState;this._pages=new Map;this._currentPage=null;this._currentPageInfo=null;this._listeners_OnPageChanged=[];this._listeners_OnPageSet={};this._listeners_OnBeforePageSet=[];this._listeners_NotFound=null}_createClass(Pager,[{key:"base",get:function get(){return this._base}},{key:"current",get:function get(){return this._currentPageInfo}},{key:"pages",get:function get(){return this._pages}},{key:"addListener_OnBeforePageSet",value:function addListener_OnBeforePageSet(listenerFn){this._listeners_OnBeforePageSet.push(listenerFn)}},{key:"getPage",value:function getPage(pageName){js0.args(arguments,"string");if(!this._pages.has(pageName))throw new Error("Page '".concat(pageName,"' does not exist."));return this._pages.get(pageName)}},{key:"getPageInfo_FromUri",value:function getPageInfo_FromUri(uri){if(this._pages.size===0)throw new Error("Cannot parse uri '".concat(uri,"'. No pages set."));var base=this._base;base=base.substring(0,base.length);if(uri.indexOf(base)!==0){window.location=base;return null}uri=uri.substring(base.length);var uriArr=uri.split("?");uri=uriArr[0];var search=uriArr.length===1?"":uriArr[1];var searchParams={};var searchArr=search.split("&");var _iterator80=_createForOfIteratorHelper(searchArr),_step80;try{for(_iterator80.s();!(_step80=_iterator80.n()).done;){var searchParam=_step80.value;var searchParamArr=searchParam.split("=");if(searchParamArr.length<2)continue;searchParams[searchParamArr[0]]=searchParamArr[1]}}catch(err){_iterator80.e(err)}finally{_iterator80.f()}var uriArray=uri.split("/");if(uriArray[uriArray.length-1]==="")uriArray.pop();if(uriArray.length===0)uriArray.push("");var _iterator81=_createForOfIteratorHelper(this._pages),_step81;try{for(_iterator81.s();!(_step81=_iterator81.n()).done;){var _step81$value=_slicedToArray(_step81.value,2),pageName=_step81$value[0],page=_step81$value[1];var aliasArray=page.uri.split("/");if(aliasArray.length!==uriArray.length)continue;var args={};var uriMatched=true;for(var i=0;i<aliasArray.length;i++){if(aliasArray[i]===""){uriMatched=uriArray[i]==="";break}if(aliasArray[i][0]===":"){if(aliasArray[i][0]===1){uriMatched=false;break}var uriArgInfo=this._getUriArgInfo(aliasArray[i]);args[uriArgInfo.name]=decodeURIComponent(uriArray[i]);continue}if(aliasArray[i]!==uriArray[i]){uriMatched=false;break}}if(!uriMatched)continue;return{name:page.name,args:args,searchParams:searchParams}}}catch(err){_iterator81.e(err)}finally{_iterator81.f()}return null}},{key:"getPageUri",value:function getPageUri(pageName){var args=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var searchParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var pathOnly=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;js0.args(arguments,"string",["object",js0.Default]);var page=this.getPage(pageName);return this.parseUri(page.uri,args,searchParams,null,null,pathOnly)}},{key:"hasPage",value:function hasPage(pageName){js0.args(arguments,"string");return this._pages.has(pageName)}},{key:"init",value:function init(){var _this48=this;var setPage=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this._initialized=true;if(this._useState){window.onpopstate=function(){_this48._parseUri(window.location.pathname+window.location.search,false)}}var uri=window.location.pathname+window.location.search;var pageInfo=this.getPageInfo_FromUri(uri);if(!setPage)return pageInfo;this._setPageInfo(pageInfo,false,uri)}},{key:"notFound",value:function notFound(notFoundListener){js0.args(arguments,"function");this._listeners_NotFound=notFoundListener}},{key:"page",value:function page(name,uri,onPageSetListener){js0.args(arguments,"string","string","function");this._pages.set(name,new Pager.Page(name,uri));if(onPageSetListener!==null){this._listeners_OnPageSet[name]=onPageSetListener;// this._listeners_OnPageChanged.push((page, sourcePageName) => {
//     if (page.name === name)
//         onPageSetListener(sourcePageName);
// });
}return this}},{key:"parseUri",value:function parseUri(uri){var args=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var searchParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var args_Parsed=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var searchParams_Parsed=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var pathOnly=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var uriArr=uri.split("?");uri=uriArr[0];/* Uri Args */var uriArgs=uri===""?[]:uri.split("/");if(uriArgs[uriArgs.length-1]==="")uriArgs.pop();var pUri="";for(var i=0;i<uriArgs.length;i++){if(uriArgs[i][0]!==":"){pUri+=uriArgs[i]+"/";continue}var argInfo=this._getUriArgInfo(uriArgs[i]);if(!(argInfo.name in args)){if(argInfo.defaultValue===null)throw new Error("Uri arg '".concat(argInfo.name,"' not set."));pUri+=argInfo.defaultValue+"/";args[argInfo.name]=argInfo.defaultValue;if(args_Parsed!==null)args_Parsed[argInfo.name]=null;continue}pUri+=encodeURIComponent(args[argInfo.name])+"/";if(args_Parsed!==null)args_Parsed[argInfo.name]=String(args[argInfo.name])}/* Search Params */var search="";for(var searchParam_Name in searchParams){search+=(search===""?"?":"&")+searchParam_Name+"="+searchParams[searchParam_Name]}pUri+=search;if(pathOnly)return pUri;else return this._base+pUri}},{key:"removeListener_OnBeforePageSet",value:function removeListener_OnBeforePageSet(listenerFn){for(var i=0;i<this._listeners_OnBeforePageSet.length;i++){if(this._listeners_OnBeforePageSet[i]===listenerFn){this._listeners_OnBeforePageSet.splice(i,1);return}}throw new Error("Listener function does not exist.")}},{key:"setPage",value:function setPage(pageName){var args=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var searchParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var pushState=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var pageArgs=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};js0.args(arguments,"string",[js0.Default,"object"],[js0.Default,"object"],[js0.Default,"boolean"],[js0.Default,js0.RawObject]);if(!this._pages.has(pageName))throw new Error("Page `"+pageName+"` does not exist.`");var args_Parsed={};for(var _argName3 in args){args_Parsed[_argName3]=String(args[_argName3])}args=args_Parsed;var _iterator82=_createForOfIteratorHelper(this._listeners_OnBeforePageSet),_step82;try{for(_iterator82.s();!(_step82=_iterator82.n()).done;){var listenerFn=_step82.value;if(listenerFn(pageName,args,searchParams,pushState)===false)return}}catch(err){_iterator82.e(err)}finally{_iterator82.f()}var source=this._currentPage;this._currentPage=this._pages.get(pageName);var uri=this.parseUri(this._currentPage.uri,args,searchParams);this._currentPageInfo=new Pager.PageInfo(pageName,args,searchParams);if(this._useState){if(pushState)window.history.pushState({},this._currentPage.title,uri);else window.history.replaceState({},this._currentPage.title,uri)}// let currentPage = {
//     name: this._currentPageInfo.name,
//     args: this._currentPageInfo.args,
//     searchParams: this._currentPageInfo.searchParams,
// };
for(var i=0;i<this._listeners_OnPageChanged.length;i++){this._listeners_OnPageChanged[i](this._currentPageInfo,source)}if(this._currentPageInfo.name in this._listeners_OnPageSet){this._listeners_OnPageSet[this._currentPageInfo.name](this._currentPageInfo,source,pageArgs)}}},{key:"setUri",value:function setUri(uri){var pushState=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this._parseUri(uri,pushState)}},{key:"_getUriArgInfo",value:function _getUriArgInfo(uriArg){var argName=uriArg.substring(1);var argDefault=null;var argNameArray=argName.split("=");if(argNameArray.length>1){argName=argNameArray[0];argDefault=argNameArray[1]}return{name:argName,defaultValue:argDefault}}},{key:"_parseUri",value:function _parseUri(uri,pushState){var pageInfo=this.getPageInfo_FromUri(uri);this._setPageInfo(pageInfo,pushState,uri)}},{key:"_setPageInfo",value:function _setPageInfo(pageInfo,pushState,uri){js0.args(arguments,js0.RawObject,["boolean",js0.Default],"string");if(pageInfo===null){if(this._listeners_NotFound===null)throw new Error("Cannot parse uri '".concat(uri,"'. No page found."));else this._listeners_NotFound(uri,pushState)}else{this.setPage(pageInfo.name,pageInfo.args,pageInfo.searchParams,pushState)}}}]);return Pager}();module.exports=Pager;Object.defineProperties(Pager,{Page:{value:function Pager_Page(name,uri,onPageSetListener){_classCallCheck(this,Pager_Page);Object.defineProperties(this,{name:{value:name},uri:{value:uri},onPageSetListener:{value:onPageSetListener}})}},PageInfo:{value:/*#__PURE__*/function(){function Pager_PageInfo(pageName,args,searchParams){_classCallCheck(this,Pager_PageInfo);this._name=pageName;this._args=args;this._searchParams=searchParams}_createClass(Pager_PageInfo,[{key:"args",get:function get(){var argsR={};for(var _argName4 in this._args){argsR[_argName4]=this._args[_argName4]}return argsR}},{key:"name",get:function get(){return this._name}},{key:"searchParams",get:function get(){var searchParamsR={};for(var searchParamsName in this._searchParams){searchParams[searchParamsName]=this._searchParams[argName]}return searchParamsR}}]);return Pager_PageInfo}()}})});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-pager\index.js
jsLibs.exportModule("ab-pager","index",function(require,module,exports){'use strict';var Pager=require("./Pager");var abPager_Class=/*#__PURE__*/function(){function abPager_Class(){_classCallCheck(this,abPager_Class)}_createClass(abPager_Class,[{key:"Pager",get:function get(){return Pager}}]);return abPager_Class}();module.exports=new abPager_Class});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-native\NativeApp.js
jsLibs.exportModule("ab-native","NativeApp",function(require,module,exports){'use strict';var js0=require("js0");var NativeApp=/*#__PURE__*/function(){function NativeApp(){_classCallCheck(this,NativeApp)}_createClass(NativeApp,[{key:"callNative",value:function callNative(actionId,actionsSetName,actionInfo,args){js0.args(arguments,"int","string",js0.RawObject,js0.RawObject,["function",js0.Null,js0.Default]);var errors=[];if(!js0.type(args,js0.Preset(actionInfo.actionArgs),errors)){console.error(errors);throw new Error("Wrong action '".concat(actionInfo.name,"' args."))}this.__callNative(actionId,actionsSetName,actionInfo.name,args)}},{key:"callWeb",value:function callWeb(actionId,actionsSetsName,actionInfo,args){var _this49=this;js0.args(arguments,"int","string",js0.RawObject,js0.RawObject);var errors=[];if(!js0.type(args,js0.Preset(actionInfo.actionArgs),errors)){console.error(errors);throw new Error("Wrong action '".concat(actionInfo.name,"' args."))}var fnResult=actionInfo.fn(args);if(js0.type(fnResult,Promise)){fnResult.then(function(result){_this49._callWeb_ParseResult(actionId,result)})["catch"](function(err){throw err})}else{this._callWeb_ParseResult(actionId,fnResult)}this.__onWebResult(actionId,result)}},{key:"_callWeb_ParseResult",value:function _callWeb_ParseResult(actionId,actionInfo,result){if(actionInfo.resultArgs===null){if(!js0.type(result,js0.Null))throw new Error("Wrong action '".concat(actionInfo.name,"' result. Expected: null."))}else if(!js0.type(result,js0.Preset(actionInfo.resultArgs))){console.error(errors);throw new Error("Wrong action '".concat(actionInfo.name,"' result. Expected: ")+actionInfo.resultArgs)}this.__onWebResult(actionId,result)}},{key:"_getNextActionId",value:function _getNextActionId(){return++this.actionId_Last}},{key:"__callNative",value:function __callNative(actionsSetName,actionName,args){var callbackFn=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;js0.args(arguments,"string","string",js0.RawObject,"function");js0.virtual(this)}},{key:"__onWebResult",value:function __onWebResult(){js0.virtual(this)}}]);return NativeApp}();module.exports=NativeApp;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-native\ActionsSetDef.js
jsLibs.exportModule("ab-native","ActionsSetDef",function(require,module,exports){'use strict';var js0=require("js0"),abNative=require(".");var ActionsSetDef=/*#__PURE__*/function(){function ActionsSetDef(){_classCallCheck(this,ActionsSetDef);js0.args(arguments);this._actions_Native={};this._actions_Web={}}_createClass(ActionsSetDef,[{key:"addNative",value:function addNative(actionName,actionArgs,resultArgs){js0.args(arguments,"string",js0.RawObject,js0.RawObject);this._actions_Native[actionName]={name:actionName,actionArgs:actionArgs,resultArgs:resultArgs};return this}},{key:"addWeb",value:function addWeb(actionName,actionArgs,resultArgs,fn){js0.args(arguments,"string",js0.RawObject,js0.RawObject,"function");this._actions_Web[actionName]={name:actionName,actionArgs:actionArgs,resultArgs:resultArgs,fn:fn};return this}// callNative(actionsSetName, actionName, actionArgs = {}, callbackFn = null)
// {
//     abNative.callNative(actionsSetName, actionName, actionArgs, callbackFn);
// }
// callNative_Async(actionName, actionArgs = {})
// {
//     return new Promise((resolve, reject) => {
//         try {
//             this.callNative(actionName, actionArgs, (result) => {
//                 resolve(result);
//             });
//         } catch (e) {
//             reject(e);
//         }
//     });
// }
},{key:"getNativeInfo",value:function getNativeInfo(actionName){if(!(actionName in this._actions_Native))throw new Error("Action '".concat(actionName,"' does not exist."));return this._actions_Native[actionName]}},{key:"getWebInfo",value:function getWebInfo(actionName){if(!(actionName in this._actions_Web))throw new Error("Action '".concat(actionName,"' does not exist."));return this._actions_Web[actionName]}},{key:"hasNative",value:function hasNative(actionName){return actionName in this._actions_Native}// init()
// {
//     abNative.init(this);
// }
}]);return ActionsSetDef}();module.exports=ActionsSetDef;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-native\NativeActionsSet.js
jsLibs.exportModule("ab-native","NativeActionsSet",function(require,module,exports){'use strict';var js0=require("js0"),abNative=require(".");var NativeActionsSet=/*#__PURE__*/function(){function NativeActionsSet(name,actionsSet){_classCallCheck(this,NativeActionsSet);js0.args(arguments,"string",require("./ActionsSetDef"));this.name=name;this.actionsSet=actionsSet}_createClass(NativeActionsSet,[{key:"callNative_Async",value:function(){var _callNative_Async=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(actionName){var actionArgs,_args4=arguments;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:actionArgs=_args4.length>1&&_args4[1]!==undefined?_args4[1]:{};_context3.next=3;return abNative.callNative_Async(this.name,actionName,actionArgs);case 3:return _context3.abrupt("return",_context3.sent);case 4:case"end":return _context3.stop();}}},_callee3,this)}));function callNative_Async(_x6){return _callNative_Async.apply(this,arguments)}return callNative_Async}()}]);return NativeActionsSet}();module.exports=NativeActionsSet;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-native\NativeApp_Android.js
jsLibs.exportModule("ab-native","NativeApp_Android",function(require,module,exports){'use strict';var js0=require("js0"),NativeApp=require("./NativeApp");var NativeApp_Android=/*#__PURE__*/function(_NativeApp){_inherits(NativeApp_Android,_NativeApp);var _super44=_createSuper(NativeApp_Android);function NativeApp_Android(){_classCallCheck(this,NativeApp_Android);return _super44.call(this)}/* NativeApp */_createClass(NativeApp_Android,[{key:"__callNative",value:function __callNative(actionId,actionsSetName,actionName,args){js0.args(arguments,"int","string","string",js0.RawObject);abNative_Android.callNative(actionId,actionsSetName,actionName,JSON.stringify(args))}},{key:"__onWebResult",value:function __onWebResult(actionId,result){js0.args(arguments,"int",[js0.RawObject,js0.Null]);abNative_Android.onWebResult(actionId,result)}/* / NativeApp */}]);return NativeApp_Android}(NativeApp);module.exports=NativeApp_Android;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-native\NativeApp_IOS.js
jsLibs.exportModule("ab-native","NativeApp_IOS",function(require,module,exports){'use strict';var js0=require("js0"),NativeApp=require("./NativeApp");var NativeApp_IOS=/*#__PURE__*/function(_NativeApp2){_inherits(NativeApp_IOS,_NativeApp2);var _super45=_createSuper(NativeApp_IOS);function NativeApp_IOS(){_classCallCheck(this,NativeApp_IOS);return _super45.call(this)}/* NativeApp */_createClass(NativeApp_IOS,[{key:"__callNative",value:function __callNative(actionId,actionsSetName,actionName,actionArgs){js0.args(arguments,"int","string","string",js0.RawObject);window.webkit.messageHandlers.abNative_IOS.postMessage({messageType:"callNative",actionId:actionId,actionsSetName:actionsSetName,actionName:actionName,actionArgs:actionArgs})}},{key:"__onWebResult",value:function __onWebResult(actionId,result){js0.args(arguments,"int",[js0.RawObject,js0.Null]);window.webkit.messageHandlers.abNative_IOS.postMessage({messageType:"onWebResult",actionId:actionId,result:result})}/* / NativeApp */}]);return NativeApp_IOS}(NativeApp);module.exports=NativeApp_IOS;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-native\WebApp.NativeActionsSet.js
jsLibs.exportModule("ab-native","WebApp.NativeActionsSet",function(require,module,exports){'use strict';var js0=require("js0");var NativeActionsSet=/*#__PURE__*/function(){function NativeActionsSet(actionsSetName,actionsSet){_classCallCheck(this,NativeActionsSet);js0.args(arguments,"string",require("./WebApp.ActionsSet"));this.name=actionsSetName;this.actionsSet=actionsSet}_createClass(NativeActionsSet,[{key:"callWeb",value:function callWeb(actionName,args,callbackFn){js0.args(arguments,"string",js0.RawObject,callbackFn);this.webApp.callWeb(this.name,actionName,args,callbackFn)}},{key:"callWeb_Async",value:function callWeb_Async(actionName,args){var _this50=this;js0.args(arguments,"string",js0.RawObject);return new Promise(function(resolve,reject){try{_this50.webApp.callWeb(_this50.name,actionName,args,function(result){resolve(result)})}catch(e){reject(e)}})}}]);return NativeActionsSet}();module.exports=NativeActionsSet;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-native\NativeApp_Web.js
jsLibs.exportModule("ab-native","NativeApp_Web",function(require,module,exports){'use strict';var js0=require("js0"),NativeApp=require("./NativeApp");var NativeApp_Web=/*#__PURE__*/function(_NativeApp3){_inherits(NativeApp_Web,_NativeApp3);var _super46=_createSuper(NativeApp_Web);function NativeApp_Web(){_classCallCheck(this,NativeApp_Web);return _super46.call(this)}/* NativeApp */_createClass(NativeApp_Web,[{key:"__callNative",value:function __callNative(actionId,actionsSetName,actionName,args){js0.args(arguments,"int","string","string",js0.RawObject);abNative_WebApp.callNative(actionId,actionsSetName,actionName,args)}// __onWebResult(actionId, result)
// {
//     abNative_WebApp.onWebResult(actionId, result);
// }
/* / NativeApp */}]);return NativeApp_Web}(NativeApp);module.exports=NativeApp_Web;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-native\WebApp.ActionsSet.js
jsLibs.exportModule("ab-native","WebApp.ActionsSet",function(require,module,exports){'use strict';var js0=require("js0");"use strict";var ActionsSet=/*#__PURE__*/function(){function ActionsSet(webApp){_classCallCheck(this,ActionsSet);js0.args(arguments,require("./WebApp"));this.webApp=webApp;this._actions_Native={}}_createClass(ActionsSet,[{key:"addNative",value:function addNative(actionName,fn){js0.args(arguments,"string","function");this._actions_Native[actionName]={fn:fn}}},{key:"callWeb",value:function callWeb(actionsSetName,actionName,args,callbackFn){js0.args(arguments,"string",js0.RawObject,callbackFn);this.webApp.callWeb(actionsSetName,actionName,args,callbackFn)}},{key:"hasNative",value:function hasNative(actionName){return actionName in this._actions_Native}},{key:"getNativeInfo",value:function getNativeInfo(actionName){if(!(actionName in this._actions_Native))abNative.errorNative("Action '".concat(actionName,"' does not exist."));return this._actions_Native[actionName]}}]);return ActionsSet}();module.exports=ActionsSet;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-native\WebApp.js
jsLibs.exportModule("ab-native","WebApp",function(require,module,exports){'use strict';var js0=require("js0"),ActionsSet=require("./WebApp.ActionsSet"),NativeActionsSet=require("./WebApp.NativeActionsSet");var WebApp=/*#__PURE__*/function(){function WebApp(){_classCallCheck(this,WebApp);this._actionsSets={};this._onResultListeners={};this._actionId_Last=0}_createClass(WebApp,[{key:"addActionsSet",value:function addActionsSet(actionsSetName,actionsSet){js0.args(arguments,"string",require("./WebApp.ActionsSet"));this._actionsSets[actionsSetName]=actionsSet;return new NativeActionsSet(actionsSetName,actionsSet)}},{key:"callNative",value:function callNative(actionId,actionsSetName,actionName,args,callbackFn){var actionsSet=this.getActionsSet(actionsSetName);if(!actionsSet.hasNative(actionName))throw new Error("Action '".concat(actionName,"' does not exist in Actions Set '").concat(actionsSetName,"'."));var actionInfo=actionsSet.getNativeInfo(actionName);var result=actionInfo.fn(args);abNative.onNativeResult(actionId,result)}},{key:"callWeb",value:function callWeb(actionsSetsName,actionName,args){var callbackFn=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var actionId=++this._actionId_Last;this._onResultListeners[actionId]=callbackFn;abNative.callWeb(actionId,actionsSetsName,actionName,args)}},{key:"createActionsSet",value:function createActionsSet(actionsSetName){return new ActionsSet(this,actionsSetName)}},{key:"getActionsSet",value:function getActionsSet(actionsSetName){if(!(actionsSetName in this._actionsSets))throw new Error("Actions Set '".concat(actionsSetName,"' does not exist."));return this._actionsSets[actionsSetName]}},{key:"onWebResult",value:function onWebResult(actionId,result){this._onResultListeners[actionId](result);delete this._onResultListeners[actionId]}}],[{key:"ActionsSet",get:function get(){return ActionsSet}}]);return WebApp}();module.exports=WebApp;exports=module.exports});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-native\index.js
jsLibs.exportModule("ab-native","index",function(require,module,exports){'use strict';var js0=require("js0");var abNative_Class=/*#__PURE__*/function(){function abNative_Class(){_classCallCheck(this,abNative_Class);this.nativeApp=null;this._actionsSets={};this._initialized=false;this._actionId_Last=0;this._onResultInfos={}}_createClass(abNative_Class,[{key:"ActionsSetDef",get:function get(){return require("./ActionsSetDef")}},{key:"WebApp",get:function get(){return require("./WebApp")}},{key:"addActionsSet",value:function addActionsSet(actionsSetName,actionsSet){var NativeActionsSet=require("./NativeActionsSet");js0.args(arguments,"string",require("./ActionsSetDef"));var nativeActionsSet=new NativeActionsSet(actionsSetName,actionsSet);this._actionsSets[actionsSetName]=actionsSet;return nativeActionsSet}// createActionsSet(actionsSetName)
// {
//     js0.args(arguments, 'string');
//     return new NativeActionsSet(name);
// }
},{key:"callNative_Async",value:function callNative_Async(actionsSetName,actionName){var _this51=this;var args=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var callbackFn=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;js0.args(arguments,"string","string",[js0.RawObject,js0.Default],["function",js0.Null,js0.Default]);return new Promise(function(resolve,reject){try{_this51._callNative(actionsSetName,actionName,args,function(result){resolve(result)})}catch(e){reject(e)}})}},{key:"callWeb",value:function callWeb(actionId,actionsSetName,actionName,args){js0.args(arguments,"int","string","string",js0.RawObject);if(this.nativeApp===null)throw new Error("Platform not set.");if(!this._initialized)throw new Error("'abNative' has not been initialized.");this.nativeApp.callWeb(actionId,actionsSetName,this.getActionSet(actionsSetName).getWebInfo(actionName),args)}},{key:"errorNative",value:function errorNative(message){console.error("Native error:",message)}},{key:"getActionInfo",value:function getActionInfo(actionsSetName,actionName){if(!(actionName in nativeActions.actions_Web))throw new Error("Action '".concat(actionName,"' does not exist."))}},{key:"getActionSet",value:function getActionSet(actionsSetName){if(!(actionsSetName in this._actionsSets))throw new Error("Actions Set '".concat(actionsSetName,"' does not exist."));return this._actionsSets[actionsSetName]}},{key:"init",value:function init(platform){js0.args(arguments,js0.Enum(["web","android","ios"]));if(platform==="web")this.nativeApp=new(require("./NativeApp_Web"));else if(platform==="android")this.nativeApp=new(require("./NativeApp_Android"));else if(platform==="ios")this.nativeApp=new(require("./NativeApp_IOS"));this._initialized=true;// this.nativeApp.init();
}},{key:"onNativeResult",value:function onNativeResult(actionId,result){var _this52=this;var actionInfo=this._onResultInfos[actionId].actionInfo;var parseResultFn=function parseResultFn(result){if(actionInfo.resultArgs!==null){var _errors2=[];if(!js0.type(result,js0.Preset(actionInfo.resultArgs),_errors2)){console.error("Result:",result);console.error(_errors2);throw new Error("Wrong action '".concat(actionInfo.name,"' result."))}}if(_this52._onResultInfos[actionId].callbackFn!==null)_this52._onResultInfos[actionId].callbackFn(result);delete _this52._onResultInfos[actionId]};if(result instanceof Promise){result.then(function(result){parseResultFn(result)})["catch"](function(e){console.error("Cannot parse native result promise:");console.error(e)})}else parseResultFn(result)}},{key:"setPlatform",value:function setPlatform(platform){js0.args(arguments,js0.Enum(["web","android","ios"]));console.log("Platform set: "+platform);this.init(platform)}},{key:"_callNative",value:function _callNative(actionsSetName,actionName){var args=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var callbackFn=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;js0.args(arguments,"string","string",[js0.RawObject,js0.Default],["function",js0.Null,js0.Default]);if(this.nativeApp===null)throw new Error("Platform not set.");if(!this._initialized)throw new Error("'abNative' has not been initialized.");if(!this.getActionSet(actionsSetName).hasNative(actionName)){throw new Error("Action '".concat(actionName,"' does not exist in Actions Set '").concat(actionsSetName,"'."))}var actionInfo=this.getActionSet(actionsSetName).getNativeInfo(actionName);var actionId=++this._actionId_Last;this._onResultInfos[actionId]={actionInfo:actionInfo,callbackFn:callbackFn};this.nativeApp.callNative(actionId,actionsSetName,actionInfo,args)}}]);return abNative_Class}();var abNative=new abNative_Class;module.exports=abNative});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-date\index.js
jsLibs.exportModule("ab-date","index",function(require,module,exports){'use strict';var js0=require("js0");var abDate_Class=/*#__PURE__*/function(){function abDate_Class(){_classCallCheck(this,abDate_Class);this.span_Minute=60;this.span_Hour=60*60;this.span_Day=24*60*60;this.formats_Date="DD.MM.YYYY";this.formats_DateTime="DD.MM.YYYY HH:mm";this.formats_Time="HH:mm";this._utcOffset=0}_createClass(abDate_Class,[{key:"utcOffset",get:function get(){return this._utcOffset},set:function set(value){throw new Error("Read only property.")}},{key:"utcOffset_Time",get:function get(){return this.utcOffset*this.span_Hour}},{key:"format",value:function format(time,_format){var utcOffset=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;utcOffset=utcOffset===null?this.utcOffset:utcOffset;if(time===null)return"-";return moment.utc(time*1000).utcOffset(utcOffset).format(_format)}},{key:"format_Date",value:function format_Date(time){var format=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var utcOffset=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;format=format===null?this.formats_Date:format;utcOffset=utcOffset===null?this.utcOffset:utcOffset;if(time===null)return"-";return moment.utc(time*1000).utcOffset(utcOffset).format(format)}},{key:"format_Date_UTC",value:function format_Date_UTC(time){var format=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return this.format_Date(time,format,0)}},{key:"format_DateTime",value:function format_DateTime(time){var format=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var utcOffset=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;format=format===null?this.formats_DateTime:format;utcOffset=utcOffset===null?this.utcOffset:utcOffset;if(time===null)return"-";return moment.utc(time*1000).utcOffset(utcOffset).format(format)}},{key:"format_DateTime_UTC",value:function format_DateTime_UTC(time){var format=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return this.format_DateTime(time,format,0)}},{key:"format_Time",value:function format_Time(time){var format=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var utcOffset=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;format=format===null?this.formats_Time:format;utcOffset=utcOffset===null?this.utcOffset:utcOffset;if(time===null)return"-";/* UTC because we are interested only in day. */return moment.utc(time*1000).utcOffset(utcOffset).format(format)}},{key:"format_Time_UTC",value:function format_Time_UTC(time){var format=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return this.format_Time(time,format,0)}},{key:"getDate",value:function getDate(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);if(time===null)return new Date;return new Date(time*1000)}},{key:"getDay",value:function getDay(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);if(time===null)time=this.getTime();return this.getDay_UTC(time+this.utcOffset_Time)-this.utcOffset_Time}},{key:"getDay_UTC",value:function getDay_UTC(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);if(time===null)time=this.getTime();// return Math.floor(time / this.span_Day) * this.span_Day;
return time-time%this.span_Day}},{key:"getDayOfWeek",value:function getDayOfWeek(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);if(time===null)time=this.getTime();time+=this.utcOffset_Time;return this.getDayOfWeek_UTC(time)}},{key:"getDayOfWeek_UTC",value:function getDayOfWeek_UTC(time){js0.args(arguments,["number",js0.Null,js0.Default]);var date=new Date(time*1000);return date.getUTCDay()}},{key:"getDayNr",value:function getDayNr(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);if(time===null)time=this.getTime();time+=this.utcOffset_Time;return this.getDayNr_UTC(time)}},{key:"getDayNr_UTC",value:function getDayNr_UTC(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);if(time===null)time=this.getTime();return this.getDate(time).getUTCDate()-1}},{key:"getDaysCountInMonth",value:function getDaysCountInMonth(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);if(time===null)time=this.getTime();time+=this.utcOffset_Time;return this.getDaysCountInMonth_UTC(time)}},{key:"getDaysCountInMonth_UTC",value:function getDaysCountInMonth_UTC(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);if(time===null)time=abDate.getTime();var year=this.getYearNr_UTC(time);var month=this.getMonthNr_UTC(time);return new Date(year,month+1,0).getDate()}},{key:"getMonth",value:function getMonth(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);return this.getDay(time)-this.getDayNr(time)*this.span_Day}},{key:"getMonth_UTC",value:function getMonth_UTC(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);return this.getDay_UTC(time)-this.getDayNr_UTC(time)*this.span_Day}},{key:"getMonthNr",value:function getMonthNr(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);if(time===null)time=this.getTime();time+=this.utcOffset_Time;return this.getMonthNr_UTC(time)}},{key:"getMonthNr_UTC",value:function getMonthNr_UTC(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);if(time===null)time=this.getTime();return this.getDate(time).getUTCMonth()}},{key:"getTime",value:function getTime(){var date=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date;js0.args(arguments,[Date,js0.Default]);return Math.floor(date.getTime()/1000)}},{key:"getTime_Rel",value:function getTime_Rel(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Default]);if(time===null)time=this.getTime();return time-this.utcOffset_Time}},{key:"getYearNr",value:function getYearNr(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);if(time===null)time=this.getTime();time+=this.utcOffset_Time;return this.getYearNr_UTC(time)}},{key:"getYearNr_UTC",value:function getYearNr_UTC(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;js0.args(arguments,["number",js0.Null,js0.Default]);if(time===null)time=abDate.getTime();return this.getDate(time).getUTCFullYear()}},{key:"setUTCOffset",value:function setUTCOffset(utcOffset){js0.args(arguments,"int");this._utcOffset=utcOffset}},{key:"strToTime",value:function strToTime(str,timeFormat){return moment.utc(str,timeFormat).toDate().getTime()/1000-this.utcOffset_Time}},{key:"strToTime_UTC",value:function strToTime_UTC(str,timeFormat){return moment.utc(str,timeFormat).toDate().getTime()/1000}},{key:"strToTime_Date",value:function strToTime_Date(str){if(str==="")return null;return moment.utc(str,this.formats_Date).toDate().getTime()/1000-this.utcOffset_Time}},{key:"strToTime_Date_UTC",value:function strToTime_Date_UTC(str){if(str==="")return null;return moment.utc(str,this.formats_Date).toDate().getTime()/1000}},{key:"strToTime_DateTime",value:function strToTime_DateTime(str){if(str==="")return null;return moment.utc(str,this.formats_DateTime).toDate().getTime()/1000-this.utcOffset_Time}},{key:"strToTime_DateTime_UTC",value:function strToTime_DateTime_UTC(str){if(str==="")return null;return moment.utc(str,this.formats_DateTime).toDate().getTime()/1000}},{key:"strToTime_Time",value:function strToTime_Time(str){if(str==="")return null;var timestamp=moment.utc(str,this.formats_Time).toDate().getTime()/1000-this.utcOffset_Time;return timestamp%this.span_Day}},{key:"strToTime_Time_UTC",value:function strToTime_Time_UTC(str){if(str==="")return null;var timestamp=moment.utc(str,this.formats_Time).toDate().getTime()/1000;return timestamp%this.span_Day}}]);return abDate_Class}();module.exports=new abDate_Class});// File: C:\SfTd\AllBlue\Projects\Rocko\git\allblue_rocko_betas_app\electron\web-app\tmp\ab-web\js-libs\ab-cookies\index.js
jsLibs.exportModule("ab-cookies","index",function(require,module,exports){'use strict';var js0=require("js0");var abCookies_Class=/*#__PURE__*/function(){function abCookies_Class(){_classCallCheck(this,abCookies_Class)}_createClass(abCookies_Class,[{key:"delete",value:function _delete(name){}},{key:"exists",value:function exists(name){return this.getString(name)!==null}},{key:"get",value:function get(name){var defaultValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;var cookieStr=this.getString(name);if(cookieStr===null){if(_typeof(defaultValue)!==undefined)return defaultValue;throw new Error("Cookie '".concat(name,"' does not exist."))}try{var cookieJSON=JSON.parse(decodeURIComponent(cookieStr));return cookieJSON.value}catch(err){console.error(err);throw new Error("AB Cookie not properly formatted.")}}},{key:"getString",value:function getString(name){var cookieName=name+"=";var cookieStrsArr=document.cookie.split(";");var _iterator83=_createForOfIteratorHelper(cookieStrsArr),_step83;try{for(_iterator83.s();!(_step83=_iterator83.n()).done;){var cookieStr=_step83.value;while(cookieStr.charAt(0)===" "){cookieStr=cookieStr.substring(1)}if(cookieStr.indexOf(name)!==0)continue;return cookieStr.substring(name.length+1,cookieStr.length)}}catch(err){_iterator83.e(err)}finally{_iterator83.f()}return null}},{key:"set",value:function set(name,value){var settings=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};js0.args(arguments,"string",null,js0.Preset({expires:["number",js0.Null,js0.Default(null)],domain:["string",js0.Null,js0.Default(null)],path:["string",js0.Default("/")]},settings));var cookieStr="";/* Value */cookieStr+=name+"="+encodeURIComponent(JSON.stringify({value:value}))+"; ";/* Path */cookieStr+="path="+settings.path+"; ";/* Expires */if(settings.expires!==null){var expiresTime=Math.round(new Date().getTime()/1000)+settings.expires;cookieStr+="expires="+new Date(expiresTime*1000).toUTCString()+"; "}/* Domain */if(settings.domain!==null){cookieStr+="domain="+settings.domain+"; "}document.cookie=cookieStr}}]);return abCookies_Class}();var abCookies=new abCookies_Class;module.exports=abCookies});

//# sourceMappingURL=./script.min.js.map